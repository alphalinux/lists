<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>SuSE AXP: [suse-axp] gettimeofday resolution</TITLE>
<META NAME="Author" CONTENT="Alex Rhomberg (rhomberg@ife.ee.ethz.ch)">
<META NAME="Subject" CONTENT="[suse-axp] gettimeofday resolution">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>[suse-axp] gettimeofday resolution</H1>
<HR>
<P>
<!-- received="Thu Mar 23 13:30:41 2000" -->
<!-- isoreceived="20000323213041" -->
<!-- sent="Thu, 23 Mar 2000 12:25:56 +0100" -->
<!-- isosent="20000323112556" -->
<!-- name="Alex Rhomberg" -->
<!-- email="rhomberg@ife.ee.ethz.ch" -->
<!-- subject="[suse-axp] gettimeofday resolution" -->
<!-- id="38D9FF44.62F0B1A@ife.ee.ethz.ch" -->
<STRONG>Subject: </STRONG>[suse-axp] gettimeofday resolution<BR>
<STRONG>From: </STRONG>Alex Rhomberg (<EM>rhomberg@ife.ee.ethz.ch</EM>)<BR>
<STRONG>Date: </STRONG>Thu Mar 23 2000 - 03:25:56 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#114">[ date ]</A>
<A HREF="index.html#114">[ thread ]</A>
<A HREF="subject.html#114">[ subject ]</A>
<A HREF="author.html#114">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0115.html">Alex Rhomberg: "[suse-axp] Re: RTC-Clock misfunction on AS 400"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0113.html">Ruediger Oertel: "Re: [suse-axp] Re: RTC-Clock misfunction on AS 400"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I use gettimeofday for time measurement.
<BR>
On my PWS500a with RH 6.1, this works fine, giving me us resolution.
<BR>
A test on UP2000 with SuSE 6.1 returns the same time every time, with
<BR>
1ms jumps
<BR>
<P>The following program outputs 1 or 2 us on PWS/RH and 980 on UP2000
<BR>
/SuSE
<BR>
<P>could somebody please test this and report if they can pinpoint the
<BR>
difference?
<BR>
<P>Thanks
<BR>
Alex
<BR>
<P>#include &lt;time.h&gt;				// for gettimeofday
<BR>
#include &lt;sys/time.h&gt;
<BR>
#include &lt;stdio.h&gt;
<BR>
<P>int main(int argc, char**argv)
<BR>
{
<BR>
&nbsp;&nbsp;struct timeval  tv1, tv2;
<BR>
&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;gettimeofday(&amp;tv1, NULL);
<BR>
&nbsp;&nbsp;do {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;gettimeofday(&amp;tv2, NULL);
<BR>
&nbsp;&nbsp;} while (tv1.tv_usec == tv2.tv_usec);
<BR>
<P>&nbsp;&nbsp;printf(&quot;Difference: %d us\n&quot;, tv2.tv_usec - tv1.tv_usec + 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1000000 * (tv2.tv_sec - tv1.tv_sec));
<BR>
<P>&nbsp;&nbsp;return 0;
<BR>
}
<BR>
<P><PRE>
-- 
To unsubscribe, e-mail: suse-axp-unsubscribe@suse.com
For additional commands, e-mail: suse-axp-help@suse.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0115.html">Alex Rhomberg: "[suse-axp] Re: RTC-Clock misfunction on AS 400"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0113.html">Ruediger Oertel: "Re: [suse-axp] Re: RTC-Clock misfunction on AS 400"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Apr 01 2000 - 04:15:05 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
