<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>SuSE AXP: Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O b</TITLE>
<META NAME="Author" CONTENT="Stefan Fent (sf@suse.de)">
<META NAME="Subject" CONTENT="Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?</H1>
<HR>
<P>
<!-- received="Mon Jun 18 13:07:11 2001" -->
<!-- isoreceived="20010618200711" -->
<!-- sent="Mon, 18 Jun 2001 14:44:40 +0200 (CEST)" -->
<!-- isosent="20010618124440" -->
<!-- name="Stefan Fent" -->
<!-- email="sf@suse.de" -->
<!-- subject="Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?" -->
<!-- id="Pine.LNX.4.32.0106181443080.25832-200000@d121.suse.de" -->
<!-- inreplyto="Pine.LNX.4.30.0106181407490.4768-200000@slater.t30.physik.tu-muenchen.de" -->
<STRONG>Subject: </STRONG>Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?<BR>
<STRONG>From: </STRONG>Stefan Fent (<EM>sf@suse.de</EM>)<BR>
<STRONG>Date: </STRONG>Mon Jun 18 2001 - 05:44:40 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#22">[ date ]</A>
<A HREF="index.html#22">[ thread ]</A>
<A HREF="subject.html#22">[ subject ]</A>
<A HREF="author.html#22">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0023.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0021.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0021.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0023.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0021.html">Stefan Fent: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Mon, 18 Jun 2001, Markus Lischka wrote:
<BR>
<P><EM>&gt; On Mon, 18 Jun 2001, Stefan Fent wrote:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; This seems to be an older problem, will be officially fixed in 2.4.6.
</EM><BR>
<EM>&gt; &gt; The solution (only tested with your little program) is the attached patch
</EM><BR>
<EM>&gt; &gt; of asm-alpha/fcntl.h
</EM><BR>
<EM>&gt; The patch was somehow missing in your email :-(
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; In the meantime, we discovered probably the same error in
</EM><BR>
<EM>&gt; asm-alpha/fcntl.h (patch attached). It's just that I do not have access
</EM><BR>
<EM>&gt; to any current Digital Unix box, so the value for O_DIRECT might need
</EM><BR>
<EM>&gt; to be adjusted for full compatibility (?).
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; &gt; Furthermore, the 2.4 kernel does not properly reboot/halt the machine on
</EM><BR>
<EM>&gt; &gt; &gt; our AS 400 (the XP1000 reboots fine). Instead of returning to the SRM
</EM><BR>
<EM>&gt; &gt; &gt; console, it just beeps twice and starts blinking the keyboard LEDs
</EM><BR>
<EM>&gt; &gt; &gt; forever. Any known workarounds?
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; No, I've got similar problems on a LX164 (It stops with a double error),
</EM><BR>
<EM>&gt; &gt; all Boards &gt;=EV6 seem to work.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Are the SuSE 2.2.19 kernel sources somewhere on the 7.1 CDs? Somehow I
</EM><BR>
<EM>&gt; cannot find them.
</EM><BR>
<P>Yes, the 2.2.19-Sources are in the package lx_sus22.rpm, for 2.4.4 it's
<BR>
lx_sus24.rpm.
<BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Regards,
</EM><BR>
<EM>&gt; Markus Lischka
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; ----------------------------------------------------------------------
</EM><BR>
<EM>&gt; email: mlischka@physik.tu-muenchen.de                   Markus Lischka
</EM><BR>
<EM>&gt; www  : <A HREF="http://www.ph.tum.de/~mlischka">http://www.ph.tum.de/~mlischka</A>           Physics Department T30
</EM><BR>
<EM>&gt; phone: (0 89) 2 89-1 43 30                         James-Franck-Str. 1
</EM><BR>
<EM>&gt; fax  : (0 89) 2 89-1 22 96                            D-85747 Garching
</EM><BR>
<EM>&gt; ----------------------------------------------------------------------
</EM><BR>
<EM>&gt;
</EM><BR>
<P>Mit freundlichen Grüssen / With kind regards,
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stefan Fent
<BR>
<P><PRE>
-- 
SuSE GmbH,             Tel:   +49-911-7405331
Schanzaeckerstr. 10,   Fax:   +49-911-3206727
90443 Nuernberg,       Email: sf@suse.de
Germany                WWW:   <A HREF="http://www.suse.de">http://www.suse.de</A>
<P> warning: declaration does not declare anything
<P><P></PRE>
<HR>
<UL>
<LI>TEXT/PLAIN attachment: <A HREF="att-bin4CC84KZ">stored</A>
</UL>
<!-- attachment="att-bin4CC84KZ" -->
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0023.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0021.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0021.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0023.html">Markus Lischka: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0021.html">Stefan Fent: "Re: [suse-axp] Kernel 2.4 problems: Synchronous I/O bug?"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Jul 05 2001 - 05:45:32 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
