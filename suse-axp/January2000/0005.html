<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>SuSE AXP: [suse-axp] alpha-assembler</TITLE>
<META NAME="Author" CONTENT="Rudolf Seemann (a9500918@unet.univie.ac.at)">
<META NAME="Subject" CONTENT="[suse-axp] alpha-assembler">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>[suse-axp] alpha-assembler</H1>
<HR>
<P>
<!-- received="Mon Jan 10 14:35:57 2000" -->
<!-- isoreceived="20000110223557" -->
<!-- sent="Sun, 9 Jan 2000 10:44:23 +0100" -->
<!-- isosent="20000109094423" -->
<!-- name="Rudolf Seemann" -->
<!-- email="a9500918@unet.univie.ac.at" -->
<!-- subject="[suse-axp] alpha-assembler" -->
<!-- id="002701bf5a86$37ce07b0$0101a8c0@cellula" -->
<STRONG>Subject: </STRONG>[suse-axp] alpha-assembler<BR>
<STRONG>From: </STRONG>Rudolf Seemann (<EM>a9500918@unet.univie.ac.at</EM>)<BR>
<STRONG>Date: </STRONG>Sun Jan 09 2000 - 01:44:23 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#5">[ date ]</A>
<A HREF="index.html#5">[ thread ]</A>
<A HREF="subject.html#5">[ subject ]</A>
<A HREF="author.html#5">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0006.html">Mattias Hermansson: "[suse-axp] IRQ"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0004.html">Rudolf Seemann: "Re: [suse-axp] Alpha-assembler"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I hope that nobody is disturbed by our emails on this topic.
<BR>
<P>To Igor, Duane and Rich:
<BR>
<P>I working on a 164 SX. A little introduction to our project: The experiences
<BR>
I made with the alpha RISC processor are based on the first book I told you.
<BR>
Assembling on Alpha is much easier than on the x86 architecture. Adressing
<BR>
modes and opcodes are simpler and fewer!!
<BR>
<P>Our first program: All algorithms will be based on &quot;the Art of Computer
<BR>
Programming&quot; which is the bible for assembler algorithms. The programs are
<BR>
written in MIXAL (MIX assembler) which is an easy to comprehend assembler.
<BR>
The opcodes are easy to translate, the addressing modes are different from
<BR>
the alpha, the registers are fewer and different to address than the alpha.
<BR>
The first source code to translate is the &quot;print table of 500 primes&quot;  on
<BR>
page 148, volume I (the art of computer programming).
<BR>
Write me when you have got the program source, so we can start!
<BR>
<P>[... I had big troubles while using the pseudoopcode divq. The program I
<BR>
wrote stopped execution without any error at the &quot;divq ...&quot; line. So I
<BR>
suggest to use the following function for dividing:
<BR>
1.) conversion from integer to floating point because there is no hardware
<BR>
implementation of integer division.
<BR>
2.) division in the floating point registers which is supported by the
<BR>
hardware.
<BR>
3.) conversion from floating point to integer.
<BR>
the function should divide the integer in register 16 by the integer in
<BR>
register 17 and store the result in register 0:
<BR>
<P>stq $16, temp1 # save integer in main memory
<BR>
stq $17, temp2 # this is a must because there is no direct conversion from
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# integer to floating point regs
<BR>
ldt $f2,temp1   # load the integer into a floating point reg
<BR>
ldt $f3,temp2
<BR>
cvtqt $f2,$f2    # conversion quadword to floating point
<BR>
cvtqt $f3,$f3
<BR>
divt $f2,$f3,$f4 # division
<BR>
cvttq $f4,$f4   # conversion floating point to quadword
<BR>
stt $f4,temp3  # store result in main memory
<BR>
ldq $0,temp3  # load result
<BR>
<P>Tell me if you have a better solution! ...]
<BR>
<P>rudi
<BR>
<P>ps I attached the the first release of the opcode manual. It is not complete
<BR>
and has to be rewritten because of the copyrights (it is a copy of the
<BR>
tables in the RISC book). For the moment it should provide a practical
<BR>
alternative to leaf through the RISC book.
<BR>
<P><P><HR>
<UL>
<LI>text/x-vcard attachment: <A HREF="att-bin0qquduE">Rudolf_Seemann.vcf</A>
</UL>
<!-- attachment="att-bin0qquduE" -->
<P><HR>
<UL>
<LI>application/octet-stream attachment: <A HREF="att-bin1SWzgba">assembler.2</A>
</UL>
<!-- attachment="att-bin1SWzgba" -->
<P><P>
<PRE>
-- 
To unsubscribe, e-mail: suse-axp-unsubscribe@suse.com
For additional commands, e-mail: suse-axp-help@suse.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0006.html">Mattias Hermansson: "[suse-axp] IRQ"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0004.html">Rudolf Seemann: "Re: [suse-axp] Alpha-assembler"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Feb 01 2000 - 05:33:35 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
