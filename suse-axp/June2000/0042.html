<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>SuSE AXP: [suse-axp] Kernel 2.2.16 and after for Linux-Alpha wi</TITLE>
<META NAME="Author" CONTENT="G. Hugh Song (hugh@lucia.kjist.ac.kr)">
<META NAME="Subject" CONTENT="[suse-axp] Kernel 2.2.16 and after for Linux-Alpha with aboot">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>[suse-axp] Kernel 2.2.16 and after for Linux-Alpha with aboot</H1>
<HR>
<P>
<!-- received="Thu Jun 29 06:54:37 2000" -->
<!-- isoreceived="20000629135437" -->
<!-- sent="Thu, 29 Jun 2000 15:37:16 +0900 (KST)" -->
<!-- isosent="20000629063716" -->
<!-- name="G. Hugh Song" -->
<!-- email="hugh@lucia.kjist.ac.kr" -->
<!-- subject="[suse-axp] Kernel 2.2.16 and after for Linux-Alpha with aboot" -->
<!-- id="Pine.LNX.4.10.10006291513530.4221-100000@lucia.kjist.ac.kr" -->
<STRONG>Subject: </STRONG>[suse-axp] Kernel 2.2.16 and after for Linux-Alpha with aboot<BR>
<STRONG>From: </STRONG>G. Hugh Song (<EM>hugh@lucia.kjist.ac.kr</EM>)<BR>
<STRONG>Date: </STRONG>Wed Jun 28 2000 - 23:37:16 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#42">[ date ]</A>
<A HREF="index.html#42">[ thread ]</A>
<A HREF="subject.html#42">[ subject ]</A>
<A HREF="author.html#42">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0043.html">G. Hugh Song: "[suse-axp] Re: 2.2.17pre6 on UP2000 with SRM console"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0041.html">Iwao MAKINO: "Re: [suse-axp] can't boot new kernel on up1000"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I found the following surprising remark made by the maintainer of Aboot,
<BR>
Mr. David Higgins:
<BR>
<P><EM>&gt; This includes patches from Matt Wilson &lt;msw@redhat.com&gt; to fix 
</EM><BR>
<EM>&gt; compilation with Linux 2.3 kernel headers and a problem with the 
</EM><BR>
<EM>&gt; vsprintf() implementation, as well as a patch to the &quot;raw kernel&quot; 
</EM><BR>
<EM>&gt; mode. I've also removed the copy of the SRM HOWTO, since it will 
</EM><BR>
<EM>&gt; inevitably be out of date with respect to the official copy on 
</EM><BR>
<EM>&gt; www.alphalinux.org. 
</EM><BR>
<EM>&gt; With regard to the &quot;raw kernel&quot; mode: If you were previously &quot;raw 
</EM><BR>
<EM>&gt; booting&quot; by concatenating a kernel stripped of its ELF/a.out headers 
</EM><BR>
<EM>&gt; with aboot and writing it to the boot sectors with swriteboot, this 
</EM><BR>
<EM>&gt; broke as of 0.7. This works again in 0.7a, but requires a valid ELF 
</EM><BR>
<EM>&gt; binary image for the kernel, which I think makes more sense anyway. 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I hope to rewrite the disk-loading code soon so that you can use a 
</EM><BR>
<EM>&gt; compressed kernel, and hopefully fix net_aboot while I'm at it :-)
</EM><BR>
<P>I myself noticed that there is something new in 2.2.16 about dual header
<BR>
format, which I cannot understand at all.
<BR>
<P>It appears that mere mortals like me is not supposed to tamper with aboot.
<BR>
Then, it also means that I am not supposed to compile new versions of 
<BR>
the kernel on an alpha with SRM-console.
<BR>
<P>Let me report my current problem with kernel-2.2.16 or newer on a
<BR>
UP2000 (obviously with an SRM console and aboot).  I successfully 
<BR>
compiled my own kernels up to the version 2.2.15.  Now with 2.2.16
<BR>
I am getting:
<BR>
<P>---------------------------------
<BR>
failed to send Read to dka0.0.0.8.1
<BR>
failed to send Read to dka0.0.0.8.1 
<BR>
failed to send Read to dka0.0.0.8.1 
<BR>
failed to send Read to dka0.0.0.8.1 
<BR>
ext2_blkno: error on iblk read
<BR>
failed to send Read to dka0.0.0.8.1 
<BR>
failed to send Read to dka0.0.0.8.1
<BR>
failed to send Read to dka0.0.0.8.1
<BR>
failed to send Read to dka0.0.0.8.1
<BR>
<P>[ it goes on forever ]
<BR>
-----------------------------------
<BR>
<P>The above lines are all blue.  That means that it is still on the SRM 
<BR>
console.  Something really changed compressed kernels out of 2.2.16
<BR>
from that out of 2.2.15.  Any clue?  I have not seen any relevant info
<BR>
in the kernel revision note written by Alan Cox about this header problem.
<BR>
Do I need to update aboot myself to use an Alpha machine effectively?
<BR>
I wish I could rely on the new installation CDROM for these things.
<BR>
This means that I am not supposed to compile newer kernels as needed.
<BR>
<P>Why am I getting the above SRM error?  I got completely stuck.
<BR>
<P>Thank you
<BR>
<P>G. Hugh Song
<BR>
<P><P><P><PRE>
-- 
To unsubscribe, e-mail: suse-axp-unsubscribe@suse.com
For additional commands, e-mail: suse-axp-help@suse.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0043.html">G. Hugh Song: "[suse-axp] Re: 2.2.17pre6 on UP2000 with SRM console"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0041.html">Iwao MAKINO: "Re: [suse-axp] can't boot new kernel on up1000"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Jul 01 2000 - 05:31:32 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
