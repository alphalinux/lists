<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>SuSE AXP: Re: [suse-axp] FW: [suse-axp] Getting &quot;Block 0 n</TITLE>
<META NAME="Author" CONTENT="Ruediger Oertel (ro@suse.de)">
<META NAME="Subject" CONTENT="Re: [suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error</H1>
<HR>
<P>
<!-- received="Wed Jun 14 11:30:23 2000" -->
<!-- isoreceived="20000614183023" -->
<!-- sent="Tue, 13 Jun 2000 19:51:05 +0200 (MEST)" -->
<!-- isosent="20000613175105" -->
<!-- name="Ruediger Oertel" -->
<!-- email="ro@suse.de" -->
<!-- subject="Re: [suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error" -->
<!-- id="Pine.LNX.4.21.0006131939530.30086-100000@fatou.suse.de" -->
<!-- inreplyto="000b01bfd546$ba2ecec0$921f43a7@pc01319.emd.com" -->
<STRONG>Subject: </STRONG>Re: [suse-axp] FW: [suse-axp] Getting "Block 0 not valid boot block" error<BR>
<STRONG>From: </STRONG>Ruediger Oertel (<EM>ro@suse.de</EM>)<BR>
<STRONG>Date: </STRONG>Tue Jun 13 2000 - 10:51:05 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#14">[ date ]</A>
<A HREF="index.html#14">[ thread ]</A>
<A HREF="subject.html#14">[ subject ]</A>
<A HREF="author.html#14">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0015.html">William H. Magill: "[suse-axp] Fdisk behavior is wrong in 6.3 ???"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0013.html">Jim Hoepner: "[suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0013.html">Jim Hoepner: "[suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0013.html">Ruediger Oertel: "Re: [suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>I've added comments below...
<BR>
<P>On Tue, 13 Jun 2000, Jim Hoepner wrote:
<BR>
<P><EM>&gt; Thanks for the info.  I re-ran my install last night, got
</EM><BR>
<EM>&gt; block0 formated and recognized as a valid boot sector but
</EM><BR>
<EM>&gt; then it stops on the following process:  aboot: (loading PAL
</EM><BR>
<EM>&gt; or something - didn't write it down)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; error 5
</EM><BR>
<EM>&gt; HALT
</EM><BR>
<EM>&gt; something
</EM><BR>
<EM>&gt; CP something
</EM><BR>
this looks like a real strange error, but in most cases this just
<BR>
means that the boot-loader could not find/start your boot image,
<BR>
see below.
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Could you take a look at my install procedure and see if I
</EM><BR>
<EM>&gt; missed something or am in error somewhere?  It looks to me
</EM><BR>
<EM>&gt; like either step 6 and/or 13b are wrong???  Also, I'm not
</EM><BR>
<EM>&gt; sure about step 13c.  I got the swriteboot command from
</EM><BR>
<EM>&gt; <A HREF="http://artists.at/alphalinux/">http://artists.at/alphalinux/</A> compliments of Martin Tanzer.
</EM><BR>
<EM>&gt; It took the command ok though.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Here's my 'SuSE-AXP 6.3' install sequence:
</EM><BR>
<EM>&gt; 	- CPU: Digital AlphaStation 200
</EM><BR>
<EM>&gt; 		- SuSE-AXP 6.3 Manual/Page14
</EM><BR>
<EM>&gt; 			- Family/Model: 	AS 200 4/233
</EM><BR>
<EM>&gt; 			- Aliases:		MUSTANG
</EM><BR>
<EM>&gt; 			- BootDis-Image:	Avanti
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
</EM><BR>
<EM>&gt; STEP	CONSOLE  COMMAND			DESCRIPTION
</EM><BR>
<EM>&gt; 1						insert CD 1 / powerup
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 2	SRM	   'show dev'		dka200 is my scsi CD
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 3	SRM	   'boot dka200 -fl 0'	boot from CD
</EM><BR>
<EM>&gt; or
</EM><BR>
<EM>&gt; 3	SRM	   'boot dka200 -file /vmlinux.gz -flags 0'
</EM><BR>
ok, so you are using SRM and not the arc/Milo variant.
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; 4	LINUXRC  	select LANGUAGE
</EM><BR>
<EM>&gt; 4a	LINUXRC	select COLOR
</EM><BR>
<EM>&gt; 4b	LINUXRC	select 'Start installation / System'
</EM><BR>
<EM>&gt; 4c	LINUXRC	select 'Start installation'
</EM><BR>
<EM>&gt; 4d	LINUXRC	select 'Install from 'CD-ROM'
</EM><BR>
<EM>&gt; 4e	LINUXRC	select 'Install Linux from scratch'
</EM><BR>
<EM>&gt; 	See SuSE-AXP 6.3 Manual/Page17-22 for screenshots.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 5	ALT+F2   #/: fdisk		create BSD partitions
</EM><BR>
<EM>&gt; 5a	fdisk	   b				BSD partitioning menu
</EM><BR>
<EM>&gt; 5b	fdisk	   p				look at partition tbl
</EM><BR>
<EM>&gt; 5c	fdisk	   d				delete partitions
</EM><BR>
<EM>&gt; 5d	fdisk	   n				create partition tbl
</EM><BR>
<EM>&gt; 			a:Cyl 1-2, type boot (d)
</EM><BR>
you won't need this first partition, just some empty space.
<BR>
It is not really wrong to have it, but just be warned of a problem
<BR>
that has bitten me many times: If you try to format this boot-partition
<BR>
with ext2, older version of mke2fs will happily erase your disk label...
<BR>
<P><EM>&gt; 			b:Cyl 3-1024, type ext2 (8)
</EM><BR>
<EM>&gt; 			c:Cyl 1025-1280, type swap (1)
</EM><BR>
<EM>&gt;  			d:Cyl 1281-8347, type ext2 (8)
</EM><BR>
these look perfect.
<BR>
<EM>&gt; 5e	fdisk	   w				write partition to disk
</EM><BR>
<EM>&gt; 5f	fdisk	   q				quit fdisk
</EM><BR>
<EM>&gt; The manual did'nt say to do step 6 but this was the only way
</EM><BR>
<EM>&gt; I could get YaST to recognize my swap partitions.  So, I am
</EM><BR>
<EM>&gt; thinking I maybe should be doing something else in place of
</EM><BR>
<EM>&gt; step 6?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 6	fdisk   #/: fdisk			restart fdisk to create
</EM><BR>
<EM>&gt; 						partitions 1-4
</EM><BR>
<EM>&gt; 6b	fdisk	   p				see if partitions exist
</EM><BR>
<EM>&gt; 6c	fdisk	   d				delete partitions
</EM><BR>
<EM>&gt; 6d	fdisk	   n				create new partition tbl
</EM><BR>
<EM>&gt; 			1:Cyl 1-2, type Linux native' (83)
</EM><BR>
<EM>&gt; 			2:Cyl 3-1024, type Linux native' (83)
</EM><BR>
<EM>&gt; 			3:Cyl 1025-1280, type Linux swap' (82)
</EM><BR>
<EM>&gt;  			4:Cyl 1281-8347, type Linux native' (83)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 6c	fdisk	   t				partition 1 boot flag
</EM><BR>
<EM>&gt; 6e	fdisk	   w				writes partition to disk
</EM><BR>
<EM>&gt; 6f	fdisk	   q				quit fdisk
</EM><BR>
<EM>&gt; 6g	ALT-F1				go back to YaST
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 7		   SHUTDOWN / RESTART
</EM><BR>
<EM>&gt; 7a						Repeat steps: 1-4e
</EM><BR>
<EM>&gt; 						boots to YaST
</EM><BR>
<EM>&gt; 						swap is recognized
</EM><BR>
I should be possible to just leave YaST, back into linuxrc and re-start
<BR>
YaST again: it will scan the existing partitions during startup.
<BR>
<P><EM>&gt; 	When YaST starts choose 'DO NOT PARTITION' and it
</EM><BR>
<EM>&gt; 	finds the partitions created in step 6.  I just hit
</EM><BR>
<EM>&gt; 	&lt;CONTINUE&gt; to move out of the 'EDITING THE PARTITION
</EM><BR>
<EM>&gt; 	TABLE' menu to the 'CREATING FILESYSTEMS' menu on page
</EM><BR>
<EM>&gt; 	45 of the SuSE-AXP 6.3 Manual.
</EM><BR>
<EM>&gt; 7b	YaST	   F5		Set / and /root &quot;block size&quot; to 1024
</EM><BR>
<EM>&gt; 7c	YaST	   F4		Set mount points
</EM><BR>
<EM>&gt; 					sda1	/boot
</EM><BR>
<EM>&gt; 					sda2	/
</EM><BR>
<EM>&gt; 					sda4	/usr
</EM><BR>
<EM>&gt; 7d	YaST	   F6		Choose 'NORMAL' format all sectors
</EM><BR>
<EM>&gt; 7c	YaST	   		Press &lt;CONTINUE&gt; to format and boot
</EM><BR>
<EM>&gt; 				to 'Installation' screen.  See
</EM><BR>
<EM>&gt; 				SuSE-AXP 6.3 Manual/Page23.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 8	YaST	   Select 'Load Configuration'
</EM><BR>
<EM>&gt; 8a	YaST	   Just installed the minimum for now.
</EM><BR>
<EM>&gt; 			- SuSE Minimal
</EM><BR>
<EM>&gt; 			- SuSE Default
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 9					Remove CD's and prepare for
</EM><BR>
<EM>&gt; 					initial system start.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 10	YaST				Yast reboots and now I input the
</EM><BR>
<EM>&gt; 					configuration settings.
</EM><BR>
<EM>&gt; 			Set 'TIMEZONE'
</EM><BR>
<EM>&gt; 			Set 'HOSTNAME'
</EM><BR>
<EM>&gt; 			Set 'SENDMAIL CONFIGURATION'
</EM><BR>
<EM>&gt; 			Set 'MODEM CONFIGURATION'
</EM><BR>
<EM>&gt; 			Set 'MOUSE CONFIGURATION'
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 11	YaST				Yast boots system.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 12	SuSE	   'rpm -q aboot'	Make sure aboot is installed.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 13	SuSE	   'cp /etc/aboot.conf /etc/aboot.conf.original
</EM><BR>
<EM>&gt; 13a		   'jed /etc/aboot.conf
</EM><BR>
<EM>&gt; 13b		   Create Entry:  0:2/boot/vmlinuz.gz ro root=/dev/sda2
</EM><BR>
<EM>&gt; 					NOTE: I think the above entry should be:
</EM><BR>
<EM>&gt; 					0:2/boot/bootlx ro root=/dev/sda2
</EM><BR>
<EM>&gt; 13c	SuSE	   'swriteboot -fl /dev/sda /boot/linux'
</EM><BR>
no, just the other way around:
<BR>
&quot;swriteboot -fl /dev/sda /boot/bootlx&quot;
<BR>
to write the boot-loader to the start of the disk.
<BR>
The path to the kernel-image is correct in /etc/aboot.conf
<BR>
<P><P><EM>&gt; 
</EM><BR>
<EM>&gt; 14		   			SHUTDOWN / RESTART
</EM><BR>
<EM>&gt; 					NOTE: When YaST restarts it gets stuck at 						SRM
</EM><BR>
<EM>&gt; menu again.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 15	SRM	   &gt;&gt;&gt;set boot_file 2/boot/bootlx
</EM><BR>
<EM>&gt; 15a	SRM	   &gt;&gt;&gt;set bootdef_dev dka0
</EM><BR>
<EM>&gt; 15c	SRM	   &gt;&gt;&gt;set boot_osflags &quot;root=/dev/sda2&quot;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 16	SRM	   &gt;&gt;&gt;boot dka0 -file /boot/bootlx
</EM><BR>
<P>basically &quot;boot_file&quot; should be empty and &quot;boot_osflags&quot; should be set to &quot;0&quot;
<BR>
to have aboot read it's configuration and use the &quot;0:&quot; line.
<BR>
If you want to use the environment variables or commandline-options, it would be
<BR>
&quot;boot dka0 -file &quot;/boot/vmlinux.gz&quot; -flags &quot;ro root=/dev/sda2&quot;
<BR>
or &quot;set bootdef_dev dka0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;set boot_file /boot/vmlinux.gz
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;set boot_osflags &quot;ro root=/dev/sda2
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;boot&quot;
<BR>
<P><P><EM>&gt; 
</EM><BR>
<EM>&gt; xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
</EM><BR>
<EM>&gt; HERE'S WHERE I'M STUCK WITH THE ERROR.  SuSE says my block 0
</EM><BR>
<EM>&gt; is valid but stops with a 'HALT' on an aboot: process.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Do I need to change my aboot.conf from:
</EM><BR>
<EM>&gt; 	0:2/boot/vmlinuz.gz ro root=/dev/sda2
</EM><BR>
<EM>&gt; 	to
</EM><BR>
<EM>&gt; 	0:2/boot/bootlx ro root=/dev/sda2
</EM><BR>
<EM>&gt; xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Thanks!
</EM><BR>
<EM>&gt; jrh, 06-13-00
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -----Original Message-----
</EM><BR>
<EM>&gt; From: Ruediger Oertel [mailto:ro@suse.de]
</EM><BR>
<EM>&gt; Sent: Monday, June 12, 2000 4:23 PM
</EM><BR>
<EM>&gt; To: Jim Hoepner
</EM><BR>
<EM>&gt; Cc: SuSE-axp (E-mail)
</EM><BR>
<EM>&gt; Subject: Re: [suse-axp] Getting &quot;Block 0 not valid boot
</EM><BR>
<EM>&gt; block&quot; error
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Mon, 12 Jun 2000, Jim Hoepner wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; Hi,
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; I'm installing SuSE6.3 AXP on a AS200.  I did the install
</EM><BR>
<EM>&gt; &gt; and then let YaST reboot but it says that block 0 on my
</EM><BR>
<EM>&gt; hard
</EM><BR>
<EM>&gt; &gt; drive does not have a valid boot block.
</EM><BR>
<EM>&gt; The 6.3 did not automatically generate a boot-block, I
</EM><BR>
<EM>&gt; finally
</EM><BR>
<EM>&gt; added this in 6.4. You should however be able to boot from
</EM><BR>
<EM>&gt; CD and select &quot;boot installed system&quot;.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; I think I might have the answer but I'm not sure if it
</EM><BR>
<EM>&gt; will
</EM><BR>
<EM>&gt; &gt; work:  The manual says the &quot;block size&quot; for / and /boot
</EM><BR>
<EM>&gt; must
</EM><BR>
<EM>&gt; &gt; be set to 1024.  I need to try this next but, if someone
</EM><BR>
<EM>&gt; &gt; else has any other ideas please let me know.  I will
</EM><BR>
<EM>&gt; assume
</EM><BR>
<EM>&gt; &gt; the &quot;inode&quot; setting does NOT have to be set to 1024 too??
</EM><BR>
<EM>&gt; Yes, at the time of 6.3 none of the alpha-bootloaders could
</EM><BR>
<EM>&gt; handle ext2 filesystem layouts for blocksize != 1024 ; the
</EM><BR>
<EM>&gt; inode-density does not have a direct relation to this.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; PS What does the &quot;i&quot; option -install bootstrap- (fdisk BSD
</EM><BR>
<EM>&gt; &gt; menu) do and if I need to run some sort of bootstrap
</EM><BR>
<EM>&gt; install
</EM><BR>
<EM>&gt; &gt; then what commands do I issue.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; with kind regards (mit freundlichem Grinsen),
</EM><BR>
<EM>&gt;                               Ruediger Oertel (ro@suse.de)
</EM><BR>
<EM>&gt; ----------------------------------------------------------
</EM><BR>
<EM>&gt;           does &quot;DONT PANIC&quot; give a hint ?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><PRE>
-- 
with kind regards (mit freundlichem Grinsen),
                              Ruediger Oertel (ro@suse.de)
----------------------------------------------------------
          does &quot;DONT PANIC&quot; give a hint ?
<P><P>-- 
To unsubscribe, e-mail: suse-axp-unsubscribe@suse.com
For additional commands, e-mail: suse-axp-help@suse.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0015.html">William H. Magill: "[suse-axp] Fdisk behavior is wrong in 6.3 ???"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0013.html">Jim Hoepner: "[suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0013.html">Jim Hoepner: "[suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0013.html">Ruediger Oertel: "Re: [suse-axp] FW: [suse-axp] Getting &quot;Block 0 not valid boot block&quot; error"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Jul 01 2000 - 05:31:32 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
