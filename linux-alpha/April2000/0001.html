<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Stack limit and SHM_MAX</TITLE>
<META NAME="Author" CONTENT="Naohiko Shimizu (nshimizu@et.u-tokai.ac.jp)">
<META NAME="Subject" CONTENT="Stack limit and SHM_MAX">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Stack limit and SHM_MAX</H1>
<HR>
<P>
<!-- received="Sat Apr 15 01:12:46 2000" -->
<!-- isoreceived="20000415081246" -->
<!-- sent="Wed, 12 Apr 2000 13:36:25 +0900 (JST)" -->
<!-- isosent="20000412043625" -->
<!-- name="Naohiko Shimizu" -->
<!-- email="nshimizu@et.u-tokai.ac.jp" -->
<!-- subject="Stack limit and SHM_MAX" -->
<!-- id="200004120436.NAA10950@et.u-tokai.ac.jp" -->
<STRONG>Subject: </STRONG>Stack limit and SHM_MAX<BR>
<STRONG>From: </STRONG>Naohiko Shimizu (<EM>nshimizu@et.u-tokai.ac.jp</EM>)<BR>
<STRONG>Date: </STRONG>Tue Apr 11 2000 - 21:36:25 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#1">[ date ]</A>
<A HREF="index.html#1">[ thread ]</A>
<A HREF="subject.html#1">[ subject ]</A>
<A HREF="author.html#1">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0002.html">Thorsten Kranzkowski: "unaligned access sin sys_swapon()"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0000.html">Richard Henderson: "Re: 2.3.99-3 axp combo patch"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi, I have two proposals for the alpha-kernel.
<BR>
<P>1:
<BR>
<P>The stack size for alpha is limited to a small value,
<BR>
and I think we sould update the asm-alpha/resource.h for 
<BR>
a bigger value. I greped in the 2.2.14 kernel source, and
<BR>
found that only a few architecture has limited stack size.
<BR>
<P># grep STK */resource.h
<BR>
asm-alpha/resource.h:    {_STK_LIM, _STK_LIM},                  /* RLIMIT_STACK */      \
<BR>
asm-arm/resource.h:     { _STK_LIM, _STK_LIM },                         \
<BR>
asm-i386/resource.h:    { _STK_LIM, LONG_MAX },                         \
<BR>
asm-m68k/resource.h:  {_STK_LIM, LONG_MAX}, \
<BR>
asm-mips/resource.h:    {_STK_LIM, _STK_LIM},                           \
<BR>
asm-ppc/resource.h:    {_STK_LIM, LONG_MAX},                    /* RLIMIT_STACK */      \
<BR>
asm/resource.h:    {_STK_LIM, _STK_LIM},                        /* RLIMIT_STACK */      \
<BR>
asm-sparc64/resource.h:    {LONG_MAX, LONG_MAX}, {_STK_LIM, LONG_MAX},         \
<BR>
asm-sparc/resource.h:    {LONG_MAX, LONG_MAX}, {_STK_LIM, LONG_MAX},           \
<BR>
<P>2:
<BR>
<P>The SHMMAX in shmparam.h is set to 0x3fa000.
<BR>
And when I run the cdrecord which was in the debian package, the
<BR>
program claimed me that it could not get enough shared memory.
<BR>
I patched the value to 0xffa000, and then the program worked fine.
<BR>
In other architectues, the value set to the bigger value, and
<BR>
I think alpha can also have a bigger default value to the SHMMAX.
<BR>
<P><P>Any comment?
<BR>
<P><P>Naohiko Shimizu 
<BR>
&nbsp;Dept. Comm. Engr./Univ. TOKAI. 
<BR>
&nbsp;1117 Kitakaname Hiratsuka 259-12 Japan 
<BR>
&nbsp;TEL.+81-463-58-1211(ext. 4084) FAX.+81-463-58-8320
<BR>
&nbsp;<A HREF="http://shimizu-lab.et.u-tokai.ac.jp/">http://shimizu-lab.et.u-tokai.ac.jp/</A>
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0002.html">Thorsten Kranzkowski: "unaligned access sin sys_swapon()"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0000.html">Richard Henderson: "Re: 2.3.99-3 axp combo patch"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Mon May 01 2000 - 18:42:06 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
