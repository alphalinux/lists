<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Re: [patch] preemptive kernel, preemptive-2.3</TITLE>
<META NAME="Author" CONTENT="Manfred Spraul (manfreds@colorfullife.com)">
<META NAME="Subject" CONTENT="Re: [patch] preemptive kernel, preemptive-2.3.52-A7">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [patch] preemptive kernel, preemptive-2.3.52-A7</H1>
<HR>
<P>
<!-- received="Wed Mar 15 12:06:12 2000" -->
<!-- isoreceived="20000315200612" -->
<!-- sent="Tue, 14 Mar 2000 23:26:12 +0100" -->
<!-- isosent="20000314222612" -->
<!-- name="Manfred Spraul" -->
<!-- email="manfreds@colorfullife.com" -->
<!-- subject="Re: [patch] preemptive kernel, preemptive-2.3.52-A7" -->
<!-- id="38CEBC84.7A051F5D@colorfullife.com" -->
<!-- inreplyto="Pine.LNX.4.10.10003142233050.7288-100000@chiara.csoma.elte.hu" -->
<STRONG>Subject: </STRONG>Re: [patch] preemptive kernel, preemptive-2.3.52-A7<BR>
<STRONG>From: </STRONG>Manfred Spraul (<EM>manfreds@colorfullife.com</EM>)<BR>
<STRONG>Date: </STRONG>Tue Mar 14 2000 - 14:26:12 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#87">[ date ]</A>
<A HREF="index.html#87">[ thread ]</A>
<A HREF="subject.html#87">[ subject ]</A>
<A HREF="author.html#87">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0088.html">Andrea Arcangeli: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0086.html">Ingo Molnar: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0082.html">Ingo Molnar: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0090.html">Andrea Arcangeli: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0082.html">Manfred Spraul: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Ingo Molnar wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Tue, 14 Mar 2000, Manfred Spraul wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; I've seen such code from egcs-1.1.2, IIRC in do_softirq().
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; oh! does this explain the do_softirq() weirdness you have noticed?
</EM><BR>
<EM>&gt; 
</EM><BR>
No, the asm output looks fine:
<BR>
egcs loads local_bh_count into a register for the in_interrupt() test,
<BR>
then it increases the register and stores the register back into
<BR>
local_bh_count.
<BR>
<P>I have 2 explanations for the high do_softirq numbers:
<BR>
<P>* problem with readprofile (version 2.00, May 1996): it also reported
<BR>
that sys_shutdown() got called, and I doubt that this is true ;)
<BR>
[prof_shift=1]
<BR>
<P>* do_softirq reenables the interrupts after a hardware interrupt. If a
<BR>
timer interrupt was pending, then do_softirq gets the profiling hit.
<BR>
<P><PRE>
--
	Manfred
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0088.html">Andrea Arcangeli: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0086.html">Ingo Molnar: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0082.html">Ingo Molnar: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0090.html">Andrea Arcangeli: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0082.html">Manfred Spraul: "Re: [patch] preemptive kernel, preemptive-2.3.52-A7"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Apr 01 2000 - 04:15:03 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
