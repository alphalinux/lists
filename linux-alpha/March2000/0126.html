<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Source modules Makefile (was: Re: new IRQ sca</TITLE>
<META NAME="Author" CONTENT="Frodo Looijaard (frodol@dds.nl)">
<META NAME="Subject" CONTENT="Source modules Makefile (was: Re: new IRQ scalability changes in 2.3.48)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Source modules Makefile (was: Re: new IRQ scalability changes in 2.3.48)</H1>
<HR>
<P>
<!-- received="Tue Mar 21 06:10:18 2000" -->
<!-- isoreceived="20000321141018" -->
<!-- sent="Tue, 21 Mar 2000 00:35:55 +0100 (CET)" -->
<!-- isosent="20000320233555" -->
<!-- name="Frodo Looijaard" -->
<!-- email="frodol@dds.nl" -->
<!-- subject="Source modules Makefile (was: Re: new IRQ scalability changes in 2.3.48)" -->
<!-- id="200003202335.AAA01461@arda.frodo.local" -->
<!-- inreplyto="E12X6c5-0003Il-00@the-village.bc.nu" -->
<STRONG>Subject: </STRONG>Source modules Makefile (was: Re: new IRQ scalability changes in 2.3.48)<BR>
<STRONG>From: </STRONG>Frodo Looijaard (<EM>frodol@dds.nl</EM>)<BR>
<STRONG>Date: </STRONG>Mon Mar 20 2000 - 15:35:55 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#126">[ date ]</A>
<A HREF="index.html#126">[ thread ]</A>
<A HREF="subject.html#126">[ subject ]</A>
<A HREF="author.html#126">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0127.html">tytso@mit.edu: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0125.html">Alan Cox: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0125.html">Alan Cox: "Re: new IRQ scalability changes in 2.3.48"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0127.html">tytso@mit.edu: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0125.html">Frodo Looijaard: "Source modules Makefile (was: Re: new IRQ scalability changes in 2.3.48)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Alan Cox wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; This is actually something for the Makefile and config hackers to ponder
</EM><BR>
<EM>&gt; actually: being able to pack a 2.4 extra module as source so that the
</EM><BR>
<EM>&gt; end user (or their rpm, dpkg, slp,... tools) can type Make and the Make
</EM><BR>
<EM>&gt; script can grab all the needed config from the kernel .config and module
</EM><BR>
<EM>&gt; syms that are already present
</EM><BR>
<P>It is not that difficult; lm_sensors does exactly this when building.
<BR>
Its Makefile looks in $(LINUX_HEADERS)/linux/autoconf.h (and
<BR>
$(LINUX)/.config and $(LINUX_HEADERS)/linux/config.h for older kernels)
<BR>
to determine whether it needs MOD_VERSIONS and SMP declarations. 
<BR>
It then compiles the modules in a sensible way, without ever writing
<BR>
to your kernel tree.
<BR>
If people are interested, I could strip it of all lm_sensors-specific 
<BR>
things and put it somewhere public.
<BR>
<P>&nbsp;&nbsp;Frodo
<BR>
<P><PRE>
-- 
Frodo Looijaard &lt;frodol@dds.nl&gt;  PGP key and more: <A HREF="http://huizen.dds.nl/~frodol">http://huizen.dds.nl/~frodol</A>
Defenestration n. (formal or joc.):
  The act of removing Windows from your computer in disgust, usually followed
  by the installation of Linux or some other Unix-like operating system.
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0127.html">tytso@mit.edu: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0125.html">Alan Cox: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0125.html">Alan Cox: "Re: new IRQ scalability changes in 2.3.48"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0127.html">tytso@mit.edu: "Re: new IRQ scalability changes in 2.3.48"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0125.html">Frodo Looijaard: "Source modules Makefile (was: Re: new IRQ scalability changes in 2.3.48)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Apr 01 2000 - 04:15:04 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
