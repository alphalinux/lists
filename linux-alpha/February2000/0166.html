<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: smp irq affinity and new irq stuff</TITLE>
<META NAME="Author" CONTENT="Andrea Arcangeli (andrea@suse.de)">
<META NAME="Subject" CONTENT="smp irq affinity and new irq stuff">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>smp irq affinity and new irq stuff</H1>
<HR>
<P>
<!-- received="Sun Feb 27 04:19:14 2000" -->
<!-- isoreceived="20000227121914" -->
<!-- sent="Sun, 27 Feb 2000 05:12:57 +0100 (CET)" -->
<!-- isosent="20000227041257" -->
<!-- name="Andrea Arcangeli" -->
<!-- email="andrea@suse.de" -->
<!-- subject="smp irq affinity and new irq stuff" -->
<!-- id="Pine.LNX.4.21.0002270501160.473-100000@alpha.random" -->
<STRONG>Subject: </STRONG>smp irq affinity and new irq stuff<BR>
<STRONG>From: </STRONG>Andrea Arcangeli (<EM>andrea@suse.de</EM>)<BR>
<STRONG>Date: </STRONG>Sat Feb 26 2000 - 20:12:57 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#166">[ date ]</A>
<A HREF="index.html#166">[ thread ]</A>
<A HREF="subject.html#166">[ subject ]</A>
<A HREF="author.html#166">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0167.html">Andrea Arcangeli: "Re: smp irq affinity and new irq stuff"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0165.html">Andrea Arcangeli: "wh64 (slow)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0167.html">Andrea Arcangeli: "Re: smp irq affinity and new irq stuff"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I ported the SMP irq affinity code and the per-irq-desc locking to alpha
<BR>
(plus the -&gt;end semantical change). I checked it works fine here. The
<BR>
sys_dp264 is the only port that actively uses SMP irq affinity it (because
<BR>
it's the only one capable of SMP irq scaling) and so it's also the only
<BR>
one who currently needs lowlevel controller locking. There are also a few
<BR>
common code changes (the irq_stat is useless on alpha, on alpha there's a
<BR>
better cpu_data smp struct where all the per-cpu things gets allocated)
<BR>
There are a few IA32 irq.c cleanups for some 64bit issue. It removes the
<BR>
generic_irq_count also from the alpha port. It updates alpha paging_init
<BR>
thing and cleanups even more the irq.c moving the alpha stuff in a new
<BR>
alpha_irq.c and srm irqs stuff in srm_irq.c.
<BR>
<P>All the alpha platforms should be updated.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="ftp://ftp.*.kernel.org/pub/linux/kernel/people/andrea/patches/v2.3/2.3.48pre4/alpha-irq-1.gz">ftp://ftp.*.kernel.org/pub/linux/kernel/people/andrea/patches/v2.3/2.3.48pre4/alpha-irq-1.gz</A>
<BR>
<P>Comments?
<BR>
<P>Andrea
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0167.html">Andrea Arcangeli: "Re: smp irq affinity and new irq stuff"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0165.html">Andrea Arcangeli: "wh64 (slow)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0167.html">Andrea Arcangeli: "Re: smp irq affinity and new irq stuff"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Mar 01 2000 - 06:26:28 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
