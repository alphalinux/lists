<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Re: Weird lockups</TITLE>
<META NAME="Author" CONTENT="Juergen Bierlein (Juergen.Bierlein@sap.com)">
<META NAME="Subject" CONTENT="Re: Weird lockups">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Weird lockups</H1>
<HR>
<P>
<!-- received="Fri Jan 21 02:20:52 2000" -->
<!-- isoreceived="20000121102052" -->
<!-- sent="Thu, 20 Jan 2000 07:54:39 +0100" -->
<!-- isosent="20000120065439" -->
<!-- name="Juergen Bierlein" -->
<!-- email="Juergen.Bierlein@sap.com" -->
<!-- subject="Re: Weird lockups" -->
<!-- id="3886B12F.E86B66F6@sap.com" -->
<!-- inreplyto="38856E3B.4FD0E50C@sap.com" -->
<STRONG>Subject: </STRONG>Re: Weird lockups<BR>
<STRONG>From: </STRONG>Juergen Bierlein (<EM>Juergen.Bierlein@sap.com</EM>)<BR>
<STRONG>Date: </STRONG>Wed Jan 19 2000 - 22:54:39 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#49">[ date ]</A>
<A HREF="index.html#49">[ thread ]</A>
<A HREF="subject.html#49">[ subject ]</A>
<A HREF="author.html#49">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0050.html">David Winchell: "In memory core dump facility available for Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0048.html">Ruediger Oertel: "Re: problem with initrd on alpha-linux"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0051.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0013.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hello,
<BR>
<P>i have applied the 2.2.14aa1 Patch, but things went uglier.
<BR>
Now i am unable to get my KDE Desktop fully started. X is starting, then
<BR>
KDE with lots of windows starting and then comes the hard lock. With
<BR>
2.2.14 i sometimes get locks when starting my X-Desktop but not always.
<BR>
<P>May be it is something in the scheduling code which gets confused when
<BR>
lots of running programs are in the queue (i haven't had a deeper look
<BR>
at the code now).
<BR>
<P>Are there any hints ?
<BR>
Is it possible to debug a running and then frozen kernel ?
<BR>
<P>Have fun,
<BR>
&nbsp;&nbsp;Juergen
<BR>
<P><P>Juergen Bierlein wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Hi,
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; indeed i am using modules for nearly all except the SCSI-controller ;-).
</EM><BR>
<EM>&gt; I will try to apply the patch this evening to 2.2.14 and see if
</EM><BR>
<EM>&gt; something is changing this stupid behaviour.
</EM><BR>
<EM>&gt; In the early 2.2 Series (think it was 2.2.3) i tried a completely
</EM><BR>
<EM>&gt; monolithic kernel, But the lockup was still there then.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The memory extension are really useful. Thats one of the reasons why one
</EM><BR>
<EM>&gt; should use 64Bit machines. May be there are some enterprise apps in the
</EM><BR>
<EM>&gt; near future which can use this huge amount the memory ;-)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I'll be back,
</EM><BR>
<EM>&gt;   Juergen
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Andrea Arcangeli wrote:
</EM><BR>
<EM>&gt; &gt; Are you using modules? If so please use 2.2.14aa1 (patch against 2.2.14).
</EM><BR>
<EM>&gt; &gt; I fixed an alpha bug that may explain weirs lockups using modules (related
</EM><BR>
<EM>&gt; &gt; to self-modifying code and icache-coherency and icache virtual-caches).
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;         <A HREF="ftp://ftp.*.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.2/2.2.14aa1.gz">ftp://ftp.*.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.2/2.2.14aa1.gz</A>
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; The 2.2.14aa1 will also extend the max limit of memory available on alpha
</EM><BR>
<EM>&gt; &gt; from 2G to 2T and lots of other VM/SMP quite necessary things. Just have a
</EM><BR>
<EM>&gt; &gt; look at the process I run over it :)
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; andrea@D104:~ &gt; cat /proc/7366/status
</EM><BR>
<EM>&gt; &gt; Name:   leak
</EM><BR>
<EM>&gt; &gt; State:  S (sleeping)
</EM><BR>
<EM>&gt; &gt; Pid:    7366
</EM><BR>
<EM>&gt; &gt; PPid:   6687
</EM><BR>
<EM>&gt; &gt; Uid:    557     557     557     557
</EM><BR>
<EM>&gt; &gt; Gid:    50      50      50      50
</EM><BR>
<EM>&gt; &gt; Groups: 50
</EM><BR>
<EM>&gt; &gt; VmSize:  9439640 kB
</EM><BR>
<EM>&gt; &gt; VmLck:         0 kB
</EM><BR>
<EM>&gt; &gt; VmRSS:   9278640 kB
</EM><BR>
<EM>&gt; &gt; VmData:  9437216 kB
</EM><BR>
<EM>&gt; &gt; VmStk:        16 kB
</EM><BR>
<EM>&gt; &gt; VmExe:         8 kB
</EM><BR>
<EM>&gt; &gt; VmLib:      1304 kB
</EM><BR>
<EM>&gt; &gt; SigPnd: 0000000000000000
</EM><BR>
<EM>&gt; &gt; SigBlk: 0000000000000000
</EM><BR>
<EM>&gt; &gt; SigIgn: 0000000000000000
</EM><BR>
<EM>&gt; &gt; SigCgt: 0000000000000000
</EM><BR>
<EM>&gt; &gt; CapInh: 00000000fffffeff
</EM><BR>
<EM>&gt; &gt; CapPrm: 0000000000000000
</EM><BR>
<EM>&gt; &gt; CapEff: 0000000000000000
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; BTW, the strict patch for the module-load bug is here:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;         <A HREF="ftp://ftp.*.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.2/2.2.14aa1/alpha-imb-1.gz">ftp://ftp.*.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.2/2.2.14aa1/alpha-imb-1.gz</A>
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Andrea
</EM><BR>
<P><PRE>
-- 
################### ################### Juergen Bierlein
################### #################   IT-PSS / Server Management
################### ###############     - System Manager
################### #############       Phone: +49 (6227) 7 46986
################### ###########         Fax  : +49 (6227) 7 56986
##    ### ###    ## #########           EMail: Juergen.Bierlein@sap.com
# ######   ## ##  # #######             SAP AG Walldorf
#     ## # ##    ## #####               Neurottstrasse 16
##### #     # ##### ###                 D-69190 Walldorf
#    ## ### # ##### #                   <A HREF="http://www.sap.com/">http://www.sap.com/</A>
<P>The sun shines on my way, every night and every day. :-)
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0050.html">David Winchell: "In memory core dump facility available for Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0048.html">Ruediger Oertel: "Re: problem with initrd on alpha-linux"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0051.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0013.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Mar 01 2000 - 06:26:27 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
