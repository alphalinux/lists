<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Re: Weird lockups</TITLE>
<META NAME="Author" CONTENT="David Winchell (winchell@missioncriticallinux.com)">
<META NAME="Subject" CONTENT="Re: Weird lockups">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Weird lockups</H1>
<HR>
<P>
<!-- received="Wed Jan 19 02:53:31 2000" -->
<!-- isoreceived="20000119105331" -->
<!-- sent="Tue, 18 Jan 2000 14:18:09 -0600" -->
<!-- isosent="20000118201809" -->
<!-- name="David Winchell" -->
<!-- email="winchell@missioncriticallinux.com" -->
<!-- subject="Re: Weird lockups" -->
<!-- id="3884CA81.6BB84676@mclinux.com" -->
<!-- inreplyto="20000118144536.A32619@physics.clarku.edu" -->
<STRONG>Subject: </STRONG>Re: Weird lockups<BR>
<STRONG>From: </STRONG>David Winchell (<EM>winchell@missioncriticallinux.com</EM>)<BR>
<STRONG>Date: </STRONG>Tue Jan 18 2000 - 12:18:09 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#36">[ date ]</A>
<A HREF="index.html#36">[ thread ]</A>
<A HREF="subject.html#36">[ subject ]</A>
<A HREF="author.html#36">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0037.html">Robb Romans: "Re: Weird lockups"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0035.html">Pierrick Hascoet: "Re: Weird lockups"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0040.html">Greg Johnson: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0041.html">Greg Johnson: "Re: Weird lockups"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0040.html">David Winchell: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Greg Johnson wrote:
<BR>
<P><EM>&gt; On Tue, Jan 18, 2000 at 09:14:49AM -0600, David Winchell wrote:
</EM><BR>
<EM>&gt; &gt; Since the machine doesn't respond to sysrq, it may be stuck in an interrupt handler.
</EM><BR>
<EM>&gt; &gt; If any of the machines in question have &quot;halt&quot; buttons (machines from
</EM><BR>
<EM>&gt; &gt; Compaq should have them) I would like to know if pressing halt
</EM><BR>
<EM>&gt; &gt; gets one back to the console &quot;&gt;&gt;&gt;&quot; prompt.  If it does, one can use
</EM><BR>
<EM>&gt; &gt; console commands to dump the pc, ra, sp.  Also, the stack can be dumped
</EM><BR>
<EM>&gt; &gt; from the console.  If its a multi-processor, one should halt all the processors at the console
</EM><BR>
<EM>&gt; &gt; and get the registers on the various processors.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; I have occasionally had the machine lock while not in X11.  What happens
</EM><BR>
<EM>&gt; is that I get the message &quot;Machine check while in PALmode&quot; and am
</EM><BR>
<EM>&gt; returned to the SRM prompt.  I have tried examining the registers and
</EM><BR>
<EM>&gt; see no clear pattern.  Sometimes the return address is inside the kernel
</EM><BR>
<EM>&gt; (various places) and sometimes it isn't.  How does one dump the stack
</EM><BR>
<EM>&gt; from the console?
</EM><BR>
<EM>&gt;
</EM><BR>
<P>I'm not sure what to do with the Machine Check.  It could be a hardware problem.
<BR>
Are you running the latest firmware?
<BR>
<P>For the stack, one should be able to use the examine command - type
<BR>
help examine - to look at memory starting at the address found for register
<BR>
sp.  Getting the sp for a machine that has been halted via halt button is
<BR>
simply &quot;examine sp&quot; but getting the sp for the Machine Check
<BR>
would probably mean looking at any data that is printed on the console
<BR>
or saved in memory.  There may be a console command that you can issue
<BR>
to dump Machine Check data.
<BR>
<P>-Dave
<BR>
<P><P><EM>&gt;
</EM><BR>
<EM>&gt; Greg
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Something like this:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; [hit halt button]
</EM><BR>
<EM>&gt; &gt; &gt;&gt; e pc
</EM><BR>
<EM>&gt; &gt; &gt;&gt; e ra
</EM><BR>
<EM>&gt; &gt; &gt;&gt; e sp
</EM><BR>
<EM>&gt; &gt; &gt;&gt; halt 1     /* if smp */
</EM><BR>
<EM>&gt; &gt; &gt;&gt; set host 1   (or set cpu 1 - I forget)
</EM><BR>
<EM>&gt; &gt; &gt;&gt; e pc
</EM><BR>
<EM>&gt; &gt; etc
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Now, under Compaq Unix one would eventually
</EM><BR>
<EM>&gt; &gt; do
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt;&gt; set cpu 0
</EM><BR>
<EM>&gt; &gt; &gt;&gt; crash
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; and this would generate a crash dump.  Crash dumps
</EM><BR>
<EM>&gt; &gt; under Linux are under development.  I am working
</EM><BR>
<EM>&gt; &gt; one one and SGI has another.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; I will soon, within the next few days, release an &quot;in-memory&quot;
</EM><BR>
<EM>&gt; &gt; crash dump for Linux.  I have not yet figured out how
</EM><BR>
<EM>&gt; &gt; to plug the crash command at the console into Linux kernel code.
</EM><BR>
<EM>&gt; &gt; If anyone knows how to do this, please let me know.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; -Dave
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; &quot;Matthew R. Pavlovich&quot; wrote:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Just a &quot;me too&quot;.  I have had hard lockups with the following system:
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 164LX2 533MHz
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Another 21164 system.  This is different from the PC164's.  Anyone know
</EM><BR>
<EM>&gt; &gt; &gt; what the difference is?  Which sub-arch would the LX2 use?
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 4GB Seagate IDE drive
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 8MB ELSA Gloria Synergy video card.
</EM><BR>
<EM>&gt; &gt; &gt; &gt; DEC Tulip NIC (Kingston KNE100TX)
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Debian 2.2
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Have you updated recently?  The autobuilder is back and a good number of
</EM><BR>
<EM>&gt; &gt; &gt; packages have been updated.
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; more often when running X.  I have tried swapping all removable parts of
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; I think we are seeing a lot of this... Here's what I've summarized:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; BUG-- HARD system locks with Alpha processors.
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Description- Unrecoverable (SysReq fails) system lockups at various,
</EM><BR>
<EM>&gt; &gt; &gt; unpredictable, unrepeatable times.  Users have estimated error could be
</EM><BR>
<EM>&gt; &gt; &gt; with-
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt;         3 PC164's 1 LX2
</EM><BR>
<EM>&gt; &gt; &gt;         IDE controller support for alphas.
</EM><BR>
<EM>&gt; &gt; &gt;         CMD646 IDE controller specifically
</EM><BR>
<EM>&gt; &gt; &gt;         X - 2 ppl w/ G200 PCI's 1 w/ ELSA Gloria Synergy
</EM><BR>
<EM>&gt; &gt; &gt;         2 w/ 3Com 905b's
</EM><BR>
<EM>&gt; &gt; &gt;         2 w/ NCR 53C875 SCSI Controllers
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Diagnostics performed- All users have tried different hardware
</EM><BR>
<EM>&gt; &gt; &gt; configurations, including replacing all IDE hardware w/ SCSI.
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Notes- Some report problems with module loading, or modular kernels.
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Kernel versions- Various 2.2.x.. including 2.2.13 and 2.2.14.
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt;  Matthew R. Pavlovich
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; --
</EM><BR>
<EM>&gt; &gt; David Winchell
</EM><BR>
<EM>&gt; &gt; Chief Technology Officer
</EM><BR>
<EM>&gt; &gt; Mission Critical Linux
</EM><BR>
<EM>&gt; &gt; <A HREF="http://www.missioncriticallinux.com">http://www.missioncriticallinux.com</A>
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; Greg Johnson                          gjohnson@physics.clarku.edu
</EM><BR>
<EM>&gt; <A HREF="http://physics.clarku.edu/~gjohnson">http://physics.clarku.edu/~gjohnson</A>            finger for PGP key
</EM><BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0037.html">Robb Romans: "Re: Weird lockups"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0035.html">Pierrick Hascoet: "Re: Weird lockups"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0040.html">Greg Johnson: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0041.html">Greg Johnson: "Re: Weird lockups"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0040.html">David Winchell: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Mar 01 2000 - 06:26:27 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
