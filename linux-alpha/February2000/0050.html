<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: In memory core dump facility available for Al</TITLE>
<META NAME="Author" CONTENT="David Winchell (winchell@missioncriticallinux.com)">
<META NAME="Subject" CONTENT="In memory core dump facility available for Alpha">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>In memory core dump facility available for Alpha</H1>
<HR>
<P>
<!-- received="Fri Jan 21 03:43:52 2000" -->
<!-- isoreceived="20000121114352" -->
<!-- sent="Thu, 20 Jan 2000 10:40:28 -0600" -->
<!-- isosent="20000120164028" -->
<!-- name="David Winchell" -->
<!-- email="winchell@missioncriticallinux.com" -->
<!-- subject="In memory core dump facility available for Alpha" -->
<!-- id="38873A7C.44D4FF8A@mclinux.com" -->
<STRONG>Subject: </STRONG>In memory core dump facility available for Alpha<BR>
<STRONG>From: </STRONG>David Winchell (<EM>winchell@missioncriticallinux.com</EM>)<BR>
<STRONG>Date: </STRONG>Thu Jan 20 2000 - 08:40:28 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#50">[ date ]</A>
<A HREF="index.html#50">[ thread ]</A>
<A HREF="subject.html#50">[ subject ]</A>
<A HREF="author.html#50">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0051.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0049.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
An &quot;in memory&quot; kernel core dump facility and analysis tool for alpha systems is available.
<BR>
This facility produces reliable dumps in a variety of circumstances including hung systems
<BR>
(via sysrq key) and faults or panics in thread, interrupt and exception context.  The analyzer,
<BR>
which is now layered on gdb, provides a rich set of commands for debugging core files and live
<BR>
systems.  For example stack traces for all kernel threads including the ones executing at crash
<BR>
time can be obtained.  Exception frames are provided in the stack traces and parameter values will
<BR>
be added in the future.  The analyzer is designed to facilitate the addition of custom commands.
<BR>
<P>We are working on the following items:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.  Support for other architectures.  A few Intel systems (HP, Compaq laptops) will work
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with this package, but others (Dell) do not.  The issue is whether the BIOS
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allows a reboot without clearing memory.  We are working on this problem.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Soon we will port to architectures other than Intel and Alpha.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.  Make this code available for the latest development release.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.  Tie the &quot;crash&quot; srm console command into the core dump code.  This will be useful
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for machines with halt buttons (Compaq boxes) that are hung, even at interrupt
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level.
<BR>
<P>The code and instructions are available at <A HREF="http://www.missioncriticallinux.com/download.">http://www.missioncriticallinux.com/download.</A>
<BR>
The core dump facility is called &quot;Kernel Core Dump v2.0&quot; and the analysis tool &quot;Core Analysis Suite v2.0.&quot;
<BR>
<P>While we are working on in-memory dumps for Intel, the following options exist for Intel today.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.  One can use v1.0 of the Kernel Core Dump (which is disk based) with v2.0 of the analysis tool.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This version will produce core dumps when the processor calling panic is
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at thread level.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.  One can try the v2.0 Kernel Core Dump.  Forcing a crash with &quot;sysrq c&quot; will result
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in a core file for BIOS's that preserve memory.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.  A core dump facility is available from SGI at <A HREF="http://oss.sgi.com/projects/lkcd/download.">http://oss.sgi.com/projects/lkcd/download.</A>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The analysis tool from Mission Critical Linux can read SGI V1.0 core files.  The ability to
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read V2.0 SGI files is under test.
<BR>
<P><P>-Dave Winchell
<BR>
-Dave Anderson
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0051.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0049.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Mar 01 2000 - 06:26:27 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
