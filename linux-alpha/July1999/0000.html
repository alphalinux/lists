<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: ruffian and sparse addressing</TITLE>
<META NAME="Author" CONTENT="Christopher T. Lansdown (lansdoct@screech.cs.alfred.edu)">
<META NAME="Subject" CONTENT="ruffian and sparse addressing">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>ruffian and sparse addressing</H1>
<HR>
<P>
<!-- received="Thu Jul 01 19:09:39 1999" -->
<!-- isoreceived="19990702020939" -->
<!-- sent="Thu, 1 Jul 1999 14:18:34 -0400 (EDT)" -->
<!-- isosent="19990701181834" -->
<!-- name="Christopher T. Lansdown" -->
<!-- email="lansdoct@screech.cs.alfred.edu" -->
<!-- subject="ruffian and sparse addressing" -->
<!-- id="Pine.LNX.4.10.9907011405280.3705-100000@screech.cs.alfred.edu" -->
<STRONG>Subject: </STRONG>ruffian and sparse addressing<BR>
<STRONG>From: </STRONG>Christopher T. Lansdown (<EM>lansdoct@screech.cs.alfred.edu</EM>)<BR>
<STRONG>Date: </STRONG>Thu Jul 01 1999 - 11:18:34 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#0">[ date ]</A>
<A HREF="index.html#0">[ thread ]</A>
<A HREF="subject.html#0">[ subject ]</A>
<A HREF="author.html#0">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0001.html">Loic Prylli: "ruffian and sparse addressing"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0001.html">Loic Prylli: "ruffian and sparse addressing"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My primary concern is to get my sound card working which can only
<BR>
has 30 addressing bits and doesn't do anything intelligent like treat it
<BR>
as a dword address.  It's a trident NX chip.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I've tried locating the DMA window 0 at the 512 MByte range and
<BR>
changing it to a 512 MByte window (both in
<BR>
include/asm-alpha/core_pyxis.h, then make dep &amp;&amp; make clean &amp;&amp; make boot).
<BR>
I got this result: 
<BR>
the bootup sequence went along fine through milo (of course) and went
<BR>
through the initial kernel startup.  Then when it got to the time to mount
<BR>
the root file system, it did this:
<BR>
request_modeule [block-major-8]:root fs not mounted 
<BR>
VFS: cannot open root device 08:16
<BR>
Kernel Panic: VFS: Unable to mount root fs on 08:16
<BR>
<P>normally, of course, it works just fine.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I was told that the right way to support this card is through
<BR>
scatter gather, but that doing that would involve re-working all dma
<BR>
capable drivers, a task that I neither have the time nor the confidence to
<BR>
do.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I am wondering, though, have I misunderstood this?  Does making
<BR>
scatter/gather dma possible require that all dma drivers use it, or is it
<BR>
possible for scatter/gather dma and regular dma to coexist?
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;As another option, would it be possible to use sparse pci
<BR>
addressing to compensate for the lack of full 32bit addressing on the
<BR>
card?
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;As I have said previously, I am not adverse to doing work on this,
<BR>
and would be extremely grateful for anyone who can give me guidance as to
<BR>
the right way to do it so that I don't end up wasting a lot of time in
<BR>
figuring out what the right way to do it is.  I'm also not adverse to
<BR>
putting in a lot of work if it can be of general benefit but isn't
<BR>
tantamount to reading and partially re-writing all kernel drivers.  Thank
<BR>
you very much.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-Christopher Lansdown
<BR>
<P><PRE>
-- 
lansdoct@cs.alfred.edu
&quot;If I had had more time I would have not written you at all.&quot; - Pascal
Linux Programs: <A HREF="http://cs.alfred.edu/~lansdoct/linux/">http://cs.alfred.edu/~lansdoct/linux/</A>
Linux - Get there. Today.
Evil Overlord Quote of the Day:
150.I will provide funding and research to develop tactical and strategic
weapons covering a full range of needs so my choices are not limited to
&quot;hand to hand combat with swords&quot; and &quot;blow up the planet&quot;.
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0001.html">Loic Prylli: "ruffian and sparse addressing"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0001.html">Loic Prylli: "ruffian and sparse addressing"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sun Aug 01 1999 - 06:12:39 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
