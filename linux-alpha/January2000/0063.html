<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: DAT on Alpha</TITLE>
<META NAME="Author" CONTENT="Metod Kozelj (metod.kozelj@rzs-hm.si)">
<META NAME="Subject" CONTENT="DAT on Alpha">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>DAT on Alpha</H1>
<HR>
<P>
<!-- received="Mon Jan 31 16:00:51 2000" -->
<!-- isoreceived="20000201000051" -->
<!-- sent="Mon, 17 Jan 2000 10:13:36 +0100 (CET)" -->
<!-- isosent="20000117091336" -->
<!-- name="Metod Kozelj" -->
<!-- email="metod.kozelj@rzs-hm.si" -->
<!-- subject="DAT on Alpha" -->
<!-- id="Pine.HPP.3.96.1000117095948.26578G-100000@hmljhp.rzs-hm.si" -->
<STRONG>Subject: </STRONG>DAT on Alpha<BR>
<STRONG>From: </STRONG>Metod Kozelj (<EM>metod.kozelj@rzs-hm.si</EM>)<BR>
<STRONG>Date: </STRONG>Mon Jan 17 2000 - 01:13:36 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#63">[ date ]</A>
<A HREF="index.html#63">[ thread ]</A>
<A HREF="subject.html#63">[ subject ]</A>
<A HREF="author.html#63">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0064.html">Tenhave, Tim: "RE: What does 'ldgp' means ?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0062.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0021.html">Dominik Kubla: "Re: DAT on Alpha"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Howdy!
<BR>
<P>I have another little problem with my linux-alpha I would like to solve.
<BR>
This time it's about DAT unit.
<BR>
<P>I have some archive tapes, written under DigitalUNIX v3.2 using GNU tar.
<BR>
<P>Problem in short: I could not read those tapes using the same hardware. Is
<BR>
it possible to do it somehow?
<BR>
<P><P>Long desription of the problem (I'm sorry about that; I just wanted to
<BR>
give you, guys and girls, as much detail as possible):
<BR>
<P>When I try to access the tape (eg. tar -ztvf /dev/nst0), it says:
<BR>
<P>////////
<BR>
tar (grandchild): Read error on /dev/tape: Input/output error
<BR>
tar (grandchild): At beginning of tape, quitting now
<BR>
tar (grandchild): Error is not recoverable: exiting now
<BR>
<P>gzip: stdin: unexpected end of file
<BR>
tar: Child returned status 1
<BR>
tar: Error exit delayed from previous errors
<BR>
////////
<BR>
<P>and in syslog, it says
<BR>
<P>////////
<BR>
st0: Incorrect block size.
<BR>
////////
<BR>
<P>If I check the tape information using mt -f /dev/nst0 status, it says
<BR>
<P>////////
<BR>
SCSI 2 tape drive:
<BR>
File number=-1, block number=-1, partition=0.
<BR>
Tape block size 512 bytes. Density code 0x24 (DDS-2).
<BR>
Soft error count since last status=0
<BR>
General status bits on (5010000):
<BR>
&nbsp;WR_PROT ONLINE IM_REP_EN
<BR>
////////
<BR>
<P>The same command issued under DigitalUNIX (with same tape in DAT unit)
<BR>
returns following:
<BR>
<P>////////
<BR>
DEVIOGET ELEMENT        CONTENTS
<BR>
----------------        --------
<BR>
category                DEV_TAPE
<BR>
bus                     DEV_SCSI
<BR>
interface               SCSI
<BR>
device                  TZxx
<BR>
adpt_num                0
<BR>
nexus_num               0
<BR>
bus_num                 0
<BR>
ctlr_num                0
<BR>
slave_num               24
<BR>
dev_name                tz
<BR>
unit_num                24
<BR>
soft_count              0
<BR>
hard_count              0
<BR>
stat                    9
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEV_BOM DEV_WRTLCK 
<BR>
category_stat           20000
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEV_61000_BPI
<BR>
<P>MTIOCGET ELEMENT        CONTENTS
<BR>
----------------        --------
<BR>
mt_type                 MT_ISSCSI
<BR>
mt_dsreg                0
<BR>
mt_erreg                0
<BR>
mt_resid                0
<BR>
////////
<BR>
<P>While comparing the outputs, I notice the density setting. Apparently DU
<BR>
thinks that DAT is DDS-1 (density 61000bpi). If I try to set the same
<BR>
density under linux, the command (mt -f /dev/nst0 setdensity 0x13)
<BR>
succeeds (no error message), but if I query the status immediately after
<BR>
that, it still shows density setting of 0x24 (DDS-2).
<BR>
<P>The next thing which occurs to me is that the block size under DU might 
<BR>
not be 512 bytes. I could not find information on what it really is.
<BR>
Anybody knows?
<BR>
<P>Peace!
<BR>
&nbsp;&nbsp;Mkx
<BR>
<P>---- perl -e 'print $i=pack(c5,(41*2),sqrt(7056),(unpack(c,H)-2),oct(115),10);'
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0064.html">Tenhave, Tim: "RE: What does 'ldgp' means ?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0062.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0021.html">Dominik Kubla: "Re: DAT on Alpha"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Feb 01 2000 - 05:33:35 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
