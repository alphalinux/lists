<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Re: Weird lockups</TITLE>
<META NAME="Author" CONTENT="Andrea Arcangeli (andrea@suse.de)">
<META NAME="Subject" CONTENT="Re: Weird lockups">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Weird lockups</H1>
<HR>
<P>
<!-- received="Mon Jan 24 08:12:45 2000" -->
<!-- isoreceived="20000124161245" -->
<!-- sent="Thu, 20 Jan 2000 14:10:22 +0100 (CET)" -->
<!-- isosent="20000120131022" -->
<!-- name="Andrea Arcangeli" -->
<!-- email="andrea@suse.de" -->
<!-- subject="Re: Weird lockups" -->
<!-- id="Pine.LNX.4.21.0001201403290.441-100000@alpha.random" -->
<!-- inreplyto="3886B12F.E86B66F6@sap.com" -->
<STRONG>Subject: </STRONG>Re: Weird lockups<BR>
<STRONG>From: </STRONG>Andrea Arcangeli (<EM>andrea@suse.de</EM>)<BR>
<STRONG>Date: </STRONG>Thu Jan 20 2000 - 05:10:22 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#51">[ date ]</A>
<A HREF="index.html#51">[ thread ]</A>
<A HREF="subject.html#51">[ subject ]</A>
<A HREF="author.html#51">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0052.html">Carlos Carvalho: "MILO problem to read ext2 filesystems"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0050.html">David Winchell: "In memory core dump facility available for Alpha"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0049.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0054.html">Juergen Bierlein: "Re: Weird lockups"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0049.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Thu, 20 Jan 2000, Juergen Bierlein wrote:
<BR>
<P><EM>&gt;i have applied the 2.2.14aa1 Patch, but things went uglier.
</EM><BR>
<P>This make sense since you said a fully static kernel was locking up as
<BR>
well.
<BR>
<P><EM>&gt;Now i am unable to get my KDE Desktop fully started. X is starting, then
</EM><BR>
<EM>&gt;KDE with lots of windows starting and then comes the hard lock. With
</EM><BR>
<EM>&gt;2.2.14 i sometimes get locks when starting my X-Desktop but not always.
</EM><BR>
<P>The fact is more reproducible is a good thing.
<BR>
<P><EM>&gt;May be it is something in the scheduling code which gets confused when
</EM><BR>
<EM>&gt;lots of running programs are in the queue (i haven't had a deeper look
</EM><BR>
<EM>&gt;at the code now).
</EM><BR>
<P>No, the scheduling code is not the problem (unless your hardware screwup
<BR>
the basic conditional move inside spinlocks or similar buggy-hardware
<BR>
issues).
<BR>
<P>I think what can happen is that a different scheduling behaviour could
<BR>
make a race to trigger more easily.
<BR>
<P>Could you please chmod -x the X server? Please try to left the machine
<BR>
running without X. Make sure it's not an X server bug.
<BR>
<P><EM>&gt;Are there any hints ?
</EM><BR>
<P>See above :)
<BR>
<P><EM>&gt;Is it possible to debug a running and then frozen kernel ?
</EM><BR>
<P>Supposing it's a kernel bug (and not an X one) on IA32 in these cases the
<BR>
trivial way is the NMI oopser watchdog.
<BR>
<P>On alpha we could use the rtc and change __cli() to not mask the rtc
<BR>
interrupt to have the same effect of the NMI interrupt, and using the pit
<BR>
irq as timer source. I'll probably try that in my 2.3.x irq SMP rewrite.
<BR>
BTW currently the state of the rewrite is that the code is rock solid on
<BR>
tsunami and all other platforms except SX164 should be updated.
<BR>
<P>Andrea
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0052.html">Carlos Carvalho: "MILO problem to read ext2 filesystems"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0050.html">David Winchell: "In memory core dump facility available for Alpha"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0049.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0054.html">Juergen Bierlein: "Re: Weird lockups"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0049.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Feb 01 2000 - 05:33:35 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
