<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Re: Weird lockups</TITLE>
<META NAME="Author" CONTENT="Juergen Bierlein (Juergen.Bierlein@sap.com)">
<META NAME="Subject" CONTENT="Re: Weird lockups">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Weird lockups</H1>
<HR>
<P>
<!-- received="Tue Jan 25 19:07:46 2000" -->
<!-- isoreceived="20000126030746" -->
<!-- sent="Tue, 25 Jan 2000 09:08:18 +0100" -->
<!-- isosent="20000125080818" -->
<!-- name="Juergen Bierlein" -->
<!-- email="Juergen.Bierlein@sap.com" -->
<!-- subject="Re: Weird lockups" -->
<!-- id="388D59F2.3CAAF7B0@sap.com" -->
<!-- inreplyto="Pine.LNX.4.21.0001201403290.441-100000@alpha.random" -->
<STRONG>Subject: </STRONG>Re: Weird lockups<BR>
<STRONG>From: </STRONG>Juergen Bierlein (<EM>Juergen.Bierlein@sap.com</EM>)<BR>
<STRONG>Date: </STRONG>Tue Jan 25 2000 - 00:08:18 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#54">[ date ]</A>
<A HREF="index.html#54">[ thread ]</A>
<A HREF="subject.html#54">[ subject ]</A>
<A HREF="author.html#54">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0055.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0053.html">Rich Payne: "Re: MILO problem to read ext2 filesystems"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0051.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0055.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0051.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>ok, i have tried it. I have no hangs on the textconsole (box was up for
<BR>
10 hours with intensiv Memory and IO throughput.
<BR>
<P>I then tried to run X with KDE together with the old symtom.
<BR>
I modified my X configuration to startup the X-server manually and then
<BR>
run startkde manually. The effect was the same.
<BR>
Next step was to start the X-server and the run fvwm2 manually. The
<BR>
configuration came up without problems. I was 20 Minutes online via ISDN
<BR>
and all was fine.
<BR>
<P>Hmmm, looks like either a X-server or KDE-problem.
<BR>
<P>I will try to install SuSE 6.3 soon and see if there were some changes
<BR>
in X and KDE.
<BR>
<P>Will let u know what is happening,
<BR>
&nbsp;&nbsp;Juergen
<BR>
<P><P>Andrea Arcangeli wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Thu, 20 Jan 2000, Juergen Bierlein wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt;i have applied the 2.2.14aa1 Patch, but things went uglier.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; This make sense since you said a fully static kernel was locking up as
</EM><BR>
<EM>&gt; well.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt;Now i am unable to get my KDE Desktop fully started. X is starting, then
</EM><BR>
<EM>&gt; &gt;KDE with lots of windows starting and then comes the hard lock. With
</EM><BR>
<EM>&gt; &gt;2.2.14 i sometimes get locks when starting my X-Desktop but not always.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The fact is more reproducible is a good thing.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt;May be it is something in the scheduling code which gets confused when
</EM><BR>
<EM>&gt; &gt;lots of running programs are in the queue (i haven't had a deeper look
</EM><BR>
<EM>&gt; &gt;at the code now).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; No, the scheduling code is not the problem (unless your hardware screwup
</EM><BR>
<EM>&gt; the basic conditional move inside spinlocks or similar buggy-hardware
</EM><BR>
<EM>&gt; issues).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I think what can happen is that a different scheduling behaviour could
</EM><BR>
<EM>&gt; make a race to trigger more easily.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Could you please chmod -x the X server? Please try to left the machine
</EM><BR>
<EM>&gt; running without X. Make sure it's not an X server bug.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt;Are there any hints ?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; See above :)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt;Is it possible to debug a running and then frozen kernel ?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Supposing it's a kernel bug (and not an X one) on IA32 in these cases the
</EM><BR>
<EM>&gt; trivial way is the NMI oopser watchdog.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On alpha we could use the rtc and change __cli() to not mask the rtc
</EM><BR>
<EM>&gt; interrupt to have the same effect of the NMI interrupt, and using the pit
</EM><BR>
<EM>&gt; irq as timer source. I'll probably try that in my 2.3.x irq SMP rewrite.
</EM><BR>
<EM>&gt; BTW currently the state of the rewrite is that the code is rock solid on
</EM><BR>
<EM>&gt; tsunami and all other platforms except SX164 should be updated.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Andrea
</EM><BR>
<P><PRE>
-- 
################### ################### Juergen Bierlein
################### #################   IT-PSS / Server Management
################### ###############     - System Manager
################### #############       Phone: +49 (6227) 7 46986
################### ###########         Fax  : +49 (6227) 7 56986
##    ### ###    ## #########           EMail: Juergen.Bierlein@sap.com
# ######   ## ##  # #######             SAP AG Walldorf
#     ## # ##    ## #####               Neurottstrasse 16
##### #     # ##### ###                 D-69190 Walldorf
#    ## ### # ##### #                   <A HREF="http://www.sap.com/">http://www.sap.com/</A>
<P>The sun shines on my way, every night and every day. :-)
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0055.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0053.html">Rich Payne: "Re: MILO problem to read ext2 filesystems"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0051.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0055.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0051.html">Juergen Bierlein: "Re: Weird lockups"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Feb 01 2000 - 05:33:35 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
