<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: RE: Weird lockups (fwd)</TITLE>
<META NAME="Author" CONTENT="Uwe Thiem (uwe@uwix.alt.na)">
<META NAME="Subject" CONTENT="RE: Weird lockups (fwd)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>RE: Weird lockups (fwd)</H1>
<HR>
<P>
<!-- received="Tue Jan 25 23:27:07 2000" -->
<!-- isoreceived="20000126072707" -->
<!-- sent="Tue, 25 Jan 2000 13:09:41 -0100 (GMT+1)" -->
<!-- isosent="20000125140941" -->
<!-- name="Uwe Thiem" -->
<!-- email="uwe@uwix.alt.na" -->
<!-- subject="RE: Weird lockups (fwd)" -->
<!-- id="Pine.LNX.4.10.10001251308400.261-100000@uwix.alt.na" -->
<!-- inreplyto="Weird lockups (fwd)" -->
<STRONG>Subject: </STRONG>RE: Weird lockups (fwd)<BR>
<STRONG>From: </STRONG>Uwe Thiem (<EM>uwe@uwix.alt.na</EM>)<BR>
<STRONG>Date: </STRONG>Tue Jan 25 2000 - 06:09:41 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#56">[ date ]</A>
<A HREF="index.html#56">[ thread ]</A>
<A HREF="subject.html#56">[ subject ]</A>
<A HREF="author.html#56">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0057.html">Andrea Arcangeli: "RE: Weird lockups (fwd)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0055.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0057.html">Andrea Arcangeli: "RE: Weird lockups (fwd)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
This might be the answer to the lockups.
<BR>
<P>Uwe
<BR>
<P>-------------------------------------------------------------------------
<BR>
Uwe Thiem                                        Tel: +264 - 061 - 241223
<BR>
P.O.Box 30955                                    
<BR>
Windhoek                                         Email:   uwe@uwix.alt.na
<BR>
Republic of Namibia                                           uwe@kde.org
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="http://www.kde.org">http://www.kde.org</A>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**********************************
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You can still escape from the GATES of hell: Use KDE!
<BR>
-------------------------------------------------------------------------
<BR>
<P><P>---------- Forwarded message ----------
<BR>
Date: Tue, 25 Jan 2000 11:42:09 -0000
<BR>
From: David Faure &lt;David.Faure@cramersystems.com&gt;
<BR>
Reply-To: kde-core-devel@kde.org
<BR>
To: &quot;'kde-core-devel@kde.org'&quot; &lt;kde-core-devel@kde.org&gt;
<BR>
Subject: RE: Weird lockups (fwd)
<BR>
Resent-Date: Tue, 25 Jan 2000 12:44:01 +0100
<BR>
Resent-From: kde-core-devel@master.kde.org
<BR>
<P>I've heard that krootwm could cause X server locks.
<BR>
See the following newsgroup post.
<BR>
Fortunately we dropped this and have a clean solution now (kdesktop).
<BR>
<P>David.
<BR>
<P>-----------------------
<BR>
<P>Subject: 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Re: KDE is locked up - can't do anything: TEMPORARY SOLUTION
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date: 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thu, 20 Jan 2000 13:53:13 +0300
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From: 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nikita V. Youshchenko &lt;yoush@cs.msu.su&gt;
<BR>
&nbsp;Organization: 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CS MSU
<BR>
&nbsp;Newsgroups: 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comp.windows.x.kde
<BR>
&nbsp;&nbsp;References: 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 , 2 , 3
<BR>
<P><EM>&gt;&gt; Kill the X server: Ctrl-Alt-Backspace
</EM><BR>
<EM>&gt;&gt; 
</EM><BR>
<EM>&gt;&gt; That's a bit draconic, so you could also run through the ps output
</EM><BR>
looking
<BR>
<EM>&gt;&gt; for things that start with 'k' running under your ID.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;A couple of times my KDE seemed to hang as well. Even Ctrl-Alt-Backspace
</EM><BR>
<EM>&gt;did not work. However I was able to log in to my machine from another
</EM><BR>
<EM>&gt;one, using telnet, and I found out that kwm was using all CPU-time
</EM><BR>
<EM>&gt;available. Killing kwm also killed the X-server. Starting KDE again
</EM><BR>
<EM>&gt;worked fine thereafter.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;The problem seems (but I am not sure) to be related to switching between
</EM><BR>
<EM>&gt;the virtual desktops, I remapped the ctrl-arrows to do that, and so far
</EM><BR>
<EM>&gt;the problem only occured when I was using these ctrl-arrows relatively
</EM><BR>
<EM>&gt;fast.
</EM><BR>
<P>Being somewhat tired of KDE 1.1.2 lockups, I wrote a LD_PRELOAD and dlopen()
<BR>
stub to find out, what KDE component actually grabs X server and doesn't
<BR>
ungrab
<BR>
it.
<BR>
<P>I was quite surprised to know that is was krootwm ...
<BR>
The code that is there seems to be quite clear and bug-free. But the fact is
<BR>
that on X locks, krootwm calls XGrabServer() and doesn't call
<BR>
XUngrabServer()...
<BR>
<P>A temporary solution for now is to log in remotely and kill krootwm. The
<BR>
session will unlock. Then do Alt+F2 and restart krootwm.
<BR>
<P>A better solution may be to hack krootwm code and make it to stop root icon
<BR>
selection operation and ungrab server anyway, say, in 15 seconds.
<BR>
<P>Good luck.
<BR>
<P>Nikita.
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0057.html">Andrea Arcangeli: "RE: Weird lockups (fwd)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0055.html">Andrea Arcangeli: "Re: Weird lockups"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0057.html">Andrea Arcangeli: "RE: Weird lockups (fwd)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Feb 01 2000 - 05:33:35 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
