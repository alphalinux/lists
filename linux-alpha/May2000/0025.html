<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Re: [PATCH] bogoRe: [PATCH] bogo-resource-man</TITLE>
<META NAME="Author" CONTENT="Michal Jaegermann (michal@ellpspace.math.ualberta.ca)">
<META NAME="Subject" CONTENT="Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)</H1>
<HR>
<P>
<!-- received="Sun May 14 05:18:31 2000" -->
<!-- isoreceived="20000514121831" -->
<!-- sent="Sat, 13 May 2000 17:02:50 -0600 (MDT)" -->
<!-- isosent="20000513230250" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)" -->
<!-- id="200005132302.RAA01998@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="20000513160912.A1459@linux04.mro.dec.com" -->
<STRONG>Subject: </STRONG>Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)<BR>
<STRONG>From: </STRONG>Michal Jaegermann (<EM>michal@ellpspace.math.ualberta.ca</EM>)<BR>
<STRONG>Date: </STRONG>Sat May 13 2000 - 16:02:50 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#25">[ date ]</A>
<A HREF="index.html#25">[ thread ]</A>
<A HREF="subject.html#25">[ subject ]</A>
<A HREF="author.html#25">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0026.html">Graham Stoney: "Calling testers for another Dead Function Optimisation update"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0024.html">Jay Estabrook: "Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0024.html">Jay Estabrook: "Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0024.html">Michal Jaegermann: "Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Jay Estabrook wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Fri, May 12, 2000 at 02:06:30PM -0600, Michal Jaegermann wrote:
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; As a result
</EM><BR>
<EM>&gt; &gt; cycle_freq was left at 0 and a calibrating loop was stuck.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Sigh; I'm afraid cycle_freq may be 0 for more than UX, it may be
</EM><BR>
<EM>&gt; that way for all MILOs.
</EM><BR>
<P>I am afraid that I checked that only on UX.  Its boot sequence a bit
<BR>
different as it has 'ldmilo.exe' loader.  OTOH &quot;HWRPB cycle frequency
<BR>
bogus&quot; is not showing up on EB64+ booting via MILO so at least there
<BR>
'hwrpb-&gt;cycle_freq' cannot differ too much from 'est_cycle_freq'.
<BR>
<P><EM>&gt; Anyway, I'd like it better to *force* the use of the calculation, if
</EM><BR>
<EM>&gt; equal to 0; try replacing:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 	cycle_freq = hwrpb-&gt;cycle_freq;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; with
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 	if (!(cycle_freq = hwrpb-&gt;cycle_freq)) cycle_freq = est_cycle_freq;
</EM><BR>
<P>This will have really the same effect as 'diff' will be zero,
<BR>
'ppm_error' therefore zero as well, and in both ways we end up with
<BR>
'est_cycle_freq' in 'cycle_freq'.  The only difference is that &quot;seems
<BR>
inaccurate&quot; message will be not printed.  I did what I did mainly
<BR>
because an old version of this message was showing up on UX; it does not
<BR>
look that it carries a very meaningful information anyway. :-)
<BR>
<P>&nbsp;&nbsp;&nbsp;Michal
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0026.html">Graham Stoney: "Calling testers for another Dead Function Optimisation update"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0024.html">Jay Estabrook: "Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0024.html">Jay Estabrook: "Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0024.html">Michal Jaegermann: "Re: [PATCH] bogoRe: [PATCH] bogo-resource-management for 2.2.15 bios32.c (Miata+SRM+IDE fix)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Jun 01 2000 - 09:46:28 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
