<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Linux Alpha List: Joint Qlogic 1020/1040 SCSI and Qlogic 2100 F</TITLE>
<META NAME="Author" CONTENT="Matthew Jacob (mjacob@feral.com)">
<META NAME="Subject" CONTENT="Joint Qlogic 1020/1040 SCSI and Qlogic 2100 Fibre Channel driver">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Joint Qlogic 1020/1040 SCSI and Qlogic 2100 Fibre Channel driver</H1>
<HR>
<P>
<!-- received="Mon Feb 01 16:31:14 1999 PST" -->
<!-- sent="Mon, 1 Feb 1999 08:29:07 -0800 (PST)" -->
<!-- name="Matthew Jacob" -->
<!-- email="mjacob@feral.com" -->
<!-- subject="Joint Qlogic 1020/1040 SCSI and Qlogic 2100 Fibre Channel driver" -->
<!-- id="Pine.LNX.4.04.9901301755430.4585-100000@feral-gw" -->
<!-- inreplyto="" -->
<STRONG>Matthew Jacob</STRONG> (<A HREF="mailto:mjacob@feral.com?subject=Re:%20Joint%20Qlogic%201020/1040%20SCSI%20and%20Qlogic%202100%20Fibre%20Channel%20driver"><EM>mjacob@feral.com</EM></A>)<BR>
<EM>Mon, 1 Feb 1999 08:29:07 -0800 (PST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#0">[ date ]</A>
<A HREF="index.html#0">[ thread ]</A>
<A HREF="subject.html#0">[ subject ]</A>
<A HREF="author.html#0">[ author ]</A>
<!-- next="start" -->
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
This is now ready for testing on alpha and intel architectures if anyone
<BR>
would care to try. This can be made as a module against 2.2.0-final (and
<BR>
probably 2.2.0 or 2.2.1). I haven't got a patch script to make it part of
<BR>
the regular kernel yet. It isn't ready for Sparc yet.
<BR>
<P>I've tried it on my a alphapc164 system, and seems to work as well as it
<BR>
does under the Intel machines I've tried it on. I was going to try it on
<BR>
an Alpha4100 but the Alpha4100 refused to boot with the bootblock loaded.
<BR>
<P>It's got a bunch of whizzy features not in the current qlogicisp driver
<BR>
(better speed negotiation, a bit more survivable, uses the fast posting
<BR>
completion methods...). It's all set up for target mode (which will get
<BR>
there RSN...I've got a solaris version but not really ported into Linux
<BR>
yet).
<BR>
<P>The Fibre channel is public loop only. It doesn't grok fabric (RSN now
<BR>
also), but does handle Sun photons rather well anyway.
<BR>
<P>Overall it's still way too bulky, but will get slimmed down substantially
<BR>
as soon as the Sparc support is in.
<BR>
<P>It can be snagged via:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="ftp://ftp.feral.com/pub/isp/isp_dist.tgz">ftp://ftp.feral.com/pub/isp/isp_dist.tgz</A>
<BR>
<P>This package also includes the FreeBSD and NetBSD versions (they all share
<BR>
common code). I'd appreciate all feedback.
<BR>
<P>-matt
<BR>
<P>Load Log on the Alpha:
<BR>
<P>isp@&lt;PCI0,Slot5,Func0&gt;: rewriting command register from 0x47 to 0x157
<BR>
isp@&lt;PCI0,Slot5,Func0&gt;: rewriting cache line size from 0x0 to 0x10
<BR>
isp@&lt;PCI0,Slot5,Func0&gt;: mapped I/O space at 0x8000
<BR>
isp0: Ultra Mode Capable
<BR>
isp0: Board Revision 1040B, loaded F/W Revision 7.55
<BR>
isp0: Last F/W revision was 2.10
<BR>
isp@&lt;PCI0,Slot6,Func0&gt;: rewriting command register from 0x47 to 0x157
<BR>
isp@&lt;PCI0,Slot6,Func0&gt;: rewriting cache line size from 0x0 to 0x10
<BR>
isp@&lt;PCI0,Slot6,Func0&gt;: mapped I/O space at 0x8800
<BR>
isp1: Board Revision 2100, loaded F/W Revision 1.15
<BR>
isp1: Adapter WWN 0x200000e08b003c1f
<BR>
isp1: Firmware State Config Wait -&gt; Waiting for AL/PA
<BR>
isp1: Firmware State Waiting for AL/PA -&gt; Wait Login
<BR>
isp1: Firmware State Wait Login -&gt; Ready
<BR>
isp1: Loop ID 113, ALPA 0x23
<BR>
scsi1 : Driver for a Qlogic 1XX0 SCSI Adapter
<BR>
scsi2 : Driver for a Qlogic 2XX0 FCAL Adapter
<BR>
scsi : 3 hosts.
<BR>
&nbsp;&nbsp;Vendor: IBM       Model: DORS-32160W       Rev: WA6A
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
Detected scsi disk sdc at scsi1, channel 0, id 0, lun 0
<BR>
&nbsp;&nbsp;Vendor: SEAGATE   Model: ST15230W          Rev: 0638
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
Detected scsi disk sdd at scsi1, channel 0, id 1, lun 0
<BR>
&nbsp;&nbsp;Vendor: SEAGATE   Model: ST19171FCSUN9.0G  Rev: 1378
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
Detected scsi disk sde at scsi2, channel 0, id 2, lun 0
<BR>
&nbsp;&nbsp;Vendor: SEAGATE   Model: ST19171FCSUN9.0G  Rev: 1378
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
Detected scsi disk sdf at scsi2, channel 0, id 3, lun 0
<BR>
&nbsp;&nbsp;Vendor: SEAGATE   Model: ST19171FCSUN9.0G  Rev: 1378
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
Detected scsi disk sdg at scsi2, channel 0, id 4, lun 0
<BR>
isp0: Target 0 at 20MHz Max Offset 8, 16 bit wide, Tagged Queueing Enabled
<BR>
SCSI device sdc: hdwr sector= 512 bytes. Sectors= 4226725 [2063 MB] [2.1 GB]
<BR>
&nbsp;sdc: sdc1 sdc2 sdc3 sdc5
<BR>
isp0: Target 1 at 10MHz Max Offset 8, 16 bit wide, Tagged Queueing Enabled
<BR>
SCSI device sdd: hdwr sector= 512 bytes. Sectors= 8386733 [4095 MB] [4.1 GB]
<BR>
&nbsp;sdd: sdd1 sdd2 sdd3
<BR>
SCSI device sde: hdwr sector= 512 bytes. Sectors= 17689267 [8637 MB] [8.6 GB]
<BR>
&nbsp;sde: sde1 sde2 sde3
<BR>
SCSI device sdf: hdwr sector= 512 bytes. Sectors= 17689267 [8637 MB] [8.6 GB]
<BR>
&nbsp;sdf: sdf1 sdf2 sdf3
<BR>
SCSI device sdf: hdwr sector= 512 bytes. Sectors= 17689267 [8637 MB] [8.6 GB]
<BR>
&nbsp;sdf: sdf1
<BR>
SCSI device sdf: hdwr sector= 512 bytes. Sectors= 17689267 [8637 MB] [8.6 GB]
<BR>
&nbsp;sdf: sdf1
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Mon Feb 01 1999 - 09:00:20 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
