<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>High Performance Alpha Linux: Optimizing CRS-Matrix routines</TITLE>
<META NAME="Author" CONTENT="Thomas Bruns (Thomas.Bruns@ptb.de)">
<META NAME="Subject" CONTENT="Optimizing CRS-Matrix routines">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Optimizing CRS-Matrix routines</H1>
<HR>
<P>
<!-- received="Thu Jan 21 21:41:34 1999 EST" -->
<!-- sent="Fri, 4 Dec 1998 12:42:42 +1" -->
<!-- name="Thomas Bruns" -->
<!-- email="Thomas.Bruns@ptb.de" -->
<!-- subject="Optimizing CRS-Matrix routines" -->
<!-- id="3667cc2e2696002@u8455.bs.ptb.de" -->
<!-- inreplyto="" -->
<STRONG>Thomas Bruns</STRONG> (<A HREF="mailto:Thomas.Bruns@ptb.de?subject=Re:%20Optimizing%20CRS-Matrix%20routines"><EM>Thomas.Bruns@ptb.de</EM></A>)<BR>
<EM>Fri, 4 Dec 1998 12:42:42 +1</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#13">[ date ]</A>
<A HREF="index.html#13">[ thread ]</A>
<A HREF="subject.html#13">[ subject ]</A>
<A HREF="author.html#13">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0014.html">Adam C. Powell, IV: "Re: Optimizing CRS-Matrix routines"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0012.html">naohiko shimizu: "Re: Questions on performance methods"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0014.html">Adam C. Powell, IV: "Re: Optimizing CRS-Matrix routines"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>recently I modified the code of a FEM-Application due to the 
<BR>
information on loop otimization from Mr. Goto, and it was a real
<BR>
improvement.
<BR>
But those optimization base on fixed loop-boundaries.
<BR>
<P>How can I optimize code as it is used in sparse matrix applications
<BR>
where the index of the non-zero-elements is a an array of it`s own 
<BR>
like:
<BR>
---------------------------
<BR>
double vector[MatrixDimension];
<BR>
double vector[MatrixDimension];
<BR>
<P>double matrix[NumberOfNonZeroElements]; /* only nze of matrix */
<BR>
int matrix_idx[NumberOfNonZeroElements];     /* col_idxt */
<BR>
int matrix_ptr[MatrixDimension+1];	/* start of row */
<BR>
<P>for (row=0; row&lt;MaxRow; row++)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ptr=matrix_ptr[row];  ptr&lt;matrixptr[row+1]; ptr++)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector[matrix_idx[ptr]] += matrix[ptr]*vector[matrix_idx[ptr]]
<BR>
---------------------------
<BR>
You can't do manual loop-unrolling here, can you ?!?!
<BR>
<P>Any Information welcome !
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thanks,	
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thomas
<BR>
------------------------------------------------------
<BR>
Dipl. Phys. Thomas Bruns                    phone : 0531/592-1217
<BR>
Physikalisch Technische Bundesanstalt       Fax   :         -1205
<BR>
Bundesalle 100                              e-mail: <A HREF="mailto:Thomas.Bruns@ptb.de?subject=Re:%20Optimizing%20CRS-Matrix%20routines">Thomas.Bruns@ptb.de</A>
<BR>
Postfach 3345
<BR>
38023 Braunscweig
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0014.html">Adam C. Powell, IV: "Re: Optimizing CRS-Matrix routines"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0012.html">naohiko shimizu: "Re: Questions on performance methods"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0014.html">Adam C. Powell, IV: "Re: Optimizing CRS-Matrix routines"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Thu Jan 21 1999 - 21:41:39 EST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
