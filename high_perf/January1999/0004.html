<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>High Performance List: Re: Performance Comparison of Compilers</TITLE>
<META NAME="Author" CONTENT="Claus Denk (denk@morena.us.es)">
<META NAME="Subject" CONTENT="Re: Performance Comparison of Compilers">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Performance Comparison of Compilers</H1>
<HR>
<P>
<!-- received="Thu Jan 21 19:55:53 1999 PST" -->
<!-- sent="Thu, 21 Jan 1999 19:07:21 +0100 (4UU)" -->
<!-- name="Claus Denk" -->
<!-- email="denk@morena.us.es" -->
<!-- subject="Re: Performance Comparison of Compilers" -->
<!-- id="Pine.LNX.3.95.990121183349.6320B-100000@morena.us.es" -->
<!-- inreplyto="199901211537.JAA0000005356@localhost" -->
<STRONG>Claus Denk</STRONG> (<A HREF="mailto:denk@morena.us.es?subject=Re:%20Performance%20Comparison%20of%20Compilers"><EM>denk@morena.us.es</EM></A>)<BR>
<EM>Thu, 21 Jan 1999 19:07:21 +0100 (4UU)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#4">[ date ]</A>
<A HREF="index.html#4">[ thread ]</A>
<A HREF="subject.html#4">[ subject ]</A>
<A HREF="author.html#4">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0005.html">Michal Jaegermann: "Re: Performance Comparison of Compilers"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0003.html">Stefan Schroepfer: "Re: Performance Comparison of Compilers"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0000.html">Dr J Pelan: "Performance Comparison of Compilers"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0005.html">Michal Jaegermann: "Re: Performance Comparison of Compilers"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
Hi all,
<BR>
<P><EM>&gt; Note that although it appears to be possible to run DU code on a Linux box,
</EM><BR>
<EM>&gt; there seem to be licensing issues.  I've not looked into these yet.  I
</EM><BR>
<EM>&gt; will probably simply let DU generate assembly sequences which I will then
</EM><BR>
<EM>&gt; move to Linux for assembly and linking.
</EM><BR>
<P>&nbsp;&nbsp;Yes, it is illegal to run DU statically linked code on a linux alpha box
<BR>
(due to the licensed libraries that are linked). There were some efforts
<BR>
on the axp list to write libraries that could dynamically be linked
<BR>
against DU code (this would be legal), but I don't know if anyone has
<BR>
continued this work.
<BR>
<P>Generating DU assembly code and doing the assemply on linux isn't a
<BR>
solution neither, as the gnu assembler doesn't understand all the assembly
<BR>
code produced by the Du compilers. You will have to know how to handcode
<BR>
assembly on the alpha .... 
<BR>
<P>I can't give you any comparisons for the egcs compilers, but I can
<BR>
contribute with a DU f77 (V4.1, options -O4 I believe) and a 
<BR>
g77 0.5.21 (-O2 -funroll-loops) comparison. The benchmarks are the
<BR>
livermore loops, the geometric mean of the following results is a number
<BR>
that represents quite well the performance that I see in my various
<BR>
programs:
<BR>
<P>ALPHA 21164 500Mhz/1Mb cache, DEC f77 V4.1 (-O4), RH Linux 4.2:
<BR>
---------------------------------------------------------------
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MFLOPS    RANGE:             REPORT ALL RANGE STATISTICS:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mean DO Span   =  167
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Code Samples   =   72
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum   Rate =    276.4885 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quartile  Q3   =    116.1047 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Average   Rate =     91.7861 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Geometric Mean =     73.6158 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Median    Q2   =     73.3668 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Harmonic  Mean =     56.3082 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quartile  Q1   =     50.0282 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Minimum   Rate =     10.6042 Mega-Flops/Sec.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Standard  Dev. =     60.0277 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Avg Efficiency =     26.63%  Program &amp; Processor
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mean Precision =     15.90   Decimal Digits
<BR>
<P>ALPHA 21164 500Mhz/1Mb cache, g77 0.5.21 (-O2 -funroll-loops), RH 4.2:
<BR>
----------------------------------------------------------------------
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MFLOPS    RANGE:             REPORT ALL RANGE STATISTICS:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mean DO Span   =  167
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Code Samples   =   72
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum   Rate =    194.4802 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quartile  Q3   =     70.2215 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Average   Rate =     61.7432 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Geometric Mean =     50.0105 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Median    Q2   =     55.0838 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Harmonic  Mean =     33.8270 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quartile  Q1   =     37.4901 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Minimum   Rate =      3.9221 Mega-Flops/Sec.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Standard  Dev. =     39.0908 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Avg Efficiency =     25.71%  Program &amp; Processor
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mean Precision =     15.90   Decimal Digits
<BR>
<P><P>Just for comparison:
<BR>
<P>Pentium II 400 MHz, g77 0.5.18, -O2 -funroll-loops, RH Linux 5.?:
<BR>
-----------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MFLOPS    RANGE:             REPORT ALL RANGE STATISTICS:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mean DO Span   =  167
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Code Samples   =   72
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum   Rate =    239.0417 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quartile  Q3   =     87.7879 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Average   Rate =     73.8423 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Geometric Mean =     61.2890 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Median    Q2   =     67.0473 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Harmonic  Mean =     43.8180 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quartile  Q1   =     52.1202 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Minimum   Rate =      6.4813 Mega-Flops/Sec.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Standard  Dev. =     42.3088 Mega-Flops/Sec.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Avg Efficiency =     25.64%  Program &amp; Processor
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mean Precision =     12.69   Decimal Digits
<BR>
<P><P>A very poor result for g77 can be obtained by comparing the original
<BR>
Netlib BLAS routines SGEMM and DGEMM (matrix matrix multiplication)
<BR>
routines (rates in MFLOPS, mean values over matrix sizes 32x32 up to
<BR>
128x128 in steps of 32):
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g77 0.5.21    DU
<BR>
SGEMM    27         144
<BR>
DGEMM    26         115
<BR>
<P>I suppose that the egcs compilers have improved these numbers 
<BR>
quite a bit ! 
<BR>
<P>regards, Claus
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0005.html">Michal Jaegermann: "Re: Performance Comparison of Compilers"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0003.html">Stefan Schroepfer: "Re: Performance Comparison of Compilers"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0000.html">Dr J Pelan: "Performance Comparison of Compilers"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0005.html">Michal Jaegermann: "Re: Performance Comparison of Compilers"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Jan 24 1999 - 14:47:54 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
