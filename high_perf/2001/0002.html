<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>High Performance List: [High-perf] Optimized BLAS/Lapack Routine</TITLE>
<META NAME="Author" CONTENT="Kazushige Goto (goto@statabo.rim.or.jp)">
<META NAME="Subject" CONTENT="[High-perf] Optimized BLAS/Lapack Routine">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>[High-perf] Optimized BLAS/Lapack Routine</H1>
<HR>
<P>
<!-- received="Thu Mar 01 10:03:38 2001" -->
<!-- isoreceived="20010301180338" -->
<!-- sent="Fri, 09 Feb 2001 22:32:43 +0900" -->
<!-- isosent="20010209133243" -->
<!-- name="Kazushige Goto" -->
<!-- email="goto@statabo.rim.or.jp" -->
<!-- subject="[High-perf] Optimized BLAS/Lapack Routine" -->
<!-- id="20010209223243C.goto@statabo.rim.or.jp" -->
<STRONG>Subject: </STRONG>[High-perf] Optimized BLAS/Lapack Routine<BR>
<STRONG>From: </STRONG>Kazushige Goto (<EM>goto@statabo.rim.or.jp</EM>)<BR>
<STRONG>Date: </STRONG>Fri Feb 09 2001 - 05:32:43 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2">[ date ]</A>
<A HREF="index.html#2">[ thread ]</A>
<A HREF="subject.html#2">[ subject ]</A>
<A HREF="author.html#2">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0003.html">mailman-owner@talisman.mv.com: "lists.alphalinux.org mailing list memberships reminder"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0001.html">Andrei A. Dergatchev: "[High-perf] Compaq C++ in scientific applications"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>&nbsp;&nbsp;This is an announce of Optimized BLAS/Lapack routines for Alpha EV5
<BR>
and EV6.
<BR>
<P>You can download from
<BR>
<P><A HREF="ftp://www.netstat.ne.jp/pub/Linux/Linux-Alpha-JP/BLAS/">ftp://www.netstat.ne.jp/pub/Linux/Linux-Alpha-JP/BLAS/</A>
<BR>
<P>Features:
<BR>
&nbsp;&nbsp;This is optimized BLAS(Level 1, 3 and some 2) and some lapack(GESV,
<BR>
LASWP, GETF2, GETRF) library for Alpha.  And Level 3 routines and
<BR>
some lapack(GETRF, LASWP) routines are parallelized  by posix thread.
<BR>
You can choose SINGLE/SMP version by editing the File &quot;Makefile.rule&quot;.
<BR>
<P>Support OS:
<BR>
&nbsp;&nbsp;Linux/Alpha and Tru64 UNIX(it works fine on V4.0F and 5.1, need GNU
<BR>
make).
<BR>
<P>Thanks,
<BR>
&nbsp;&nbsp;goto@statabo.rim.or.jp
<BR>
<P>=====================================================================
<BR>
<P>1. Total Performance(Linpack GETRF)
<BR>
<P>&nbsp;&nbsp;&nbsp;Now, Linpack TPP performs 1025 MFlops(XP1000, 21264 677MHz, Tru64
<BR>
Unix V4.0F, this is a peak performance.  The avarage is about
<BR>
1015MFlops) as fast as Compaq's announced performance.  On Linux, TPP
<BR>
performs a little bit slower(Peak is 1016MFlops, avarage is 1010MFlops).
<BR>
&nbsp;
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-1. TPP performance(XP1000, 21264 667MHz, Tru64 UNIX V4.0F)
<BR>
&nbsp;&nbsp;-----------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;norm. resid      resid           machep         x(1)          x(n)
<BR>
&nbsp;&nbsp;4.56250082E+00  5.06539255E-13  2.22044605E-16  1.00000000E+00  1.00000000E+00
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;times are reported for matrices of order  1000
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factor     solve      total     mflops       unit      ratio
<BR>
&nbsp;times for array with leading dimension of1001
<BR>
&nbsp;&nbsp;6.437E-01  8.940E-03  6.526E-01  1.025E+03  1.952E-03  1.165E+01
<BR>
&nbsp;&nbsp;end of tests -- this version dated 10/12/92
<BR>
&nbsp;&nbsp;-----------------------------------------------------------------------
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-2. TPP performance(LX164, 21164 600MHz, Tru64 UNIX V5.1)
<BR>
&nbsp;&nbsp;-----------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;norm. resid      resid           machep         x(1)          x(n)
<BR>
&nbsp;&nbsp;4.15450074E+00  4.61242156E-13  2.22044605E-16  1.00000000E+00  1.00000000E+00
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;times are reported for matrices of order  1000
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factor     solve      total     mflops       unit      ratio
<BR>
&nbsp;times for array with leading dimension of1001
<BR>
&nbsp;&nbsp;1.015E+00  2.731E-02  1.042E+00  6.417E+02  3.116E-03  1.861E+01
<BR>
&nbsp;&nbsp;end of tests -- this version dated 10/12/92
<BR>
&nbsp;&nbsp;-----------------------------------------------------------------------
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3. GETRF performance(XP1000, 21264 667MHz, Linux-2.4.1,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;()&quot; is CXML-5.0 performance)
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;SIZE |     SGETRF     |     DGETRF     |    CGETRF      |    ZGETRF 
<BR>
&nbsp;&nbsp;------+----------------+----------------+----------------+----------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;100 | 616.71( 232.45)| 545.55( 193.18)| 660.58( 418.63)| 634.77( 305.95)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;400 | 978.10( 535.13)| 838.54( 439.63)| 998.10( 734.06)| 938.81( 551.33)
<BR>
&nbsp;&nbsp;&nbsp;1000 |1096.57( 773.86)|1014.98( 682.78)|1099.80( 922.46)|1047.88( 791.71)
<BR>
&nbsp;&nbsp;&nbsp;2000 |1130.48( 902.63)|1055.53( 834.52)|1123.82(1018.72)|1086.88( 911.97)
<BR>
&nbsp;&nbsp;&nbsp;3000 |1144.48( 971.80)|1087.45( 905.77)|1135.26(1056.64)|1102.71( 960.29)
<BR>
&nbsp;&nbsp;&nbsp;4000 |1158.67(1003.11)|1098.55( 948.78)|1135.94(1076.42)|1113.87( 990.93)
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-4. GETRF(SMP) performance(DP264, 21264 500MHz x 2, Linux-2.2.18)
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;SIZE |     SGETRF     |     DGETRF     |    CGETRF      |    ZGETRF 
<BR>
&nbsp;&nbsp;------+----------------+----------------+----------------+----------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;100 | 341.18         | 341.18         | 545.89         | 454.83 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;400 | 970.43         | 856.25         |1343.64         |1230.10 
<BR>
&nbsp;&nbsp;&nbsp;1000 |1476.88         |1340.51         |1538.49         |1479.29
<BR>
&nbsp;&nbsp;&nbsp;2000 |1585.37         |1462.91         |1580.13         |1545.11 
<BR>
&nbsp;&nbsp;&nbsp;3000 |1629.23         |1501.86         |1614.24         |1557.35 
<BR>
&nbsp;&nbsp;&nbsp;4000 |1643.55         |1510.83         |1617.98         |1572.15
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-5. GETRF performance(LX164, 21164 600MHz, Linux-2.2.18,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;()&quot; is CXML-5.0 performance)
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;SIZE |     SGETRF     |     DGETRF     |    CGETRF      |    ZGETRF 
<BR>
&nbsp;&nbsp;------+----------------+----------------+----------------+----------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;400 | 728.60( 619.29)| 624.51( 514.30)| 874.32( 672.55)| 728.60( 495.36)
<BR>
&nbsp;&nbsp;&nbsp;1000 | 819.02( 728.53)| 660.86( 558.70)| 941.25( 764.95)| 784.28( 595.47)
<BR>
&nbsp;&nbsp;&nbsp;2000 | 850.70( 794.59)| 719.85( 646.24)| 988.58( 822.58)| 819.74( 646.31)
<BR>
&nbsp;&nbsp;&nbsp;3000 | 880.03( 817.35)| 743.50( 677.19)|1005.40( 847.46)|  Out of memory
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
<P><P>2.  BLAS Level 3 Performance
<BR>
<P>2-1. GEMM routines
<BR>
<P>&nbsp;&nbsp;Old GEMM routines(including CXML's GEMM) are slow on small matrices.
<BR>
This time, with dynamically adjusting block size and suppressing
<BR>
system calls, small matrix performance is dramatically improved.  And
<BR>
also large matrix performance is improved a little bit(DGEMM performs
<BR>
1206MFlops,  if you have DDR cache machine, it may reach
<BR>
1230MFlops!(92.5% of peak performance)). 
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2-1. GEMM performance(XP1000, 21264 667MHz, Linux-2.4.1,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No-Transposed,	&quot;()&quot; is CXML-5.0 performance)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*) 8 - 200 are peark performance
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;SIZE |     SGEMM      |     DGEMM      |    CGEMM       |    ZGEMM 
<BR>
&nbsp;&nbsp;------+----------------+----------------+----------------+----------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8 | 697.66(  32.47)| 681.65(  24.02)| 566.81(  86.06)| 512.77(  60.72)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16 | 971.39( 107.98)| 972.60(  85.53)| 792.64( 303.32)| 717.21( 173.79)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24 |1058.44( 184.70)|1058.20( 152.53)| 938.35( 479.13)| 875.50( 332.73)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48 |1136.14( 545.26)|1130.35( 431.06)|1051.16( 862.81)| 973.43( 713.48)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64 |1126.03( 746.81)|1031.52( 582.65)|1077.58( 970.89)|1021.62( 839.38)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;100 |1167.60( 954.24)|1064.11( 826.18)|1113.63(1078.54)|1061.30( 990.31)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;144 |1173.76(1078.98)|1111.62( 968.76)|1135.79(1133.13)|1095.61(1064.44)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;200 |1200.83(1145.67)|1142.48(1056.37)|1154.26(1169.39)|1109.87(1114.74)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;400 |1184.96(1107.40)|1071.52(1098.27)|1123.04(1194.26)|1094.35(1147.66)
<BR>
&nbsp;&nbsp;&nbsp;1000 |1231.71(1200.55)|1193.69(1143.45)|1186.36(1195.59)|1144.59(1148.33)
<BR>
&nbsp;&nbsp;&nbsp;2000 |1252.07(1227.28)|1202.42(1157.27)|1189.10(1198.91)|1165.85(1152.46)
<BR>
&nbsp;&nbsp;&nbsp;3000 |1248.96(1218.57)|1199.80(1170.99)|1187.22(1200.16)|1155.04(1172.45) 
<BR>
&nbsp;&nbsp;&nbsp;4000 |1252.95(1237.43)|1206.30(1169.26)|1191.71(1199.17)| Out of memory
<BR>
&nbsp;&nbsp;--------------------------------------------------------------------------
<BR>
<P><P>2-2. Other Level 3 routines
<BR>
<P>&nbsp;&nbsp;Other level 3 routines are also improved owing to GEMM and GEMV
<BR>
routines.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2-2. Other Level 3 performance(XP1000, 21264 667MHz, Linux-2.4.1,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No-Transposed, Upper, Non-Unit, &quot;()&quot; is CXML-5.0 performance)
<BR>
&nbsp;------------------------------------------------------------------------------
<BR>
&nbsp;FUNC(SIZE)|  Single Real   |  Double Real   | Single Complex |Double Complex
<BR>
&nbsp;----------+----------------+-------------+-------------------+----------------
<BR>
&nbsp;TRSM  200 | 968.76( 308.37)| 880.09( 251.07)|1020.47( 464.44)| 945.24( 325.44)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1000 |1148.36( 771.74)|1074.18( 695.84)|1095.45( 911.86)|1099.07( 779.44)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3000 |1170.10( 975.88)|1144.26( 931.50)|1154.61(1054.18)|1132.81( 958.63)
<BR>
&nbsp;----------+----------------+----------------+----------------+----------------
<BR>
&nbsp;TRMM  200 | 967.82( 282.85)| 862.35( 248.34)|1031.46( 482.91)| 897.69( 322.04)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1000 |1144.53( 768.54)|1069.89( 701.05)|1097.58( 912.20)|1086.52( 599.84)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3000 |1179.92( 982.40)|1150.31( 925.54)|1156.26(1055.74)|1127.97( 955.99)
<BR>
&nbsp;----------+----------------+----------------+----------------+----------------
<BR>
&nbsp;SYMM  200 |1082.91( 772.35)| 994.35( 653.78)|1071.47(1029.83)|1024.44( 886.60)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1000 |1195.76(1077.46)|1102.83( 788.23)|1143.53(1141.23)|1107.63(1072.97)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3000 |1223.63(1105.22)|1146.79(1044.05)|1161.99(1148.40)|1114.69(1088.97)
<BR>
&nbsp;----------+----------------+----------------+----------------+----------------
<BR>
&nbsp;SYRK  200 | 890.57( 426.08)| 826.70( 816.74)|1021.52(1049.39)| 964.87( 938.61)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1000 |1140.09( 985.11)|1077.68( 980.45)|1096.32(1119.22)|1034.97( 804.01)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3000 |1182.35(1084.61)|1101.77(1033.34)|1150.74(1127.06)|1102.38(1054.79)
<BR>
&nbsp;----------+----------------+----------------+----------------+----------------
<BR>
&nbsp;SYR2K 200 | 880.62( 991.39)| 822.16( 881.54)| 945.11(1124.25)| 785.15(1021.71)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1000 |1121.03(1175.67)| 972.98(1063.17)|1105.07(1163.93)| 994.64(1146.42)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3000 |1195.83(1193.61)|1096.98(1104.29)|1070.97(1187.44)|1067.48(1152.66)
<BR>
&nbsp;------------------------------------------------------------------------------
<BR>
_______________________________________________
<BR>
High-perf mailing list
<BR>
High-perf@lists.alphalinux.org
<BR>
<A HREF="http://lists.alphalinux.org/mailman/listinfo/high-perf">http://lists.alphalinux.org/mailman/listinfo/high-perf</A>
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0003.html">mailman-owner@talisman.mv.com: "lists.alphalinux.org mailing list memberships reminder"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0001.html">Andrei A. Dergatchev: "[High-perf] Compaq C++ in scientific applications"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Dec 08 2001 - 16:00:06 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
