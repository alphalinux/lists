<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>High Performance List: Re: sqrt performance</TITLE>
<META NAME="Author" CONTENT="esci (esci@fastlane.net)">
<META NAME="Subject" CONTENT="Re: sqrt performance">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: sqrt performance</H1>
<HR>
<P>
<!-- received="Wed Mar 03 21:13:43 1999 PST" -->
<!-- sent="Wed, 3 Mar 1999 14:53:39 -0600 (CST)" -->
<!-- name="esci" -->
<!-- email="esci@fastlane.net" -->
<!-- subject="Re: sqrt performance" -->
<!-- id="199903032053.OAA0000010875@localhost" -->
<!-- inreplyto="sqrt performance" -->
<STRONG>esci</STRONG> (<A HREF="mailto:esci@fastlane.net?subject=Re:%20sqrt%20performance"><EM>esci@fastlane.net</EM></A>)<BR>
<EM>Wed, 3 Mar 1999 14:53:39 -0600 (CST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#10">[ date ]</A>
<A HREF="index.html#10">[ thread ]</A>
<A HREF="subject.html#10">[ subject ]</A>
<A HREF="author.html#10">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0009.html">Joachim Wesner: "Re: Free Compaq Math Library for Linux"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0006.html">Andrei A. Dergatchev: "Free Compaq Math Library for Linux"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
[snip]
<BR>
<EM>&gt;Looking at the structure of your code I think it *should* be possible
</EM><BR>
<EM>&gt;to get some acceleration exploiting regulatiry of sqrt argument:
</EM><BR>
<EM>&gt;some_value*constant_for_this_cycle+delta^2*(i++)^2
</EM><BR>
<EM>&gt;for i=1,N
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;I'm thinking about division of one argument over other.
</EM><BR>
<P><EM>&gt;Can you expect any relation of general nature like
</EM><BR>
<EM>&gt;some_value*constant_for_this_cycle&lt;&lt;delta^2*(i++)^2
</EM><BR>
<EM>&gt;or vice versa or anything in this style ?
</EM><BR>
<P>All the values are monotonic, so you can speed things up a good bit by using
<BR>
the previous result as the starting point in a Newtonian iteration. It gives
<BR>
a factor of 3 speed up w/ g77 or NDP, but is slightly slower than the DU
<BR>
library routine.  This was with 2 steps hard coded w/o conditional logic.
<BR>
I only need 13 bits of accuracy as the result is an index into an array.
<BR>
<P>One of the things that is slowly sinking in is that my loop is too short,
<BR>
typically under 100 iterations.  From what I'm seeing, I should be able to
<BR>
get faster results by chaining a number of loops together.
<BR>
<P>BTW can anyone provide good references on sqrt() methods?  I looked in
<BR>
Knuth and quite a few other math references but found little other than very
<BR>
basic stuff (i.e. Newton's method)  Knuth has one algorithm posed as an
<BR>
exercise (M40 == Mathematical, term project difficulty :-(
<BR>
<P>I'm currently looking into using a table driven Taylor's series expansion.
<BR>
Hint's and suggestions *very* welcome.  I need to do this over the range
<BR>
from 0 to 100,000,000  w/ the roots off by less than 1 (I actually need
<BR>
integer roots for the indexing).  There ought to be a way to get this going 
<BR>
a lot faster.
<BR>
<P><P>Reginald Beardsley
<BR>
<P>------------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exploration Software Consultants Inc.
<BR>
<P>Voice: 972-379-0557                      email: <A HREF="mailto:rhb@acm.org?subject=Re:%20sqrt%20performance">rhb@acm.org</A>
<BR>
Fax:   972-379-0558
<BR>
------------------------------------------------------------------------
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0009.html">Joachim Wesner: "Re: Free Compaq Math Library for Linux"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0006.html">Andrei A. Dergatchev: "Free Compaq Math Library for Linux"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Mar 03 1999 - 14:00:16 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
