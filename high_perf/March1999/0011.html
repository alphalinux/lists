<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>High Performance List: Re: sqrt performance</TITLE>
<META NAME="Author" CONTENT="Andrei A. Dergatchev (A.Dergatchev@tn.utwente.nl)">
<META NAME="Subject" CONTENT="Re: sqrt performance">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: sqrt performance</H1>
<HR>
<P>
<!-- received="Wed Mar 03 22:11:13 1999 PST" -->
<!-- sent="Wed, 03 Mar 1999 22:40:46 +0100" -->
<!-- name="Andrei A. Dergatchev" -->
<!-- email="A.Dergatchev@tn.utwente.nl" -->
<!-- subject="Re: sqrt performance" -->
<!-- id="36DDAC5E.269B242E@tn.utwente.nl" -->
<!-- inreplyto="199903032053.OAA0000010875@localhost" -->
<STRONG>Andrei A. Dergatchev</STRONG> (<A HREF="mailto:A.Dergatchev@tn.utwente.nl?subject=Re:%20sqrt%20performance"><EM>A.Dergatchev@tn.utwente.nl</EM></A>)<BR>
<EM>Wed, 03 Mar 1999 22:40:46 +0100</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#11">[ date ]</A>
<A HREF="index.html#11">[ thread ]</A>
<A HREF="subject.html#11">[ subject ]</A>
<A HREF="author.html#11">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0010.html">esci: "Re: sqrt performance"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0001.html">esci: "sqrt performance"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>[snip]
<BR>
<P><EM>&gt; All the values are monotonic, so you can speed things up a good bit by using
</EM><BR>
<EM>&gt; the previous result as the starting point in a Newtonian iteration. It gives
</EM><BR>
<EM>&gt; a factor of 3 speed up w/ g77 or NDP, but is slightly slower than the DU
</EM><BR>
<EM>&gt; library routine.  This was with 2 steps hard coded w/o conditional logic.
</EM><BR>
<EM>&gt; I only need 13 bits of accuracy as the result is an index into an array.
</EM><BR>
<P>Well, 3x speed up is already quite a lot, do you want to calculate sqrt at
<BR>
one clock :-) ? Ok, just kidding. I believe requiring only 13 bits (out of 64
<BR>
of input ?) we have plenty of room to optimise. Can you provide some
<BR>
code using this optimisation to start with ?
<BR>
<P><EM>&gt; One of the things that is slowly sinking in is that my loop is too short,
</EM><BR>
<EM>&gt; typically under 100 iterations.  From what I'm seeing, I should be able to
</EM><BR>
<EM>&gt; get faster results by chaining a number of loops together.
</EM><BR>
<P>Yeah, for longer loops it might be possible to keep larger tables in cach.
<BR>
<P><EM>&gt; BTW can anyone provide good references on sqrt() methods?  I looked in
</EM><BR>
<EM>&gt; Knuth and quite a few other math references but found little other than very
</EM><BR>
<EM>&gt; basic stuff (i.e. Newton's method)  Knuth has one algorithm posed as an
</EM><BR>
<EM>&gt; exercise (M40 == Mathematical, term project difficulty :-(
</EM><BR>
<P>During somewhere in between Sep 1 1997 and Dec 1 1998 Dann Corbit
<BR>
discussed optimum sqrt routines several times in comp.lang.c and
<BR>
sci.math.num-analysis
<BR>
<P>This entiry thread was *very* useful for my background in applied math :-)
<BR>
<A HREF="http://x11.dejanews.com/">http://x11.dejanews.com/</A>[ST_rn=ps]/dnquery.xp?&amp;search=thread&amp;svcclass=dnserver&amp;ST=PS&amp;CONTEXT=920496754.1956577512&amp;HIT_CONTEXT=920496754.1956577512&amp;HIT_NUM=0&amp;recnum=<A HREF="mailto:%253c1998051405135800.BAA02391@ladder03.news.aol.com?subject=Re:%20sqrt%20performance">%3c1998051405135800.BAA02391@ladder03.news.aol.com</A>%3e%231/1
<BR>
<P><EM>&gt; I'm currently looking into using a table driven Taylor's series expansion.
</EM><BR>
<P>You may want to search dejanews for ~a(Dann Corbit), ~g(comp.lang.c)
<BR>
and &quot;sqrt&quot; :-) I'll steal just a few from what I was given.
<BR>
<A HREF="http://x11.dejanews.com/">http://x11.dejanews.com/</A>[ST_rn=ps]/getdoc.xp?AN=324191203&amp;CONTEXT=920497028.1963655168&amp;hitnum=43
<BR>
<P><A HREF="ftp://ftp.cs.umd.edu/pub/papers/papers/2990/2990.ps.Z">ftp://ftp.cs.umd.edu/pub/papers/papers/2990/2990.ps.Z</A>
<BR>
<A HREF="http://www.astro.virginia.edu/~eww6n/math/SquareRoot.html">http://www.astro.virginia.edu/~eww6n/math/SquareRoot.html</A>
<BR>
<P><EM>&gt; Hint's and suggestions *very* welcome.  I need to do this over the range
</EM><BR>
<EM>&gt; from 0 to 100,000,000  w/ the roots off by less than 1 (I actually need
</EM><BR>
<EM>&gt; integer roots for the indexing).  There ought to be a way to get this going
</EM><BR>
<EM>&gt; a lot faster.
</EM><BR>
<P>Do you need only roots of integers ?? Once more:
<BR>
<A HREF="http://www.dejanews.com/">http://www.dejanews.com/</A>[ST_rn=ps]/dnquery.xp?ST=PS&amp;QRY=sqrt&amp;defaultOp=AND&amp;DBS=1&amp;format=terse&amp;showsort=date&amp;maxhits=100&amp;LNG=ALL&amp;subjects=&amp;groups=&amp;authors=user923005%40aol.com&amp;fromdate=&amp;todate=
<BR>
<P>&quot;I have different algorithms for each.  For integer, go look at comp.lang.c for
<BR>
a posting by Dann Corbit.&quot;
<BR>
<P><EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Reginald Beardsley
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; ------------------------------------------------------------------------
</EM><BR>
<EM>&gt;               Exploration Software Consultants Inc.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Voice: 972-379-0557                      email: <A HREF="mailto:rhb@acm.org?subject=Re:%20sqrt%20performance">rhb@acm.org</A>
</EM><BR>
<EM>&gt; Fax:   972-379-0558
</EM><BR>
<EM>&gt; ------------------------------------------------------------------------
</EM><BR>
<P>Good luck,
<BR>
<P>Andrei
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0010.html">esci: "Re: sqrt performance"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0001.html">esci: "sqrt performance"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Mar 03 1999 - 15:00:32 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
