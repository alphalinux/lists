<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: New scratch build of boot-floppies (UP10</TITLE>
<META NAME="Author" CONTENT="David Butts (dbutts@bbn.com)">
<META NAME="Subject" CONTENT="Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)</H1>
<HR>
<P>
<!-- received="Sat Mar 25 06:57:40 2000" -->
<!-- isoreceived="20000325145740" -->
<!-- sent="Fri, 24 Mar 2000 23:42:48 -0500 (EST)" -->
<!-- isosent="20000325044248" -->
<!-- name="David Butts" -->
<!-- email="dbutts@bbn.com" -->
<!-- subject="Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)" -->
<!-- id="Pine.GSO.4.04.10003242306540.24528-100000@edsel.bbn.com" -->
<!-- inreplyto="87u2i1r1r5.fsf@saison.thepuffigroup.com" -->
<STRONG>Subject: </STRONG>Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)<BR>
<STRONG>From: </STRONG>David Butts (<EM>dbutts@bbn.com</EM>)<BR>
<STRONG>Date: </STRONG>Fri Mar 24 2000 - 20:42:48 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#124">[ date ]</A>
<A HREF="index.html#124">[ thread ]</A>
<A HREF="subject.html#124">[ subject ]</A>
<A HREF="author.html#124">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0125.html">David Huggins-Daines: "Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0123.html">Jill Colclough: "remove me"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0097.html">David Huggins-Daines: "New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0125.html">David Huggins-Daines: "Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0097.html">David Butts: "Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hello, all-
<BR>
<P>First off, since I'm just now delurking, it seems only fair that I
<BR>
thank you all profusely.  Being able to throw an old Sparc Classic
<BR>
up on the net, and, with nothing more than a jumpstart server and a
<BR>
tftpboot image, put a shiny new OS on it is cool beyond description.
<BR>
<P>Thank you!
<BR>
<P>That said, I've tried playing around with these, with ... mixed results.
<BR>
I can't seem to shake the feeling that I'm overlooking something obvious,
<BR>
so, if I should just RTFM, please point me in its direction.
<BR>
<P>I'm trying to do a fresh install on a UDB w/ 24M of memory.
<BR>
<P>Initially, I tried booting from a rescue floppy, but that consistently
<BR>
fails part-way through reading linux.gz.  The point at which it hangs
<BR>
is not consistent, either, although some of the eight or so rescue
<BR>
floppies I made seem to do better overall than others.  I've tried
<BR>
both the 03/08 disk images and these ones without success.  In all the
<BR>
cases, I used dd on my ultra/5 (Solaris 2.6) to make the disks from
<BR>
the images.  I suspect that I just need a sound beating with a clue
<BR>
stick... any volunteers?
<BR>
<P>With that in mind, the prospect of a boot over ewa0 seemed very
<BR>
appealing.
<BR>
<P>On 20 Mar 2000, David Huggins-Daines wrote:
<BR>
<P><EM>&gt; Hi,
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; <A HREF="http://www.debian.org/~dhd/disks-alpha-20000319/">http://www.debian.org/~dhd/disks-alpha-20000319/</A>
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Things of note:
</EM><BR>
<P>&lt;snip&gt;
<BR>
<P><EM>&gt; 2) Serial console installations should basically work now (they were
</EM><BR>
<EM>&gt;    rather broken on all archs, and in fact not really enabled on Alpha
</EM><BR>
<EM>&gt;    at all).  You just have to boot with console=ttyS0 (I really tried
</EM><BR>
<EM>&gt;    to find a way to hack around this in aboot, but the CTB entry
</EM><BR>
<EM>&gt;    pointed to by the TTY_DEV environment variable in SRM comes up as
</EM><BR>
<EM>&gt;    &quot;multifunction&quot; regardless of whether I boot using serial or
</EM><BR>
<EM>&gt;    graphics console :P)
</EM><BR>
<P>Just out of curiosity, is the console=ttyS0 option a new feature of
<BR>
the kernel, or was it always there?
<BR>
<P><EM>&gt; 3) Nikita's tftpboot.img stuff is built by default (I'm considering
</EM><BR>
<EM>&gt;    just incorporating the relevant parts of the kernel source tree in
</EM><BR>
<EM>&gt;    the boot-floppies CVS, as they're pretty small and we have to patch
</EM><BR>
<EM>&gt;    them anyway).  There's also a root.tar.gz which isn't particularly
</EM><BR>
<EM>&gt;    useful since I didn't put in a netbootable kernel image - but that
</EM><BR>
<EM>&gt;    can certainly be arranged (we need to include objstrip in the aboot
</EM><BR>
<EM>&gt;    package)
</EM><BR>
<P>I've tried using the tftpboot.img to get an install going on my UDB,
<BR>
but haven't gotten it to work.  Here's the scenario:
<BR>
<P>I have a bootp/tftp server running on a Sparc Classic (frozen, thanks
<BR>
again :), and I renamed tftpboot.img and put it in /tftpboot.  I've set
<BR>
ewa0_protocols to bootp on the UDB and configured bootp on the classic
<BR>
with the UDB's ethernet address and related information.  When I run a
<BR>
'boot ewa0', it grabs the tftpboot.img fine, but, when it's done, the
<BR>
SRM console resets.  It looks like its generating some errors, but they
<BR>
scroll past too quickly for me to see.  Unlike the DS10 hangs mentioned
<BR>
below, this seems to be quite consistent.
<BR>
<P>Am I correct in assuming that the boot file (bf) in bootp should
<BR>
be the tftpboot.img (as renamed)?
<BR>
<P>Is the root.tar.gz file needed on the server, and, if so, where?
<BR>
If it is needed, does the fact that it &quot;isn't particularly useful&quot;
<BR>
preclude booting over the network?
<BR>
<P>Again, many thanks to all the developers and maintainers.  I figure
<BR>
it would be counter-productive to spam this to all the lists, so
<BR>
tell all your friends they have another big fan.
<BR>
<P>David
<BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0125.html">David Huggins-Daines: "Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0123.html">Jill Colclough: "remove me"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0097.html">David Huggins-Daines: "New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0125.html">David Huggins-Daines: "Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0097.html">David Butts: "Re: New scratch build of boot-floppies (UP1000, serial console, TFTP)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Apr 01 2000 - 04:15:02 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
