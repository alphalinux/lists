<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: egcs and register_frame_info</TITLE>
<META NAME="Author" CONTENT="Loic Prylli (Loic.Prylli@ens-lyon.fr)">
<META NAME="Subject" CONTENT="egcs and register_frame_info">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>egcs and register_frame_info</H1>
<HR>
<P>
<!-- received="Sun Jan 31 20:05:16 1999 PST" -->
<!-- sent="Sun, 31 Jan 1999 21:04:12 +0100 (MET)" -->
<!-- name="Loic Prylli" -->
<!-- email="Loic.Prylli@ens-lyon.fr" -->
<!-- subject="egcs and register_frame_info" -->
<!-- id="14004.45040.154641.767838@porto" -->
<!-- inreplyto="" -->
<STRONG>Loic Prylli</STRONG> (<A HREF="mailto:Loic.Prylli@ens-lyon.fr?subject=Re:%20egcs%20and%20register_frame_info"><EM>Loic.Prylli@ens-lyon.fr</EM></A>)<BR>
<EM>Sun, 31 Jan 1999 21:04:12 +0100 (MET)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#130">[ date ]</A>
<A HREF="index.html#130">[ thread ]</A>
<A HREF="subject.html#130">[ subject ]</A>
<A HREF="author.html#130">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0129.html">Martin Lucina: "Re: SRM vs ARC"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
If Christopher agree with that, we will generate a new egcs with the
<BR>
latest hjl-19990115-linux patch, and without the hlj-12 patch.
<BR>
<P>Unless I missed something this solution will eliminates the
<BR>
register_frame_info in executables, but _also_ in libc which I was not 
<BR>
expecting (this contradicts hlj statement which said
<BR>
register_frame_info should be in libc, whereas the compiler he
<BR>
recommends will not provide it in libgcc.a). This would be a bigger
<BR>
problem than expected, (because even with a new libc, people are not
<BR>
guaranteed  to be able to run any kind of executables), unless we
<BR>
provide dummy definition for them in libc which I strongly recommend.
<BR>
<P>My previous patch does not work for C++ programs with
<BR>
exceptions because the weakness of symbols is ignored by the dynamic
<BR>
linker.
<BR>
<P>Including or not the hjl-12 patch switch between two different
<BR>
mechanisms to generate exception code. The solution I propose to
<BR>
adopt generates bigger code (probably only for functions that contains 
<BR>
try catch exception), but does not need register_frame_info. Whereas
<BR>
the hjl-12 generates probably slightly faster and more compact code
<BR>
for try () catch() expressions, but needs register_frame_info, and may 
<BR>
_increase_ the size of other code (even normal C), not sure of this
<BR>
last statement. This mechanisms deals with register_saving of register
<BR>
that must be saved across functions calls.
<BR>
<P>Except the new egcs to be compiled and uploaded to master tomorrow
<BR>
morning.
<BR>
<P><P>Regards,
<BR>
<P>Loic
<BR>
<P><P>--  
<BR>
To UNSUBSCRIBE, email to <A HREF="mailto:debian-alpha-request@lists.debian.org?subject=Re:%20egcs%20and%20register_frame_info">debian-alpha-request@lists.debian.org</A>
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact <A HREF="mailto:listmaster@lists.debian.org?subject=Re:%20egcs%20and%20register_frame_info">listmaster@lists.debian.org</A>
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0129.html">Martin Lucina: "Re: SRM vs ARC"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Jan 31 1999 - 13:00:47 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
