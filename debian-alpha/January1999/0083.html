<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: glibc and egcs....</TITLE>
<META NAME="Author" CONTENT="Loic Prylli (Loic.Prylli@ens-lyon.fr)">
<META NAME="Subject" CONTENT="Re: glibc and egcs....">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: glibc and egcs....</H1>
<HR>
<P>
<!-- received="Thu Jan 28 22:17:27 1999 PST" -->
<!-- sent="Thu, 28 Jan 1999 22:58:26 +0100 (MET)" -->
<!-- name="Loic Prylli" -->
<!-- email="Loic.Prylli@ens-lyon.fr" -->
<!-- subject="Re: glibc and egcs...." -->
<!-- id="14000.56046.630913.349674@porto" -->
<!-- inreplyto="Pine.LNX.3.96.990128152238.1167A-100000@beezer.med.miami.edu" -->
<STRONG>Loic Prylli</STRONG> (<A HREF="mailto:Loic.Prylli@ens-lyon.fr?subject=Re:%20glibc%20and%20egcs...."><EM>Loic.Prylli@ens-lyon.fr</EM></A>)<BR>
<EM>Thu, 28 Jan 1999 22:58:26 +0100 (MET)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#83">[ date ]</A>
<A HREF="index.html#83">[ thread ]</A>
<A HREF="subject.html#83">[ subject ]</A>
<A HREF="author.html#83">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0084.html">Jay.Estabrook@digital.com: "Re: Alpha XL300 (aka XLT) problems"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0082.html">Loic Prylli: "Re: Installing Linux for Alpha"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0079.html">Paul Slootman: "Re: Installing Linux for Alpha"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
[ actually Christopher, you do not need to answer this e-mail because
<BR>
I just tried to details the same thing that in my private message  ]
<BR>
<P>Christopher C Chimelis writes:
<BR>
<EM> &gt; 
</EM><BR>
<EM> &gt; Yes, you're right about that, but the logic introduced in the 19990115
</EM><BR>
<EM> &gt; patch should add regular 'if' conditionals (not preprocessor directives)
</EM><BR>
<EM> &gt; to test whether or not the weak is supported or not and calls
</EM><BR>
<EM> &gt; __(de)register_frame_info depending on that.  Prior to the 19990115 patch 
</EM><BR>
<EM> &gt; (which is currently NOT in our binary egcs package on Alpha, therefore
</EM><BR>
<EM> &gt; missing the &quot;if&quot;s that I'm talking about), it just calls it since it
</EM><BR>
<EM> &gt; assumes it should be there regardless.  What I was saying was that the
</EM><BR>
<EM> &gt; patch adds the needed checks (from what I can tell) to work around the
</EM><BR>
<EM> &gt; call should it not be there. 
</EM><BR>
<P>What I have tried to explain is that the check cannot be done because
<BR>
ld-linux.so aborts execution with undefined symbol, before the &quot;if
<BR>
tests&quot; are done (of course that happens only if the symbol is not in
<BR>
the libc).
<BR>
<P>Maybe I do not understand you  clearly, but look at my example in my
<BR>
previous mail: I just print the value of the foo symbol, I do not try
<BR>
to call it, which is exactly the same as trying to test the symbol
<BR>
register_frame_info. You will be put out before you have a chance to
<BR>
do the if (for the &quot;if test&quot; to work, the dynamic linker
<BR>
_would_ have  to bind a value to it, maybe a zero, because it does not
<BR>
find a definition, but what it _does_ do is to abort with &quot;undefined
<BR>
symbol&quot;).
<BR>
<P><EM> &gt; 
</EM><BR>
<EM> &gt; Could be.  I'll look into this as well after we figure out whether or not
</EM><BR>
<EM> &gt; the existing patch is workable or not.  I'm hugely busy today...is there
</EM><BR>
<EM> &gt; any way you could look at the 19990115 patch and code a quick testcase
</EM><BR>
<EM> &gt; that would behave similarly?  That would solve the argument right there.
</EM><BR>
<P>I will try to set up this experiment (altough I think I have already
<BR>
tried it at some point this W.E. and it failed), you do mean the
<BR>
19990115 patch together with hjl-12, don't you?
<BR>
<P>Regards,
<BR>
<P>Loic
<BR>
<P><P><P>--  
<BR>
To UNSUBSCRIBE, email to <A HREF="mailto:debian-alpha-request@lists.debian.org?subject=Re:%20glibc%20and%20egcs....">debian-alpha-request@lists.debian.org</A>
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact <A HREF="mailto:listmaster@lists.debian.org?subject=Re:%20glibc%20and%20egcs....">listmaster@lists.debian.org</A>
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0084.html">Jay.Estabrook@digital.com: "Re: Alpha XL300 (aka XLT) problems"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0082.html">Loic Prylli: "Re: Installing Linux for Alpha"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0079.html">Paul Slootman: "Re: Installing Linux for Alpha"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Thu Jan 28 1999 - 15:00:44 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
