<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: EGCS optimiser bugs...</TITLE>
<META NAME="Author" CONTENT="Paul Slootman (paul@wau.mis.ah.nl)">
<META NAME="Subject" CONTENT="Re: EGCS optimiser bugs...">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: EGCS optimiser bugs...</H1>
<HR>
<P>
<!-- received="Tue Jun 15 12:01:11 1999" -->
<!-- isoreceived="19990615190111" -->
<!-- sent="Tue, 15 Jun 1999 12:54:28 +0200" -->
<!-- isosent="19990615105428" -->
<!-- name="Paul Slootman" -->
<!-- email="paul@wau.mis.ah.nl" -->
<!-- subject="Re: EGCS optimiser bugs..." -->
<!-- id="19990615125428.A32194@wau.mis.ah.nl" -->
<!-- inreplyto="Pine.LNX.3.96.990614194801.14073A-100000@beezer.med.miami.edu" -->
<STRONG>Subject: </STRONG>Re: EGCS optimiser bugs...<BR>
<STRONG>From: </STRONG>Paul Slootman (<EM>paul@wau.mis.ah.nl</EM>)<BR>
<STRONG>Date: </STRONG>Tue Jun 15 1999 - 03:54:28 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#130">[ date ]</A>
<A HREF="index.html#130">[ thread ]</A>
<A HREF="subject.html#130">[ subject ]</A>
<A HREF="author.html#130">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0131.html">Paul Slootman: "Re: EGCS optimiser bugs..."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0129.html">Christopher C Chimelis: "EGCS optimiser bugs..."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0129.html">Christopher C Chimelis: "EGCS optimiser bugs..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0131.html">Paul Slootman: "Re: EGCS optimiser bugs..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0129.html">Paul Slootman: "Re: EGCS optimiser bugs..."</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Mon 14 Jun 1999, Christopher C Chimelis wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I'm reporting at least three optimiser bugs to the egcs list. The examples
</EM><BR>
<EM>&gt; I'm using are from xspread, r-base, and a particularly nasty one in
</EM><BR>
<EM>&gt; nextaw.
</EM><BR>
<P>Did this one ever get fixed? At least on alpha.debian.nl it still fails.
<BR>
<P>This is from one of the sound packages, I believe, heavily preprocessed
<BR>
and minimized. So don't complain that the source doesn't do anything
<BR>
useful; it's not supposed to :-)
<BR>
<P>--snip-snip-----------------------------------------------------------
<BR>
<P>/*
<BR>
$ gcc -c -O2 egcs-bug.c # compiles fine with -O
<BR>
egcs-bug.c: In function `main':
<BR>
egcs-bug.c:43: internal error--unrecognizable insn:
<BR>
(insn 162 154 69 (set (reg:SI 86)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reg/v:DI 71)) -1 (insn_list 154 (nil))
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;(nil))
<BR>
../../gcc/toplev.c:1378: Internal compiler error in function fatal_insn
<BR>
*/
<BR>
<P>typedef enum {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCS_UNKNOWN,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCS_GRAYSCALE,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCS_RGB
<BR>
} J_COLOR_SPACE;
<BR>
struct jcs {
<BR>
&nbsp;&nbsp;J_COLOR_SPACE color;
<BR>
};
<BR>
<P>int
<BR>
main(int argc, char *argv[])
<BR>
{
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;int gray = 0, type, y;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;struct jcs cinfo;
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;for (;;) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!y)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch (y) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case '1':
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gray = 1 ;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;type = gray ? 1  : 2 ;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;if (gray)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x();
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;x2(&amp;cinfo);
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;cinfo.color = gray ? JCS_GRAYSCALE : JCS_RGB;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;for (y = 0; y &lt; 3; y++)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (x3(type)) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<BR>
}
<BR>
<P>--snip-snip-----------------------------------------------------------
<BR>
<P>Paul Slootman
<BR>
<PRE>
-- 
home: paul@wurtel.demon.nl | work: paul@murphy.nl | debian: paul@debian.org
<A HREF="http://www.wurtel.demon.nl">http://www.wurtel.demon.nl</A> | Murphy Software,   Enschede,   the Netherlands
<P><P>--  
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0131.html">Paul Slootman: "Re: EGCS optimiser bugs..."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0129.html">Christopher C Chimelis: "EGCS optimiser bugs..."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0129.html">Christopher C Chimelis: "EGCS optimiser bugs..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0131.html">Paul Slootman: "Re: EGCS optimiser bugs..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0129.html">Paul Slootman: "Re: EGCS optimiser bugs..."</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Jun 30 1999 - 19:27:29 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
