<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: Fast blas1</TITLE>
<META NAME="Author" CONTENT="Adam C Powell IV (hazelsct@mit.edu)">
<META NAME="Subject" CONTENT="Re: Fast blas1">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Fast blas1</H1>
<HR>
<P>
<!-- received="Tue May 02 19:21:09 2000" -->
<!-- isoreceived="20000503022109" -->
<!-- sent="Tue, 02 May 2000 18:48:32 +0000" -->
<!-- isosent="20000502184832" -->
<!-- name="Adam C Powell IV" -->
<!-- email="hazelsct@mit.edu" -->
<!-- subject="Re: Fast blas1" -->
<!-- id="390F22FF.E7F98BDF@mit.edu" -->
<!-- inreplyto="38A43D24.555A270D@mit.edu" -->
<STRONG>Subject: </STRONG>Re: Fast blas1<BR>
<STRONG>From: </STRONG>Adam C Powell IV (<EM>hazelsct@mit.edu</EM>)<BR>
<STRONG>Date: </STRONG>Tue May 02 2000 - 11:48:32 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#7">[ date ]</A>
<A HREF="index.html#7">[ thread ]</A>
<A HREF="subject.html#7">[ subject ]</A>
<A HREF="author.html#7">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0008.html">Andrei A. Dergatchev: "Re: Fast blas1"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0006.html">Ron Farrer: "Re: segfaults and other murders"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0008.html">Andrei A. Dergatchev: "Re: Fast blas1"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
(Ancient thread, but here goes...)
<BR>
<P>Adam C Powell IV wrote:
<BR>
<P><EM>&gt; Camm Maguire wrote:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; Greetings, and thanks for your work on the blas!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Thanks, but it's really not my work, Kazushige Goto deserves the credit.  I just
</EM><BR>
<EM>&gt; spent a couple of hours plugging it in.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; Have you by chance timed these routines against the atlas package blas?  Atlas
</EM><BR>
<EM>&gt; &gt; automatically tunes the blas for your particular hardware, and is open source.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; No, but I'll give it a try; I suspect the Goto routines (dgemm in particular) will
</EM><BR>
<EM>&gt; be at least twice as fast because he does some really interesting unrolling
</EM><BR>
<EM>&gt; things, and it's written in very tight assembler.
</EM><BR>
<P>Okay, I was wrong.  I finally ran some tests with the FORTRAN BLAS, Atlas, and Goto's
<BR>
dgemm.  Goto's is faster, but not by nearly as much as I had thought.  My little
<BR>
program uses dgemm (matrix multiply), dgetrf (LU decompose) and dtrsm
<BR>
(back-substitution), and a weighted average gave the following results (in MFlop/s):
<BR>
<P>Platform  FORTRAN  atlas  Goto's
<BR>
ev5          53     331    550
<BR>
ev6         191     681    830
<BR>
<P>ev5 here is LX164 600MHz 2MB cache; ev6 is 667 MHz UP2000.  So Goto's assembler
<BR>
routines are quite a bit faster, especially on ev5, but not nearly the &quot;at least
<BR>
twice as fast&quot; that I had thought.  Atlas has some truly impressive performance,
<BR>
especially for compiled code!
<BR>
<P>Interesting notes:
<BR>
<P>&nbsp;&nbsp;&nbsp;* On the ev6, the best dgemm performance I saw from Goto's routine was 1079
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MFlop/s!!  (6kx6k times 6kx100 in under 6.7 seconds).
<BR>
&nbsp;&nbsp;&nbsp;* Using atlas, ev6 might be worth the extra money it costs; using Goto's, LX164 is
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;still better performance/price (if you can get it) for this particular
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;application of dense linear algebra.
<BR>
<P>So that's what I know.  Once again, the patches against the blas source package, and
<BR>
ev5 debs using them, are in <A HREF="http://lyre.mit.edu/~powell/debs/">http://lyre.mit.edu/~powell/debs/</A> (note that Goto's
<BR>
routines are GPL).
<BR>
<P>-Adam P.
<BR>
<P><P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0008.html">Andrei A. Dergatchev: "Re: Fast blas1"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0006.html">Ron Farrer: "Re: segfaults and other murders"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0008.html">Andrei A. Dergatchev: "Re: Fast blas1"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Jun 01 2000 - 09:46:26 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
