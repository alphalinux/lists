<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: timewarp to 2052 (potato on alpha)</TITLE>
<META NAME="Author" CONTENT="Tim Shepard (shep@lcs.mit.edu)">
<META NAME="Subject" CONTENT="timewarp to 2052 (potato on alpha)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>timewarp to 2052 (potato on alpha)</H1>
<HR>
<P>
<!-- received="Fri May 26 21:56:22 2000" -->
<!-- isoreceived="20000527045622" -->
<!-- sent="Fri, 26 May 2000 17:54:24 -0400" -->
<!-- isosent="20000526215424" -->
<!-- name="Tim Shepard" -->
<!-- email="shep@lcs.mit.edu" -->
<!-- subject="timewarp to 2052 (potato on alpha)" -->
<!-- id="200005262154.RAA13392@ginger.lcs.mit.edu" -->
<STRONG>Subject: </STRONG>timewarp to 2052 (potato on alpha)<BR>
<STRONG>From: </STRONG>Tim Shepard (<EM>shep@lcs.mit.edu</EM>)<BR>
<STRONG>Date: </STRONG>Fri May 26 2000 - 14:54:24 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#131">[ date ]</A>
<A HREF="index.html#131">[ thread ]</A>
<A HREF="subject.html#131">[ subject ]</A>
<A HREF="author.html#131">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0132.html">Stefano Curtarolo: "Re: timewarp to 2052 (potato on alpha)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0130.html">bprevot@free.fr: "a little OT : strace on alpha OSF"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0132.html">Stefano Curtarolo: "Re: timewarp to 2052 (potato on alpha)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I just installed potato on a fresh-out-of-the-box DS20E.
<BR>
<P>IIRC, when it asked me whether or not the system time is kept in UTC
<BR>
(and I answered affirmatively) it was displaying the correct date and
<BR>
time (including the year, 2000).  That was amusing.  The system
<BR>
hwclock time was correctly set to UTC as it came out of the box (or
<BR>
does the boot floppy go and set the time off of the net somewhere).
<BR>
<P>However, later on (after a few reboots where I was messing with the
<BR>
SRM stuff to make this thing auto-boot Debian by clearing boot_file
<BR>
and setting boot_flags to the digit 0 so that aboot will choose the 0
<BR>
option in /etc/aboot.conf), I noticed the date was wrong.  It was in
<BR>
the year 2052.
<BR>
<P>I just checked on another DP264 machine on which I installed a fresh copy
<BR>
of debian potato a couple of weeks ago, and it was in the year 2048!
<BR>
(That machine was running red-hat 6.0 before I installed potato.)
<BR>
<P>I did this:
<BR>
<P>&nbsp;sudo date 052617022000
<BR>
&nbsp;sudo hwclock --systohc
<BR>
&nbsp;sudo rm /etc/adjtime
<BR>
&nbsp;sudo shutdown -r now
<BR>
<P>on both machines.   That seems to have fixed it for now.
<BR>
<P><P>Why doesn't a fresh install of debian potato get this right?
<BR>
Or did I do something wrong when I did the install?
<BR>
(I do not recall ever being given the opportunity to set the time
<BR>
though I do remember it showing me the time when it asked whether or
<BR>
not the system time was to be kept in UTC.)
<BR>
<P>I have another pristine DS20E still in its cardboard box which I will
<BR>
likely install Debian potato on within the next week.    Let me know
<BR>
if you want any experiments done (like somehow reading the hwclock
<BR>
before anything else has had a chance to touch it).
<BR>
<P>(I did once take a peek at the code in the kernel that tries to pick
<BR>
an epoch.  Bleh.  So I do realize that this is an ongoing complication
<BR>
of linux on alpha.  I'm suspicous that the problem got worse after
<BR>
January of this year because one of the magic epoch-choosing windows
<BR>
flipped into a different window, but it has been a few months since I
<BR>
peeked at that code.)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-Tim Shepard
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shep@lcs.mit.edu
<BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0132.html">Stefano Curtarolo: "Re: timewarp to 2052 (potato on alpha)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0130.html">bprevot@free.fr: "a little OT : strace on alpha OSF"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0132.html">Stefano Curtarolo: "Re: timewarp to 2052 (potato on alpha)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Jun 01 2000 - 09:46:26 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
