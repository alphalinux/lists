<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: [John Goerzen &lt;jgoerzen@complete.org&gt;]</TITLE>
<META NAME="Author" CONTENT="John Goerzen (jgoerzen@complete.org)">
<META NAME="Subject" CONTENT="[John Goerzen &lt;jgoerzen@complete.org&gt;] Kernel oops in read()">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>[John Goerzen &lt;jgoerzen@complete.org&gt;] Kernel oops in read()</H1>
<HR>
<P>
<!-- received="Fri Jun 02 18:04:59 2000" -->
<!-- isoreceived="20000603010459" -->
<!-- sent="01 Jun 2000 20:33:30 -0500" -->
<!-- isosent="20000602013330" -->
<!-- name="John Goerzen" -->
<!-- email="jgoerzen@complete.org" -->
<!-- subject="[John Goerzen &lt;jgoerzen@complete.org&gt;] Kernel oops in read()" -->
<!-- id="87vgzs50k5.fsf@complete.org" -->
<STRONG>Subject: </STRONG>[John Goerzen <jgoerzen@complete.org>] Kernel oops in read()<BR>
<STRONG>From: </STRONG>John Goerzen (<EM>jgoerzen@complete.org</EM>)<BR>
<STRONG>Date: </STRONG>Thu Jun 01 2000 - 18:33:30 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2">[ date ]</A>
<A HREF="index.html#2">[ thread ]</A>
<A HREF="subject.html#2">[ subject ]</A>
<A HREF="author.html#2">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0003.html">Jay Estabrook: "Re: [John Goerzen &lt;jgoerzen@complete.org&gt;] Kernel oops in read()"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0001.html">Roland Rosenfeld: "Re: DECstation 3000 400s"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0003.html">Jay Estabrook: "Re: [John Goerzen &lt;jgoerzen@complete.org&gt;] Kernel oops in read()"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P><STRONG>attached mail follows:</STRONG><HR><P>
#include &lt;stdio.h&gt;
<BR>
#include &lt;unistd.h&gt;
<BR>
#include &lt;sys/types.h&gt;
<BR>
#include &lt;fcntl.h&gt;
<BR>
<P>void main(void) {
<BR>
&nbsp;&nbsp;int fd;
<BR>
&nbsp;&nbsp;char *buf;
<BR>
&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;fd = open(&quot;/bin/bash&quot;, O_RDONLY);
<BR>
&nbsp;&nbsp;lseek(fd, 98, SEEK_SET);
<BR>
&nbsp;&nbsp;buf = malloc(1768849408);
<BR>
&nbsp;&nbsp;printf(&quot;fd = %d\n&quot;, fd);
<BR>
&nbsp;&nbsp;while (1) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;read(fd, buf, 1768849408);
<BR>
&nbsp;&nbsp;}
<BR>
}
<BR>
<P>Strace gives:
<BR>
<P>write(1, &quot;fd = 3\n&quot;, 7fd = 3
<BR>
)                 = 7
<BR>
read(3,  &lt;unfinished ...&gt;
<BR>
+++ killed by SIGSEGV +++
<BR>
<P>The platform is DEC Alpha, 21164a CPU, 256M RAM, Debian.
<BR>
<P>The oops is:
<BR>
<P>Unable to handle kernel paging request at virtual address 0000000000000000
<BR>
test(3515): Oops 1
<BR>
pc = [&lt;fffffc0000468a74&gt;]  ra = [&lt;fffffc0000335140&gt;]  ps = 0000
<BR>
v0 = 0000000000001f9e  t0 = 0150000000000000  t1 = 0000000000000150
<BR>
t2 = 0000000000000000  t3 = 0000000000001f90  t4 = 0000000000000114
<BR>
t5 = 0000000000000000  t6 = fffffc000fb3c062  t7 = fffffc0008710000
<BR>
s0 = 0000000000001f9e  s1 = fffffc0000793b28  s2 = fffffc00000309e0
<BR>
s3 = 0000000000000000  s4 = 0000000000000000  s5 = fffffc000029dd40
<BR>
s6 = 0000000000000000  a0 = fffffc0008713ec8  a1 = fffffc000fb3c062
<BR>
a2 = 0000000000001f9e  a3 = fffffc0000335400  a4 = ffffffffffffffff
<BR>
a5 = 0000000000000007  t8 = 0000000000001f9e  t9 = 00000000696e8000
<BR>
t10= 3000000000000000  t11= 000000000000000a  pv = fffffc00004689e0
<BR>
at = fffffc000033542c  gp = fffffc00004e3c78  sp = fffffc0008713e38
<BR>
Code:
<BR>
&nbsp;2fe00000  ldq_u zero,0(v0)
<BR>
&nbsp;2c470008  ldq_u t1,8(t6)
<BR>
&nbsp;40811524  subq t3,8,t3
<BR>
&nbsp;486706c3  extql t2,t6,t2
<BR>
&nbsp;48470f41  ALU t1,t6,t0
<BR>
&nbsp;44610401  or t2,t0,t0
<BR>
*b4260000  stq t0,0(t5)
<BR>
&nbsp;40e11407  addq t6,8,t6
<BR>
Trace: 3354d8 335400 34238c 310e4c 
<BR>
<P><P><P>
<P><P><PRE>
-- 
John Goerzen   Linux, Unix consulting &amp; programming   jgoerzen@complete.org |
Developer, Debian GNU/Linux (Free powerful OS upgrade)       www.debian.org |
----------------------------------------------------------------------------+
The 1,079,924th digit of pi is 0.
<P></PRE>

<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0003.html">Jay Estabrook: "Re: [John Goerzen &lt;jgoerzen@complete.org&gt;] Kernel oops in read()"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0001.html">Roland Rosenfeld: "Re: DECstation 3000 400s"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0003.html">Jay Estabrook: "Re: [John Goerzen &lt;jgoerzen@complete.org&gt;] Kernel oops in read()"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat Jul 01 2000 - 05:31:31 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
