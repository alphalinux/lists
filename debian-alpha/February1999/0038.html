<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: Did you know that nfs mount requires acc</TITLE>
<META NAME="Author" CONTENT="Oscar Levi (elf@buici.com)">
<META NAME="Subject" CONTENT="Re: Did you know that nfs mount requires accurate time?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Did you know that nfs mount requires accurate time?</H1>
<HR>
<P>
<!-- received="Tue Feb 02 19:08:43 1999 PST" -->
<!-- sent="Tue, 2 Feb 1999 11:05:40 -0800" -->
<!-- name="Oscar Levi" -->
<!-- email="elf@buici.com" -->
<!-- subject="Re: Did you know that nfs mount requires accurate time?" -->
<!-- id="19990202110540.B1788@hazel.buici.com" -->
<!-- inreplyto="14006.61129.806957.735379@porto" -->
<STRONG>Oscar Levi</STRONG> (<A HREF="mailto:elf@buici.com?subject=Re:%20Did%20you%20know%20that%20nfs%20mount%20requires%20accurate%20time?"><EM>elf@buici.com</EM></A>)<BR>
<EM>Tue, 2 Feb 1999 11:05:40 -0800</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#38">[ date ]</A>
<A HREF="index.html#38">[ thread ]</A>
<A HREF="subject.html#38">[ subject ]</A>
<A HREF="author.html#38">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0039.html">Oscar Levi: "Re: Did you know that nfs mount requires accurate time?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0037.html">Anders Hammarquist: "Re: Help wanted with Alpha/Sparc XFree86 patches"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0046.html">Loic Prylli: "Re: Did you know that nfs mount requires accurate time?"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
On Tue, Feb 02, 1999 at 01:29:09PM +0100, Loic Prylli wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Oscar Levi writes:
</EM><BR>
<EM>&gt;  &gt; This brings a couple of suggestions to mind.  First, Loic, is there
</EM><BR>
<EM>&gt;  &gt; room on the install disks for hwclock about 32K I think.  I'm gonna
</EM><BR>
<EM>&gt;  &gt; suggest to the d-boot list that we add an optional 'set time' step to
</EM><BR>
<EM>&gt;  &gt; the install procedure for the sake of enabling nfs installs.  Also, it
</EM><BR>
<EM>&gt;  &gt; would be keen if this time-set could be committed to CMOS RAM.  (Is
</EM><BR>
<EM>&gt;  &gt; that what the UDBs have?)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Yes sure I can add hwclock.
</EM><BR>
<P>As I'm looking into this more, I'm finding that there is another
<BR>
problem, now.  Setting the time fixed an RPC timeout and let the
<BR>
installed Debian system nfs mount the server.  However, the setup
<BR>
disks still fail to nfs mount.  I get a report of sendmsg failure with
<BR>
a result of 51.  The errno's say this is a 'level 2 halted' error.
<BR>
Whatever that means.
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt;  &gt; Also, it seems like it would be helpful to add a note to the README in
</EM><BR>
<EM>&gt;  &gt; the disks-alpha directory about nfs installs requiring accurate time.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I was not aware of that, do you know where is this restriction needed?
</EM><BR>
<EM>&gt; (I know I used NFS for some time  between a machine in year 2018 and
</EM><BR>
<EM>&gt; normal ones).
</EM><BR>
<P>I think the problem was that I set the time from ARC and that this
<BR>
translated into something very wrong...in the year 1930.  When I get
<BR>
it working, I'll verify the parameters that make this fail.
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt;  &gt; Note that the ARC time is not the same as is expected by hwclock.  I
</EM><BR>
<EM>&gt;  &gt; originally set the clock with ARC and found that time was in the year
</EM><BR>
<EM>&gt;  &gt; 1930 after booted.  I recall that there used to be a time program that
</EM><BR>
<EM>&gt;  &gt; compreheded ARC time.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The &quot;epoch selection&quot; should be done by the kernel, but the code there
</EM><BR>
<EM>&gt; may be wrong or incomplete.
</EM><BR>
<P>The epoch selection is the choice between ARC and UTC in CMOS?
<BR>
<P>It seems to me, IMHO, that it would be a good thing to permit (not
<BR>
require) the user set the time from setup.
<BR>
<P><P>--  
<BR>
To UNSUBSCRIBE, email to <A HREF="mailto:debian-alpha-request@lists.debian.org?subject=Re:%20Did%20you%20know%20that%20nfs%20mount%20requires%20accurate%20time?">debian-alpha-request@lists.debian.org</A>
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact <A HREF="mailto:listmaster@lists.debian.org?subject=Re:%20Did%20you%20know%20that%20nfs%20mount%20requires%20accurate%20time?">listmaster@lists.debian.org</A>
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0039.html">Oscar Levi: "Re: Did you know that nfs mount requires accurate time?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0037.html">Anders Hammarquist: "Re: Help wanted with Alpha/Sparc XFree86 patches"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0046.html">Loic Prylli: "Re: Did you know that nfs mount requires accurate time?"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Feb 02 1999 - 12:00:15 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
