<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: SRM vs ARC</TITLE>
<META NAME="Author" CONTENT="Nikita Schmidt (cetus@snowball.ucd.ie)">
<META NAME="Subject" CONTENT="Re: SRM vs ARC">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: SRM vs ARC</H1>
<HR>
<P>
<!-- received="Tue Feb 02 22:10:03 1999 PST" -->
<!-- sent="Tue, 2 Feb 1999 22:04:23 +0000" -->
<!-- name="Nikita Schmidt" -->
<!-- email="cetus@snowball.ucd.ie" -->
<!-- subject="Re: SRM vs ARC" -->
<!-- id="19990202220423.A417@snowball.ucd.ie" -->
<!-- inreplyto="19990131180951.A2026@hazel.buici.com" -->
<STRONG>Nikita Schmidt</STRONG> (<A HREF="mailto:cetus@snowball.ucd.ie?subject=Re:%20SRM%20vs%20ARC"><EM>cetus@snowball.ucd.ie</EM></A>)<BR>
<EM>Tue, 2 Feb 1999 22:04:23 +0000</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#48">[ date ]</A>
<A HREF="index.html#48">[ thread ]</A>
<A HREF="subject.html#48">[ subject ]</A>
<A HREF="author.html#48">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0049.html">Bart Warmerdam: "jdk1.2"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0047.html">Bart Warmerdam: "Re: Patch for smail"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0029.html">Loic Prylli: "Re: Patch for smail"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Sunday, 31 Jan, Oscar Levi wrote:
<BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; [cassiel:linux]$ size vmlinux
</EM><BR>
<EM>&gt; &gt;    text    data     bss     dec     hex filename
</EM><BR>
<EM>&gt; &gt; 1222869  216904  198988 1638761  190169 vmlinux
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; The in-memory size of your kernel will be about 1.5MB.
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Oh, duh.  Are the allocated buffers visible from 'free'?  In other
</EM><BR>
<EM>&gt; words, is the kernel image the only memory consumption hidden from
</EM><BR>
<EM>&gt; free?  Do we lose something, .5MB, where the BIOS ROMS are located?
</EM><BR>
<EM>&gt; 
</EM><BR>
<P>The breakdown is as follows.
<BR>
<P>Total memory as reported by `free' is counted as the full memory size
<BR>
minus reserved pages.  The number of reserved pages is shown on the
<BR>
console when you press Shift-ScrollLock.  Reserved pages come from the
<BR>
following sources:
<BR>
<P>&nbsp;- Console (SRM or MILO): most of these contain the in-memory console
<BR>
&nbsp;&nbsp;&nbsp;image, which is preserved all the time Linux is running (MILO is kept
<BR>
&nbsp;&nbsp;&nbsp;compressed).  The rest comprises PALcode and HWRPB (9 pages).
<BR>
&nbsp;&nbsp;&nbsp;Current MILOs always report as taking up half a megabyte (an
<BR>
&nbsp;&nbsp;&nbsp;overestimate), bringing total to 73; newer MILOs will report their
<BR>
&nbsp;&nbsp;&nbsp;actual size.
<BR>
<P>&nbsp;- Kernel image: the size is as reported by `size' plus some very small
<BR>
&nbsp;&nbsp;&nbsp;amount spent on alignments.
<BR>
<P>&nbsp;- &quot;Static&quot; kernel structures, allocated during startup, such as the
<BR>
&nbsp;&nbsp;&nbsp;memory map.  On my machine with 64 Mb RAM running 2.1.131 these
<BR>
&nbsp;&nbsp;&nbsp;consume 98 pages.
<BR>
<P>On 2.1 and 2.2 kernels, some memory belonging to the kernel image is
<BR>
freed after the initialisation (usually 8 pages).
<BR>
<P>For example, this is how it looks on my machine:
<BR>
&nbsp;MILO:               73
<BR>
&nbsp;vmlinux:           206
<BR>
&nbsp;kernel allocated:   98
<BR>
&nbsp;freed:              -8
<BR>
------------------------
<BR>
&nbsp;Total reserved:    369 pages (2952 kB)
<BR>
<P>$ free
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total       used       free     shared    buffers     cached
<BR>
Mem:         62584      60768       1816      30792       3304      25272
<BR>
-/+ buffers/cache:      32192      30392
<BR>
Swap:       131064      14216     116848
<BR>
<P>Nikita
<BR>
<P><P>--  
<BR>
To UNSUBSCRIBE, email to <A HREF="mailto:debian-alpha-request@lists.debian.org?subject=Re:%20SRM%20vs%20ARC">debian-alpha-request@lists.debian.org</A>
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact <A HREF="mailto:listmaster@lists.debian.org?subject=Re:%20SRM%20vs%20ARC">listmaster@lists.debian.org</A>
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0049.html">Bart Warmerdam: "jdk1.2"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0047.html">Bart Warmerdam: "Re: Patch for smail"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0029.html">Loic Prylli: "Re: Patch for smail"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Feb 02 1999 - 15:00:21 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
