<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Floppy problems after long uptime</TITLE>
<META NAME="Author" CONTENT="Paul Slootman (paul@wau.mis.ah.nl)">
<META NAME="Subject" CONTENT="Floppy problems after long uptime">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Floppy problems after long uptime</H1>
<HR>
<P>
<!-- received="Thu Feb 18 16:01:49 1999 PST" -->
<!-- sent="Thu, 18 Feb 1999 16:53:45 +0100" -->
<!-- name="Paul Slootman" -->
<!-- email="paul@wau.mis.ah.nl" -->
<!-- subject="Floppy problems after long uptime" -->
<!-- id="19990218165345.A12928@wau.mis.ah.nl" -->
<!-- inreplyto="" -->
<STRONG>Paul Slootman</STRONG> (<A HREF="mailto:paul@wau.mis.ah.nl?subject=Re:%20Floppy%20problems%20after%20long%20uptime"><EM>paul@wau.mis.ah.nl</EM></A>)<BR>
<EM>Thu, 18 Feb 1999 16:53:45 +0100</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#204">[ date ]</A>
<A HREF="index.html#204">[ thread ]</A>
<A HREF="subject.html#204">[ subject ]</A>
<A HREF="author.html#204">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0205.html">Christopher C Chimelis: "Re: Floppy problems after long uptime"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0203.html">Christopher C Chimelis: "Re: wrapup for slink"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0205.html">Christopher C Chimelis: "Re: Floppy problems after long uptime"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
I tried to put something on a floppy last night, and that failed.
<BR>
In fact, any access failed (reading, writing, formatting, ...).
<BR>
<P>I looked a bit closer to the messages given, and a sample is:
<BR>
<P>Feb 17 18:53:18 alf kernel: floppy driver state 
<BR>
Feb 17 18:53:18 alf kernel: ------------------- 
<BR>
Feb 17 18:53:18 alf kernel: now=2655075170 last interrupt=-1639977453 last called handler=fffffc0000398300 
<BR>
Feb 17 18:53:18 alf kernel: timeout_message=lock fdc 
<BR>
Feb 17 18:53:18 alf kernel: last output bytes: 
<BR>
Feb 17 18:53:18 alf kernel:  4 80 2654989242 
<BR>
[...]
<BR>
Feb 17 18:53:18 alf kernel: last result at -1639977453 
<BR>
Feb 17 18:53:18 alf kernel: last redo_fd_request at -1639977453 
<BR>
Feb 17 18:53:18 alf kernel:  4  0  0  1  0  1  2  
<BR>
Feb 17 18:53:18 alf kernel: status=80 
<BR>
Feb 17 18:53:18 alf kernel: fdc_busy=1 
<BR>
Feb 17 18:53:18 alf kernel: fd_timer.function=fffffc000039b3c0 
<BR>
Feb 17 18:53:18 alf kernel: cont=fffffc0000410f10 
<BR>
Feb 17 18:53:18 alf kernel: CURRENT=0000000000000000 
<BR>
Feb 17 18:53:18 alf kernel: command_status=-1 
<BR>
Feb 17 18:53:18 alf kernel:  
<BR>
Feb 17 18:53:18 alf kernel: floppy0: floppy timeout called 
<BR>
<P><P>The negative numbers made me suspect the worst, confirmed by a look into
<BR>
the source: jiffies are being stored into &quot;int&quot; values... My uptime was
<BR>
30 days then (no, I haven't rebooted; I'm waiting to see whether the
<BR>
problem disappears again after another 30 days :-).
<BR>
<P>Is the problem _this_ obvious, or am I missing something else?
<BR>
This is with 2.0.36, but the 2.2.1 source looks very similar.
<BR>
<P>Note that in the line:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;now=2655075170 last interrupt=-1639977453 ...
<BR>
if you cast 2655075170 into an int, you get -1639892126.
<BR>
<P>Paul Slootman
<BR>
<PRE>
-- 
home: <A HREF="mailto:paul@wurtel.demon.nl?subject=Re:%20Floppy%20problems%20after%20long%20uptime">paul@wurtel.demon.nl</A> | work: <A HREF="mailto:paul@murphy.nl?subject=Re:%20Floppy%20problems%20after%20long%20uptime">paul@murphy.nl</A> | debian: <A HREF="mailto:paul@debian.org?subject=Re:%20Floppy%20problems%20after%20long%20uptime">paul@debian.org</A>
<A HREF="http://www.wurtel.demon.nl">http://www.wurtel.demon.nl</A> | Murphy Software,   Enschede,   the Netherlands
<P><P>--  
To UNSUBSCRIBE, email to <A HREF="mailto:debian-alpha-request@lists.debian.org?subject=Re:%20Floppy%20problems%20after%20long%20uptime">debian-alpha-request@lists.debian.org</A>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact <A HREF="mailto:listmaster@lists.debian.org?subject=Re:%20Floppy%20problems%20after%20long%20uptime">listmaster@lists.debian.org</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0205.html">Christopher C Chimelis: "Re: Floppy problems after long uptime"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0203.html">Christopher C Chimelis: "Re: wrapup for slink"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0205.html">Christopher C Chimelis: "Re: Floppy problems after long uptime"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Thu Feb 18 1999 - 09:00:12 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
