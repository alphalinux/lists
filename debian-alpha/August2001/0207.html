<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: kernel, missing force_sig_info support for s</TITLE>
<META NAME="Author" CONTENT="Goswin Brederlow (goswin.brederlow@student.uni-tuebingen.de)">
<META NAME="Subject" CONTENT="kernel, missing force_sig_info support for segfaults">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>kernel, missing force_sig_info support for segfaults</H1>
<HR>
<P>
<!-- received="Sat Aug 25 16:05:35 2001" -->
<!-- isoreceived="20010825230535" -->
<!-- sent="25 Aug 2001 13:25:31 +0200" -->
<!-- isosent="20010825112531" -->
<!-- name="Goswin Brederlow" -->
<!-- email="goswin.brederlow@student.uni-tuebingen.de" -->
<!-- subject="kernel, missing force_sig_info support for segfaults" -->
<!-- id="87lmk8e5zo.fsf_-_@dual.debian.lt.de" -->
<!-- inreplyto="878zgm3gad.fsf@dual.debian.lt.de" -->
<STRONG>Subject: </STRONG>kernel, missing force_sig_info support for segfaults<BR>
<STRONG>From: </STRONG>Goswin Brederlow (<EM>goswin.brederlow@student.uni-tuebingen.de</EM>)<BR>
<STRONG>Date: </STRONG>Sat Aug 25 2001 - 04:25:31 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#207">[ date ]</A>
<A HREF="index.html#207">[ thread ]</A>
<A HREF="subject.html#207">[ subject ]</A>
<A HREF="author.html#207">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0208.html">Juha Jäykkä: "Re: internal error in make/gcc/c++"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0206.html">Herbert Xu: "Re: The impossibility of software raid1"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0105.html">Goswin Brederlow: "Re: (alpha) YES, we have working boot-floppies"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0242.html">Goswin Brederlow: "[PATCH] POSIX and SVr4 compliant SIGSEGV handling"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0105.html">Goswin Brederlow: "kernel, missing force_sig_info support for segfaults"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>I'm trying to catch some segfaults using sigaction. The catching works
<BR>
but the siginfo structure isn't what it should be. I can't find out
<BR>
what adress was accessed or why it failed.
<BR>
<P>The problem seems to be in the kernel (arch/alpha/fault.c in
<BR>
do_page_fault). On i386 a siginfo structure is filled out there with
<BR>
the appropriate values and then force_sig_info is called. On Alpha no
<BR>
such thing is done and force_sig is called instead. force_sig in turn
<BR>
calls force_sig_info with a dummy siginfo structure, leaving my signal
<BR>
handler with too little data to cope with the segfault.
<BR>
<P>So am I right that nobody implemented siginfo support for alpha in the
<BR>
kernel yet and thus sigaction can't work properly?
<BR>
<P>MfG
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Goswin
<BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0208.html">Juha Jäykkä: "Re: internal error in make/gcc/c++"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0206.html">Herbert Xu: "Re: The impossibility of software raid1"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0105.html">Goswin Brederlow: "Re: (alpha) YES, we have working boot-floppies"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0242.html">Goswin Brederlow: "[PATCH] POSIX and SVr4 compliant SIGSEGV handling"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0105.html">Goswin Brederlow: "kernel, missing force_sig_info support for segfaults"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Sep 06 2001 - 05:03:50 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
