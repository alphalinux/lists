<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: Kernel 2.2.19 crashes, 2.4.4 bad perform</TITLE>
<META NAME="Author" CONTENT="Christopher C. Chimelis (chris@debian.org)">
<META NAME="Subject" CONTENT="Re: Kernel 2.2.19 crashes, 2.4.4 bad performance">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Kernel 2.2.19 crashes, 2.4.4 bad performance</H1>
<HR>
<P>
<!-- received="Tue May 15 07:06:04 2001" -->
<!-- isoreceived="20010515140604" -->
<!-- sent="Tue, 15 May 2001 01:36:37 -0400 (EDT)" -->
<!-- isosent="20010515053637" -->
<!-- name="Christopher C. Chimelis" -->
<!-- email="chris@debian.org" -->
<!-- subject="Re: Kernel 2.2.19 crashes, 2.4.4 bad performance" -->
<!-- id="Pine.LNX.4.21.0105150133420.4776-100000@spawn.hockeyfiend.com" -->
<!-- inreplyto="01051422364200.01270@shadowfax.middleearth" -->
<STRONG>Subject: </STRONG>Re: Kernel 2.2.19 crashes, 2.4.4 bad performance<BR>
<STRONG>From: </STRONG>Christopher C. Chimelis (<EM>chris@debian.org</EM>)<BR>
<STRONG>Date: </STRONG>Mon May 14 2001 - 22:36:37 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#33">[ date ]</A>
<A HREF="index.html#33">[ thread ]</A>
<A HREF="subject.html#33">[ subject ]</A>
<A HREF="author.html#33">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0034.html">T. Weyergraf: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0032.html">George France: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0032.html">George France: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0035.html">T. Weyergraf: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0032.html">Christopher C. Chimelis: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Mon, 14 May 2001, George France wrote:
<BR>
<P><EM>&gt; &gt; Platform: Dual 667 UP2000, 1.5gig ram, 3 adaptecs with 5 disks total,
</EM><BR>
<EM>&gt; &gt; serial console.
</EM><BR>
<P>All SCSI disks or are you mixing IDE into it?
<BR>
<P><EM>&gt; &gt; Kernel 2.4.4 seems to suffer a *tremendous* performance impact, compared to
</EM><BR>
<EM>&gt; &gt; 2.2.19. A 'time make -j4 boot' of the kernel-2.4.4 sources gives the
</EM><BR>
<EM>&gt; &gt; following compile-times:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;         2.4.4         2.2.19
</EM><BR>
<EM>&gt; &gt; real   3m58        2m38
</EM><BR>
<EM>&gt; &gt; user  4m23        2m23
</EM><BR>
<EM>&gt; &gt; sys    0m14       0m11
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Several other tests seem to indicate a similar decrease in performance wrt
</EM><BR>
<EM>&gt; &gt; real-time, some of them being CPU and/or memory-bound only.
</EM><BR>
<P>The VM has been reworked quite a bit.  Did you hit swap during any of your
<BR>
tests?  Also, is this EV6 or EV67?
<BR>
<P><EM>&gt; &gt; In addition to that, i've noticed, that kernel 2.2.19 frequently crashes,
</EM><BR>
<EM>&gt; &gt; after giving the well-known &quot;stuck spinlock&quot; messages in rather random
</EM><BR>
<EM>&gt; &gt; processes. No panics are given, the system just freezes completely ( no
</EM><BR>
<EM>&gt; &gt; ping and the like ).
</EM><BR>
<P>Take out the RTC and see if that helps. I've had problems with it on my
<BR>
UP2k here and there.  I don't think that it is a good solution,
<BR>
personally, but if it works...
<BR>
<P><EM>&gt; &gt; 1. Has anybody ever observed the performance impact, i'm seeing with kernel
</EM><BR>
<EM>&gt; &gt; 2.4.x ? 2. Since i moved to kernel 2.4.x very early for various reasons, I
</EM><BR>
<EM>&gt; &gt; would like to know, which of the recent 2.2.x kernels can be considered
</EM><BR>
<EM>&gt; &gt; stable on a alpha/SMP platform ( ideally being a UP2000 as well ).
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; I'm a bit confused here ;-)
</EM><BR>
<P>What other cards do you have in the system?  Oh, also, bear in mind that
<BR>
the Adaptec driver has changed in 2.4.x, IIRC, so that may explain things
<BR>
by itself :-)
<BR>
<P>C
<BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0034.html">T. Weyergraf: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0032.html">George France: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0032.html">George France: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0035.html">T. Weyergraf: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0032.html">Christopher C. Chimelis: "Re: Kernel 2.2.19 crashes, 2.4.4 bad performance"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Fri Jun 01 2001 - 04:36:15 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
