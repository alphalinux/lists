<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: Why halt does reboot?</TITLE>
<META NAME="Author" CONTENT="Francesco P. Lovergine (frankie@debian.org)">
<META NAME="Subject" CONTENT="Re: Why halt does reboot?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Why halt does reboot?</H1>
<HR>
<P>
<!-- received="Fri May 18 09:38:19 2001" -->
<!-- isoreceived="20010518163819" -->
<!-- sent="Fri, 18 May 2001 09:48:15 +0200" -->
<!-- isosent="20010518074815" -->
<!-- name="Francesco P. Lovergine" -->
<!-- email="frankie@debian.org" -->
<!-- subject="Re: Why halt does reboot?" -->
<!-- id="20010518094815.B7356@iesi.ba.cnr.it" -->
<!-- inreplyto="9BC49C4B559D46469E8DD8D32BDA774306305E@tayexc13.americas.cpqcorp.net" -->
<STRONG>Subject: </STRONG>Re: Why halt does reboot?<BR>
<STRONG>From: </STRONG>Francesco P. Lovergine (<EM>frankie@debian.org</EM>)<BR>
<STRONG>Date: </STRONG>Fri May 18 2001 - 00:48:15 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#48">[ date ]</A>
<A HREF="index.html#48">[ thread ]</A>
<A HREF="subject.html#48">[ subject ]</A>
<A HREF="author.html#48">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0049.html">Konrad Podloucky: "Evolution on Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0047.html">Christopher C. Chimelis: "Re: Why halt does reboot?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0042.html">Lease, Mike: "RE: Why halt does reboot?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0045.html">Tom Vier: "Re: Why halt does reboot?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0042.html">Francesco P. Lovergine: "Re: Why halt does reboot?"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Wed, May 16, 2001 at 02:21:18PM -0500, Lease, Mike wrote:
<BR>
<EM>&gt; You probably have the &quot;AUTO_ACTION&quot; environment variable in SRM
</EM><BR>
<EM>&gt; set to &quot;BOOT&quot; instead of &quot;HALT&quot;.  Try halting the machine, then
</EM><BR>
<EM>&gt; as the SRM prompt is about to come up (but before it actually
</EM><BR>
<EM>&gt; does), begin hitting Ctrl-C repeatedly, as fast as you can manage.
</EM><BR>
<EM>&gt; It can be difficult to get it in at just the right time, so you
</EM><BR>
<EM>&gt; may have to do this a few times (I've seen situations where 3 or
</EM><BR>
<EM>&gt; 4 different people have done this, and failed, only to have one
</EM><BR>
<EM>&gt; more person try and succeed).  Once it takes, you should see the
</EM><BR>
<EM>&gt; SRM prompt (&quot;&gt;&gt;&gt;&quot;).  When this happens, type &quot;show auto*&quot; at the
</EM><BR>
<EM>&gt; prompt (without the quotes).  That will show you the value of
</EM><BR>
<EM>&gt; the AUTO_ACTION variable.  If it's wrong (and I expect it will
</EM><BR>
<EM>&gt; be), you can change it by typing &quot;set auto_action halt&quot;.  After
</EM><BR>
<EM>&gt; that, the system should just come up to the SRM console when
</EM><BR>
<EM>&gt; you halt it, rather than rebooting.  Let me know whether or not
</EM><BR>
<EM>&gt; this helps, please.
</EM><BR>
<EM>&gt; 
</EM><BR>
<P>I knew that variable. This is not the problem. We need autobooting
<BR>
at poweron and a real halt when 'halt' instruction is issued.
<BR>
This is exactly the behavior of Compaq True64 on that archs (Alcor).
<BR>
Tom Vier suggested patching the kernel and I really think this is the
<BR>
right solution. Maybe that patch should be considered for backporting
<BR>
in 2.2 series.
<BR>
<P><P><EM>&gt; Regards,
</EM><BR>
<EM>&gt; Mike Lease,
</EM><BR>
<EM>&gt; Alpha Technology Solutions Group
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; -----Original Message-----
</EM><BR>
<EM>&gt; &gt; From: Francesco P. Lovergine [mailto:frankie@debian.org]
</EM><BR>
<EM>&gt; &gt; Sent: Wednesday, May 16, 2001 8:53 AM
</EM><BR>
<EM>&gt; &gt; To: debian-alpha@lists.debian.org
</EM><BR>
<EM>&gt; &gt; Subject: Why halt does reboot?
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; Just installed 2.2r2 on a Alphastation 500. 
</EM><BR>
<EM>&gt; &gt; This is a trial for a successive installation of a beowulf cluster.
</EM><BR>
<EM>&gt; &gt; The problem is: halt instruction does reboot the machine instead of 
</EM><BR>
<EM>&gt; &gt; stopping it. Boot is done by aboot and SRM is the eprom monitor.
</EM><BR>
<EM>&gt; &gt; Kernel is 2.2.18pre17.
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; Thank you in advance
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; -- 
</EM><BR>
<EM>&gt; &gt; Francesco P. Lovergine
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; -- 
</EM><BR>
<EM>&gt; &gt; To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
</EM><BR>
<EM>&gt; &gt; with a subject of &quot;unsubscribe&quot;. Trouble? Contact 
</EM><BR>
<EM>&gt; &gt; listmaster@lists.debian.org
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<P><PRE>
-- 
Francesco P. Lovergine
<P><P>-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0049.html">Konrad Podloucky: "Evolution on Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0047.html">Christopher C. Chimelis: "Re: Why halt does reboot?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0042.html">Lease, Mike: "RE: Why halt does reboot?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0045.html">Tom Vier: "Re: Why halt does reboot?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0042.html">Francesco P. Lovergine: "Re: Why halt does reboot?"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Fri Jun 01 2001 - 04:36:15 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
