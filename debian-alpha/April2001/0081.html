<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: gcc -mieee-with-inexact on ev67 gives wrong</TITLE>
<META NAME="Author" CONTENT="Major A (andras@users.sourceforge.net)">
<META NAME="Subject" CONTENT="gcc -mieee-with-inexact on ev67 gives wrong results">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>gcc -mieee-with-inexact on ev67 gives wrong results</H1>
<HR>
<P>
<!-- received="Thu Apr 19 10:55:11 2001" -->
<!-- isoreceived="20010419175511" -->
<!-- sent="Thu, 19 Apr 2001 11:05:49 +0100" -->
<!-- isosent="20010419100549" -->
<!-- name="Major A" -->
<!-- email="andras@users.sourceforge.net" -->
<!-- subject="gcc -mieee-with-inexact on ev67 gives wrong results" -->
<!-- id="20010419110549.H17135@sticks.phy.bris.ac.uk" -->
<STRONG>Subject: </STRONG>gcc -mieee-with-inexact on ev67 gives wrong results<BR>
<STRONG>From: </STRONG>Major A (<EM>andras@users.sourceforge.net</EM>)<BR>
<STRONG>Date: </STRONG>Thu Apr 19 2001 - 03:05:49 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#81">[ date ]</A>
<A HREF="index.html#81">[ thread ]</A>
<A HREF="subject.html#81">[ subject ]</A>
<A HREF="author.html#81">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0082.html">Dave Love: "Re: g77 issues"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0080.html">Sven LUTHER: "Re: g77 issues"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0083.html">Craig Small: "Re: gcc -mieee-with-inexact on ev67 gives wrong results"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>I tried to run the following test program on an alpha ev67 (a Nautilus
<BR>
running debian potato with linux-2.2.17, gcc-2.95.2):
<BR>
<P>#include &lt;stdio.h&gt;
<BR>
<P>int main (int argc, char *argv[])
<BR>
{
<BR>
&nbsp;&nbsp;double a, b, c; 
<BR>
<P>&nbsp;&nbsp;a = 1.; 
<BR>
&nbsp;&nbsp;b = 3.; 
<BR>
&nbsp;&nbsp;c = a/b; 
<BR>
<P>&nbsp;&nbsp;fprintf (stderr, &quot;%g / %g = %g\n&quot;, a, b, c); 
<BR>
}
<BR>
<P>Whenever the -mieee-with-inexact flag is set when compiling with gcc,
<BR>
the program gives an incorrect result (c=0.25 instead of 0.333333). I
<BR>
wasn't able to reproduce this behaviour with either g77 or the Compaq
<BR>
compilers (fort, ccc), setting the appropriate option.
<BR>
<P>The hardware (mainboard+cpu) of the computer has been changed
<BR>
recently, so that is probably not the problem.
<BR>
<P>I suspect that this is not a glibc problem because setting the
<BR>
-D_IEEE_FP and -D_IEEE_FP_INEXACT flags without -mieee-with-inexact
<BR>
did not produce the wrong result.
<BR>
<P>Currently, I have no access to any other ev67. All other alphas I have
<BR>
access to (ev4, ev45, ev56) give correct results.
<BR>
<P>Has anyone else had similar problems? Is this really a gcc bug? Any
<BR>
input is greatly appreciated.
<BR>
<P>&nbsp;&nbsp;Andras
<BR>
<P>===========================================================================
<BR>
Major Andras
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;e-mail: andras@users.sourceforge.net
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;www:    <A HREF="http://andras.webhop.org/">http://andras.webhop.org/</A>
<BR>
===========================================================================
<BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0082.html">Dave Love: "Re: g77 issues"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0080.html">Sven LUTHER: "Re: g77 issues"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0083.html">Craig Small: "Re: gcc -mieee-with-inexact on ev67 gives wrong results"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sat May 05 2001 - 06:18:16 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
