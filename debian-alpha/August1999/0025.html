<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: ssh problems...</TITLE>
<META NAME="Author" CONTENT="Lonnie Sauter (sauter@math.ukans.edu)">
<META NAME="Subject" CONTENT="Re: ssh problems...">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: ssh problems...</H1>
<HR>
<P>
<!-- received="Sun Aug 08 21:49:22 1999" -->
<!-- isoreceived="19990809044922" -->
<!-- sent="Sun, 8 Aug 1999 15:42:25 -0500 (CDT)" -->
<!-- isosent="19990808204225" -->
<!-- name="Lonnie Sauter" -->
<!-- email="sauter@math.ukans.edu" -->
<!-- subject="Re: ssh problems..." -->
<!-- id="Pine.GSO.4.10.9908081532410.9380-100000@titania.math.ukans.edu" -->
<!-- inreplyto="s2vu2qauca5.fsf@mussel.ucc.gu.uwa.edu.au" -->
<STRONG>Subject: </STRONG>Re: ssh problems...<BR>
<STRONG>From: </STRONG>Lonnie Sauter (<EM>sauter@math.ukans.edu</EM>)<BR>
<STRONG>Date: </STRONG>Sun Aug 08 1999 - 13:42:25 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#25">[ date ]</A>
<A HREF="index.html#25">[ thread ]</A>
<A HREF="subject.html#25">[ subject ]</A>
<A HREF="author.html#25">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0026.html">Christopher C Chimelis: "Re: kernel upgrade"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0024.html">geko@geko.dhs.org: "Compiling KDE"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0020.html">Mikolaj J. Habryn: "Re: ssh problems..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0020.html">Lonnie Sauter: "Re: ssh problems..."</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On 8 Aug 1999, Mikolaj J. Habryn wrote:
<BR>
<P>{&gt;&gt;&gt;&gt;&gt; &quot;LS&quot; == Lonnie Sauter &lt;sauter@math.ukans.edu&gt; writes:
<BR>
{
<BR>
{    LS&gt; As you can see the destination never responds.  So I tried
<BR>
{    LS&gt; rpcinfo in an attepmt to get some help.  When I run rpcinfo -p
<BR>
{    LS&gt; compute9 the program never returns.  So could this be some
<BR>
{    LS&gt; portmap problem?
<BR>
{
<BR>
{  What do you see when you strace the hanging program? If you have
<BR>
{console access to the machines, can you log in there to a machine that 
<BR>
{doesn't respond to ssh? What do you see if you strace the sshd on that 
<BR>
{machine while you're trying to ssh to it?
<BR>
<P><EM>&gt;From what I can tell there sshd is already running on a host you ssh to.
</EM><BR>
When one submits a request for ssh connection, another sshd will start.
<BR>
This is NOT happening on the machines.  Only the original sshd is running.
<BR>
I have tried, of course, to restart sshd via /etc/init.d/ssh restart (and
<BR>
I did it manually also).  For some reason the sshd on the remote seems to
<BR>
not be responding.  
<BR>
<P>I did strace the sshd on the target host that does not work correctly:
<BR>
<P>(61) # strace -p 15044
<BR>
select(4, [3], NULL, NULL, NULL
<BR>
<P>It does not react when a ssh session is requested.
<BR>
<P>On a working host this is what happens when a connection is requested:
<BR>
<P>select(4, [3], NULL, NULL, NULL)        = 1 (in [3])
<BR>
accept(3, {sin_family=AF_INET, sin_port=htons(1010),
<BR>
sin_addr=inet_addr(&quot;192.168.1.1&quot;)}, [16]) = 5
<BR>
fork()                                  = 2543
<BR>
gettimeofday({934144722, 721215}, NULL) = 0
<BR>
gettimeofday({934144722, 721290}, NULL) = 0
<BR>
gettimeofday({934144722, 721344}, NULL) = 0
<BR>
times({tms_utime=5767, tms_stime=39, tms_cutime=38508796,
<BR>
tms_cstime=1344}) = 188295075
<BR>
times({tms_utime=5767, tms_stime=39, tms_cutime=38508796,
<BR>
tms_cstime=1344}) = 188295075
<BR>
getrusage(RUSAGE_SELF, {ru_utime={5, 631835}, ru_stime={0, 38085}, ...}) =
<BR>
0
<BR>
getrusage(RUSAGE_CHILDREN, {ru_utime={37606, 246093}, ru_stime={1,
<BR>
312500}, ...}) = 0
<BR>
getxpid()                               = 114
<BR>
getxpid()                               = 114
<BR>
getxuid()                               = 0
<BR>
getxgid(0x1201423e0)                    = 0
<BR>
close(5)                                = 0
<BR>
select(4, [3], NULL, NULL, NULL &lt;unfinished ...&gt;
<BR>
<P>Thanks for the help!
<BR>
<P>Lon
<BR>
<P><P>--  
<BR>
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0026.html">Christopher C Chimelis: "Re: kernel upgrade"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0024.html">geko@geko.dhs.org: "Compiling KDE"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0020.html">Mikolaj J. Habryn: "Re: ssh problems..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0020.html">Lonnie Sauter: "Re: ssh problems..."</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Sep 07 1999 - 16:15:06 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
