<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: anyone successful in compiling kernel 2.</TITLE>
<META NAME="Author" CONTENT="T. Weyergraf (kirk@colinet.de)">
<META NAME="Subject" CONTENT="Re: anyone successful in compiling kernel 2.4.0-testx ?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: anyone successful in compiling kernel 2.4.0-testx ?</H1>
<HR>
<P>
<!-- received="Tue Aug 29 11:59:26 2000" -->
<!-- isoreceived="20000829185926" -->
<!-- sent="Tue, 29 Aug 2000 12:27:04 +0200" -->
<!-- isosent="20000829102704" -->
<!-- name="T. Weyergraf" -->
<!-- email="kirk@colinet.de" -->
<!-- subject="Re: anyone successful in compiling kernel 2.4.0-testx ?" -->
<!-- id="kirk-1000829122704.A01724@hydra.colinet.de" -->
<!-- inreplyto="20000829055305.4230.qmail@web1801.mail.yahoo.com" -->
<STRONG>Subject: </STRONG>Re: anyone successful in compiling kernel 2.4.0-testx ?<BR>
<STRONG>From: </STRONG>T. Weyergraf (<EM>kirk@colinet.de</EM>)<BR>
<STRONG>Date: </STRONG>Tue Aug 29 2000 - 03:27:04 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#157">[ date ]</A>
<A HREF="index.html#157">[ thread ]</A>
<A HREF="subject.html#157">[ subject ]</A>
<A HREF="author.html#157">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0158.html">Rich Payne: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0156.html">Christopher C. Chimelis: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0152.html">Robert Martinovic: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0158.html">Rich Payne: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0152.html">T. Weyergraf: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
[...]
<BR>
<EM>&gt;&gt; &gt; make archdep
</EM><BR>
<EM>&gt;&gt; 
</EM><BR>
<EM>&gt;&gt; And this worked for you?  I have been unsuccessful in
</EM><BR>
<EM>&gt;&gt; compiling every 2.4 test series kernel.  There are a
</EM><BR>
<EM>&gt;&gt; few problems as I see it using the debian kernel
</EM><BR>
<EM>&gt;&gt; package (which we are all meant to use :P )
</EM><BR>
<P>Yes, this works. You may even do the 'make archdep' after the compile fails, and
<BR>
re-start the compile itself.
<BR>
I have tested this with 2.4.0-test6, which gave me a kernel, which runs since
<BR>
about one week under *heavy* load. I have to say, that it is about 10-25%  faster
<BR>
on several kernel-related issues ( fork, exec, pipes, FS-I/O, some networking
<BR>
stuff ) and a little slower on mem-copies and friends. It runs *very* stable, 
<BR>
produces no stuck spinlocks or kernel-oopses so far. 
<BR>
I also compiled 2.4.0-test7 using the same method, yielding a good kernel
<BR>
image. I still did not test it, since my machine is still loaded with jobs ;-)
<BR>
( Yes, I wish I would have a *second* UP2000, just for poking around kernel,
<BR>
glibc and GCC - I would be able to fix things then - well, unfortunately, in
<BR>
Germany cash does not grow on trees, as we say ;-)
<BR>
<P>2.4.0-test6 works. If you want that too, let me see your .config, forward me
<BR>
your HW-config. I will try to build a  kernel against your config, and if I 
<BR>
succeed, I can forward you the *exact* steps how I did it - and the kernel
<BR>
image, if you like.
<BR>
<P>Besides, on my UP2000, I still use the test-cycle-3 CD-image installation.
<BR>
Has anybody seen the full 3 binary CD-images for alpha of Debian 2.2 ?
<BR>
I would like to upgrade to 2.2 using the CD Images as my basis instead of
<BR>
doing an apt-based upgrade.
<BR>
&nbsp;
<BR>
<EM>&gt;&gt;  1. make-kpkg clean removes arch/alpha/vmlinux.lds,
</EM><BR>
<EM>&gt;&gt; even if mach archdep makes it
</EM><BR>
<P>Yes. The &quot;normal&quot; make clean does it as well. 
<BR>
<P><EM>&gt;&gt;  2. removing 'rm -f arch/alpha/vmlinux.lds' from the
</EM><BR>
<EM>&gt;&gt; makefile allows the compilation to proceed further,
</EM><BR>
<EM>&gt;&gt; but it still fails
</EM><BR>
<P>vmlinux.lds needs to be build against your config, so make archdep needs
<BR>
to be run after the make dep ; make clean cycle.
<BR>
&nbsp;
<BR>
<EM>&gt;&gt; Any suggestions would be great since i have usb
</EM><BR>
<EM>&gt;&gt; devices just begging to be used
</EM><BR>
<P>Uhm. I have never used USB - not on my PC's and never on my Alpha/.
<BR>
My UP2000 uses not too many devices, just a bunch of SCSI controllers
<BR>
along with serial console.
<BR>
<P>Regards,
<BR>
Thomas Weyergraf
<BR>
<P><P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0158.html">Rich Payne: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0156.html">Christopher C. Chimelis: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0152.html">Robert Martinovic: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0158.html">Rich Payne: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0152.html">T. Weyergraf: "Re: anyone successful in compiling kernel 2.4.0-testx ?"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Fri Sep 01 2000 - 05:04:01 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
