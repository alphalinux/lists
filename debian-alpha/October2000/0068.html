<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Installing fdrom tftp to nfs and booting fro</TITLE>
<META NAME="Author" CONTENT="Goswin Brederlow (goswin.brederlow@student.uni-tuebingen.de)">
<META NAME="Subject" CONTENT="Installing fdrom tftp to nfs and booting from nfs fails">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Installing fdrom tftp to nfs and booting from nfs fails</H1>
<HR>
<P>
<!-- received="Thu Oct 19 14:46:23 2000" -->
<!-- isoreceived="20001019214623" -->
<!-- sent="17 Oct 2000 22:52:21 +0200" -->
<!-- isosent="20001017205221" -->
<!-- name="Goswin Brederlow" -->
<!-- email="goswin.brederlow@student.uni-tuebingen.de" -->
<!-- subject="Installing fdrom tftp to nfs and booting from nfs fails" -->
<!-- id="877l77nqbe.fsf@alpha.intern.brederlow.de" -->
<!-- inreplyto="15 Oct 00 06:57:43 PDT&quot;" -->
<STRONG>Subject: </STRONG>Installing fdrom tftp to nfs and booting from nfs fails<BR>
<STRONG>From: </STRONG>Goswin Brederlow (<EM>goswin.brederlow@student.uni-tuebingen.de</EM>)<BR>
<STRONG>Date: </STRONG>Tue Oct 17 2000 - 13:52:21 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#68">[ date ]</A>
<A HREF="index.html#68">[ thread ]</A>
<A HREF="subject.html#68">[ subject ]</A>
<A HREF="author.html#68">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0069.html">Jay Estabrook: "Re: Install problems"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0067.html">Andreas Falck: "boot problem after install"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi.
<BR>
<P>I installed a multia via bootp and tfptboot.img. Everything worked
<BR>
fine up to &quot;Installing Kernel...&quot;.
<BR>
<P>It downloaded the rescue.bin and drivers.tgz via http and placed them
<BR>
in /target/tmp/ (which is on nfs). Because it can't loopback from nfs,
<BR>
the installer seems to copy the file to a ramdisk and tries to mount
<BR>
that, which fails.
<BR>
<P>I tried to have the rescue.bin on a ramdisk and to installed from a
<BR>
mounted filesystem, same problem.
<BR>
<P>I also tried changing /dev/fd1 to a ramdisk and dd'ing rescue.bin
<BR>
there. I could mount that fine, but the install couldn't and after the
<BR>
instalöler tried I couldn't anymore. It seems to break the image on
<BR>
the way while trying to mount it.
<BR>
<P>So installing the rescue disk seems pretty broken.
<BR>
<P><P>Then I just copied the kernel by hand and extracted the drivers by
<BR>
hand and went on installing base, which worked fine again.
<BR>
<P><P>But how do I boot the system now? I tried setting &quot;root=/dev/nfs
<BR>
nfsroot=ip:path&quot; and booting with the tftpboot.img, which just starts
<BR>
the installation again. I tried using a kernel as tfptboot.img, which
<BR>
fails to start at all (I had a look at how the boot-floppies create a
<BR>
kernel and saw that they tweaked it to use bootp.c instead of
<BR>
boot.c). Then I tried to change the boot flags in the tftpboot.img,
<BR>
which got cut of after 16 characters.
<BR>
<P>So how can I get the Alpha to boot without compiling a new
<BR>
kernel. There should be a tftp bootable kernel in 2.2r1 for this
<BR>
case. Any voluntier to change the boot-floppy package?
<BR>
<P>Now I have to build a kernel at home and upload that to the tftp
<BR>
server or build one after chroot to the installed system. Pretty sad.
<BR>
<P>May the Source be with you.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Goswin
<BR>
<P>PS: I want to use the multia with the big, new, shiny, realy flat 24&quot;
<BR>
Monitor and all I can do is run dbootstrap. :(
<BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0069.html">Jay Estabrook: "Re: Install problems"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0067.html">Andreas Falck: "boot problem after install"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 02 2000 - 08:06:30 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
