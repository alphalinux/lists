<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: RTC: can't get a working kernel</TITLE>
<META NAME="Author" CONTENT="Dan Laffin (dan@mid-hudson.com)">
<META NAME="Subject" CONTENT="Re: RTC: can't get a working kernel">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: RTC: can't get a working kernel</H1>
<HR>
<P>
<!-- received="Wed Apr 26 17:07:55 2000" -->
<!-- isoreceived="20000427000755" -->
<!-- sent="Wed, 26 Apr 2000 13:00:49 -0400 (EDT)" -->
<!-- isosent="20000426170049" -->
<!-- name="Dan Laffin" -->
<!-- email="dan@mid-hudson.com" -->
<!-- subject="Re: RTC: can't get a working kernel" -->
<!-- id="Pine.LNX.3.96.1000426120449.26484A-100000@verylonghostnamesreallykickass.mhonline.net" -->
<!-- inreplyto="4.2.0.58.20000426094524.030edab0@161.184.137.180" -->
<STRONG>Subject: </STRONG>Re: RTC: can't get a working kernel<BR>
<STRONG>From: </STRONG>Dan Laffin (<EM>dan@mid-hudson.com</EM>)<BR>
<STRONG>Date: </STRONG>Wed Apr 26 2000 - 10:00:49 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#134">[ date ]</A>
<A HREF="index.html#134">[ thread ]</A>
<A HREF="subject.html#134">[ subject ]</A>
<A HREF="author.html#134">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0135.html">Wai-Sun Chia: "[Fwd: FW: [Fwd: Alpha motherboards (RTLinux)]]"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0133.html">Dan Laffin: "RTC: I give up"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0143.html">Mike Touloumtzis: "Re: RTC: can't get a working kernel"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Ok, thanks for the tip. Here is what I found.  When the machine starts to
<BR>
boot, it says:
<BR>
<P>&nbsp;&nbsp;Booting GENERIC on Tsunami variation Webbrick
<BR>
&nbsp;&nbsp;using machine vector Webbrick from SRM
<BR>
<P>Since i picked system-type &quot;generic&quot;.  Where is identification information
<BR>
like this for the DS10 available?  Tsunami isn't a choice when configuring
<BR>
the kernel. Although, I do see it in a few of the alpha Makefiles.
<BR>
<P>I manually added &quot;CONFIG_ALHPA_TSUNAMI=y&quot; to the .config file and
<BR>
compiled which causes it to totally skip the problem file below, but that
<BR>
kernel doesn't seem to want to boot.  The last message on the SRM that I
<BR>
get is:
<BR>
<P>&nbsp;&nbsp;aboot: ok, now starting the kernel... 
<BR>
<P>The screen doesn't go red or anything.
<BR>
<P>So, then I tried just removing the sys_nautilus.o file from the Makefile
<BR>
and everything seems to boot and be happy-- hardly user friendly though.
<BR>
Thoughts?  Any idea who I could speak to about this issue?
<BR>
<P><P>Dan                              &lt;dan@mid-hudson.com&gt;
<BR>
Network Systems Engineer          518.943.6600x3350
<BR>
<P>On Wed, 26 Apr 2000, Maurice Hilarius wrote:
<BR>
<P><EM>&gt; Date: Wed, 26 Apr 2000 09:46:50 -0600
</EM><BR>
<EM>&gt; From: Maurice Hilarius &lt;maurice@harddata.com&gt;
</EM><BR>
<EM>&gt; To: Dan Laffin &lt;dan@mid-hudson.com&gt;
</EM><BR>
<EM>&gt; Subject: Re: RTC: I give up
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; With regards to your message at 11:23 AM 4/26/00 -0400, Dan Laffin. Where 
</EM><BR>
<EM>&gt; you stated:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt;I read posts about how my hwclock issues might be related to the absense
</EM><BR>
<EM>&gt; &gt;of RTC support in the kernel.  I'd like to add it, but when I try to
</EM><BR>
<EM>&gt; &gt;compile 2.2.14 on my DS-10, it fails.  It only fails when RTC support is
</EM><BR>
<EM>&gt; &gt;added.  I have tried with and without the rtclite patch.  Below is the
</EM><BR>
<EM>&gt; &gt;failure.  Thank you for any ideas.
</EM><BR>
<EM>&gt; One obvious possibility is in the machine type you have set.
</EM><BR>
<EM>&gt; These are &quot;nautilus&quot; error messages. The DS-10 is NOT a &quot;nautilus type 
</EM><BR>
<EM>&gt; machine. Nautilus is the chipset used on the UP1000 board from API.
</EM><BR>
<EM>&gt; Maybe try the &quot;Tsunami&quot; machine type instead..
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt;Dan                              &lt;dan@mid-hudson.com&gt;
</EM><BR>
<EM>&gt; &gt;Network Systems Engineer          518.943.6600x3350
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2
</EM><BR>
<EM>&gt; &gt;-fomit-frame-pointer -fno-strict-aliasing -pipe -mno-fp-regs -ffixed-8
</EM><BR>
<EM>&gt; &gt;-mcpu=ev5 -Wa,-mev6   -c -o sys_nautilus.o sys_nautilus.c
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c: In function `nautilus_kill_arch':
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:94: warning: implicit declaration of function `CMOS_WRITE'
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:94: `RTC_FREQ_SELECT' undeclared (first use in this function)
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:94: (Each undeclared identifier is reported only once
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:94: for each function it appears in.)
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:97: warning: implicit declaration of function `CMOS_READ'
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:97: `RTC_CONTROL' undeclared (first use in this function)
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:98: `RTC_PIE' undeclared (first use in this function)
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:100: `RTC_INTR_FLAGS' undeclared (first use in this function)
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:113: warning: passing arg 4 of 
</EM><BR>
<EM>&gt; &gt;`irongate_hose_write_config_byte' makes integer from pointer without a cast
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c: In function `naut_sys_machine_check':
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:431: warning: implicit declaration of function 
</EM><BR>
<EM>&gt; &gt;`irongate_pci_clr_err'
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c: In function `nautilus_machine_check':
</EM><BR>
<EM>&gt; &gt;sys_nautilus.c:501: warning: unsigned int format, different type arg (arg 2)
</EM><BR>
<EM>&gt; &gt;make[1]: *** [sys_nautilus.o] Error 1
</EM><BR>
<EM>&gt; &gt;make[1]: Leaving directory `/usr/src/kernel-source-2.2.14/arch/alpha/kernel'
</EM><BR>
<EM>&gt; &gt;make: *** [_dir_arch/alpha/kernel] Error 2
</EM><BR>
<P><P><P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0135.html">Wai-Sun Chia: "[Fwd: FW: [Fwd: Alpha motherboards (RTLinux)]]"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0133.html">Dan Laffin: "RTC: I give up"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0143.html">Mike Touloumtzis: "Re: RTC: can't get a working kernel"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Mon May 01 2000 - 18:42:05 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
