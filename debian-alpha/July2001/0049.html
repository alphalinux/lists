<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: natsemi.c &amp; 2.4.6 on Alpha [patch]</TITLE>
<META NAME="Author" CONTENT="doug@ties.org (doug@ties.org)">
<META NAME="Subject" CONTENT="natsemi.c &amp; 2.4.6 on Alpha [patch]">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>natsemi.c &amp; 2.4.6 on Alpha [patch]</H1>
<HR>
<P>
<!-- received="Mon Jul 16 22:14:41 2001" -->
<!-- isoreceived="20010717051441" -->
<!-- sent="Mon, 16 Jul 2001 18:10:34 -0400 (EDT)" -->
<!-- isosent="20010716221034" -->
<!-- name="doug@ties.org" -->
<!-- email="doug@ties.org" -->
<!-- subject="natsemi.c &amp; 2.4.6 on Alpha [patch]" -->
<!-- id="XFMail.20010716181034.doug@ties.org" -->
<STRONG>Subject: </STRONG>natsemi.c & 2.4.6 on Alpha [patch]<BR>
<EM>doug@ties.org</EM><BR>
<STRONG>Date: </STRONG>Mon Jul 16 2001 - 15:10:34 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#49">[ date ]</A>
<A HREF="index.html#49">[ thread ]</A>
<A HREF="subject.html#49">[ subject ]</A>
<A HREF="author.html#49">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0050.html">Jay Estabrook: "Re: AS2100"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0048.html">Stefan Schroepfer: "Re: AS2100"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I'm not quite sure where to send this, but I figure someone here will
<BR>
know.
<BR>
<P>This past weekend I upgraded my Alpha (LX) to kernel 2.4.6.  Only
<BR>
problem was that my network card (NetGear FA-311) did not work.
<BR>
<P>I have found and fixed the problem, a one-liner 32-bit-ism in the
<BR>
driver.  Short patch follows:
<BR>
<P>--- /usr/src/linux/drivers/net/natsemi.c-orig Mon Jul 16 18:03:32 2001
<BR>
+++ /usr/src/linux/drivers/net/natsemi.c   Mon Jul 16 07:56:25 2001
<BR>
@@ -580,7 +580,7 @@
<BR>
&nbsp;{
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int i;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int retval = 0;
<BR>
-       int ee_addr = addr + EECtrl;
<BR>
+       long ee_addr = addr + EECtrl;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int read_cmd = location | EE_ReadCmd;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writel(EE_Write0, ee_addr);
<BR>
<P>Suggestions on where to send this patch, or kind offers to forward it
<BR>
to the correct place, gratefully accepted.
<BR>
<P>-Doug
<BR>
<P><PRE>
--
Doug Larrick  doug@ties.org  doug.larrick@compaq.com  AIM: DougLarick
<P><P>-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0050.html">Jay Estabrook: "Re: AS2100"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0048.html">Stefan Schroepfer: "Re: AS2100"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Aug 01 2001 - 06:11:43 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
