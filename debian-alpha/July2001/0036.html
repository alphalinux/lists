<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: I've yet to get a 2.4 kernel to work on</TITLE>
<META NAME="Author" CONTENT="Christopher C. Chimelis (chris@debian.org)">
<META NAME="Subject" CONTENT="Re: I've yet to get a 2.4 kernel to work on my DS20">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: I've yet to get a 2.4 kernel to work on my DS20</H1>
<HR>
<P>
<!-- received="Thu Jul 12 14:33:53 2001" -->
<!-- isoreceived="20010712213353" -->
<!-- sent="Thu, 12 Jul 2001 09:42:57 -0400 (EDT)" -->
<!-- isosent="20010712134257" -->
<!-- name="Christopher C. Chimelis" -->
<!-- email="chris@debian.org" -->
<!-- subject="Re: I've yet to get a 2.4 kernel to work on my DS20" -->
<!-- id="Pine.LNX.4.21.0107120938090.21170-100000@spawn.hockeyfiend.com" -->
<!-- inreplyto="E15KeOR-0001aG-00@thorax.bg.ic.ac.uk" -->
<STRONG>Subject: </STRONG>Re: I've yet to get a 2.4 kernel to work on my DS20<BR>
<STRONG>From: </STRONG>Christopher C. Chimelis (<EM>chris@debian.org</EM>)<BR>
<STRONG>Date: </STRONG>Thu Jul 12 2001 - 06:42:57 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#36">[ date ]</A>
<A HREF="index.html#36">[ thread ]</A>
<A HREF="subject.html#36">[ subject ]</A>
<A HREF="author.html#36">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0037.html">Edgar Denny: "Re: I've yet to get a 2.4 kernel to work on my DS20"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0035.html">Christopher C. Chimelis: "Re: sym53c8xx SCSI Controller and Kernel 2.4.5 boot problems"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0034.html">Edgar Denny: "I've yet to get a 2.4 kernel to work on my DS20"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0037.html">Edgar Denny: "Re: I've yet to get a 2.4 kernel to work on my DS20"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0034.html">Christopher C. Chimelis: "Re: I've yet to get a 2.4 kernel to work on my DS20"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Thu, 12 Jul 2001, Edgar Denny wrote:
<BR>
<P><EM>&gt; I've just attempted to get the 2.4.6 kernel working on my 2 CPU
</EM><BR>
<EM>&gt; DS20 Alphaserver. It compiled, which was an advance on 2.4.5, but
</EM><BR>
<EM>&gt; every 2.4 kernel that I've tried, I always get the same error. The
</EM><BR>
<EM>&gt; boot process stops with:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Trace: 81001c
</EM><BR>
<EM>&gt; Kernel Panic: Attempted to kill idle task!
</EM><BR>
<EM>&gt; In idle task - not syncing
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; If I disable SMP I can get a kernel to boot.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I've tried both the default debian, and the new gcc-3.0 compiler
</EM><BR>
<EM>&gt; with the same result.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Can anybody help?
</EM><BR>
<P>Yes :-)  I had the same trouble (UP2000 dual EV67 667MHz) and have a patch
<BR>
on my work machine that I'll post when I get to work.  There's a function
<BR>
in arch/alpha/kernel/smp.c that used to be used to set the cacheflush_time
<BR>
var for the scheduler, but the 2.4 scheduler doesn't require it
<BR>
anymore.  The function (smp_tune_scheduler()) is totally uneeded in 2.4
<BR>
and seems to cause problems.  Removing the function call from
<BR>
smp_boot_cpus() should allow you to boot SMP.
<BR>
<P>Again, I'll send you a patch when I get in (actually, I'll post it to the
<BR>
list and send it in to the kernel list).
<BR>
<P>C
<BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0037.html">Edgar Denny: "Re: I've yet to get a 2.4 kernel to work on my DS20"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0035.html">Christopher C. Chimelis: "Re: sym53c8xx SCSI Controller and Kernel 2.4.5 boot problems"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0034.html">Edgar Denny: "I've yet to get a 2.4 kernel to work on my DS20"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0037.html">Edgar Denny: "Re: I've yet to get a 2.4 kernel to work on my DS20"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0034.html">Christopher C. Chimelis: "Re: I've yet to get a 2.4 kernel to work on my DS20"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Aug 01 2001 - 06:11:43 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
