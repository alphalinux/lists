<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: Slink kernel compilation</TITLE>
<META NAME="Author" CONTENT="Jean-Paul Blaquiere (japester@ucc.gu.uwa.edu.au)">
<META NAME="Subject" CONTENT="Re: Slink kernel compilation">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Slink kernel compilation</H1>
<HR>
<P>
<!-- received="Fri Jan 14 08:12:21 2000" -->
<!-- isoreceived="20000114161221" -->
<!-- sent="Fri, 14 Jan 2000 15:02:20 +0800" -->
<!-- isosent="20000114070220" -->
<!-- name="Jean-Paul Blaquiere" -->
<!-- email="japester@ucc.gu.uwa.edu.au" -->
<!-- subject="Re: Slink kernel compilation" -->
<!-- id="20000114150220.B1495@mussel.ucc.gu.uwa.edu.au" -->
<!-- inreplyto="20000113084643.19070.qmail@web3304.mail.yahoo.com" -->
<STRONG>Subject: </STRONG>Re: Slink kernel compilation<BR>
<STRONG>From: </STRONG>Jean-Paul Blaquiere (<EM>japester@ucc.gu.uwa.edu.au</EM>)<BR>
<STRONG>Date: </STRONG>Thu Jan 13 2000 - 23:02:20 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#78">[ date ]</A>
<A HREF="index.html#78">[ thread ]</A>
<A HREF="subject.html#78">[ subject ]</A>
<A HREF="author.html#78">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0079.html">Kerstin Hoef-Emden: "Re: Slink kernel compilation"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0077.html">Jean-Paul Blaquiere: "Re: Slink kernel compilation"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0069.html">Robert Parnell: "Slink kernel compilation"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0081.html">Phil Oleson: "Re: Slink kernel compilation"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0069.html">Jean-Paul Blaquiere: "Re: Slink kernel compilation"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I have fwd'd this to the list... if anyone would like to proof read and maybe
<BR>
upload it to alphalinux.org/include it in FAQs then please do so.
<BR>
or make me write it out again neater and send it to whoever maintains the
<BR>
install documents ?
<BR>
<P>as one of the other guys mentioned, go for a 2.2.x kernel.  The more recent
<BR>
ones 2.2.13 has been noted to be comparatively stable.
<BR>
<P>format your drives BSD style.  this can be done off the boot floppies.
<BR>
boot off the floppies, fdisk, select bsd options ..... and leave ~2-4 MB at
<BR>
the beginning of the drive.  This is where aboot and a kernel if you like can
<BR>
go.
<BR>
reboot to resync the partition table.
<BR>
format the partitions, install linux as per normal.
<BR>
once you have an install done, do kernel compile.
<BR>
<P>grab the kernel source off any kernel source mirror and extract.
<BR>
there are no specific patches that you need apply.
<BR>
type make config.
<BR>
there is a question asking what sort of machine you have.  Read the
<BR>
documentation or ask on the mailing list again, as I don't know what specific
<BR>
variant the PC-64 is.
<BR>
Include the various bits that you want in the kernel .....
<BR>
specify boot from SRM (fairly early in the list of questions)
<BR>
and also BSD disk label support (one of the last few questions)
<BR>
you don't need SUN labels, or any of the other BSD variant stuff.
<BR>
<P>when the config has finished.  type &quot;make boot&quot;
<BR>
not zimage or zlilo etc.
<BR>
the kernel will compile and appear in ./linux/arch/alpha/boot/vmlinux.gz
<BR>
it's listed in the kernel compile messages too.
<BR>
copy that to / on your boot partition.
<BR>
<P>aboot does not come on the boot floppies, so we now get to install that.
<BR>
<P>type &quot;sriteboot /dev/sdx /boot/bootlx /vmlinux.gz
<BR>
<P>where 'x' is the disk you want to boot off.
<BR>
<P>and then &quot;abootconf /dev/sdx y
<BR>
<P>where 'x' is the boot drive and y the root partition.
<BR>
specifically because it holds /etc/aboot.conf
<BR>
<P>to edit this file, make it look something like :
<BR>
<P>/etc/aboot.conf
<BR>
#
<BR>
#
<BR>
0:4/vmlinux-2.2.14 ro root=/dev/sda4
<BR>
1:4/vmlinux-2.2.14 ro root=/dev/sda4 SINGLE
<BR>
-
<BR>
<P>the numbers at the beginning of each line must be uniqe.  They are what you
<BR>
use as the boot flags on the console. eg &quot;&gt;&gt;&gt;boot dka0 -fl 2&quot;
<BR>
referring to line 2 in /etc/aboot.conf
<BR>
the second number is the partition containing the kernel image.
<BR>
the rest is fairly explanatory I think.
<BR>
<P>i don't know if there is a limit to the number of images you can specify in
<BR>
the config file.
<BR>
<P>also, if you pass i as a  boot flag you can boot interactively with aboot.
<BR>
if you type 'h' at the aboot prompt, it will give you brief help and also list
<BR>
the /etc/aboot.conf file.
<BR>
<P><P>I take it you know how to update the firmware to SRM being a DU person?
<BR>
i *believe* that there are FAQs on this somewhere if not. I have only ever
<BR>
done the updates from the firmware CD which is really easy :)
<BR>
<P>I hope this helps somewhat and if you have any more questions, don't hesitate
<BR>
to ask.
<BR>
<P>regards,
<BR>
<PRE>
-- 
Jean-Paul Blaquiere
   japester@ucc.gu.uwa.edu.au
   	gotta www.wibble.org again
<P><P>-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0079.html">Kerstin Hoef-Emden: "Re: Slink kernel compilation"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0077.html">Jean-Paul Blaquiere: "Re: Slink kernel compilation"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0069.html">Robert Parnell: "Slink kernel compilation"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0081.html">Phil Oleson: "Re: Slink kernel compilation"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0069.html">Jean-Paul Blaquiere: "Re: Slink kernel compilation"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Feb 01 2000 - 05:33:34 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
