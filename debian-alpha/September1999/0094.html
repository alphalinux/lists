<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: kernel sources for alpha? (Re: Not detec</TITLE>
<META NAME="Author" CONTENT="Peter S Galbraith (GalbraithP@dfo-mpo.gc.ca)">
<META NAME="Subject" CONTENT="Re: kernel sources for alpha? (Re: Not detecting SCSI drive)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: kernel sources for alpha? (Re: Not detecting SCSI drive)</H1>
<HR>
<P>
<!-- received="Mon Sep 20 19:43:57 1999" -->
<!-- isoreceived="19990921024357" -->
<!-- sent="Mon, 20 Sep 1999 16:32:54 -0400" -->
<!-- isosent="19990920203254" -->
<!-- name="Peter S Galbraith" -->
<!-- email="GalbraithP@dfo-mpo.gc.ca" -->
<!-- subject="Re: kernel sources for alpha? (Re: Not detecting SCSI drive)" -->
<!-- id="199909202032.QAA31596@mixing.qc.dfo.ca" -->
<!-- inreplyto="kernel sources for alpha? (Re: Not detecting SCSI drive)" -->
<STRONG>Subject: </STRONG>Re: kernel sources for alpha? (Re: Not detecting SCSI drive)<BR>
<STRONG>From: </STRONG>Peter S Galbraith (<EM>GalbraithP@dfo-mpo.gc.ca</EM>)<BR>
<STRONG>Date: </STRONG>Mon Sep 20 1999 - 13:32:54 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#94">[ date ]</A>
<A HREF="index.html#94">[ thread ]</A>
<A HREF="subject.html#94">[ subject ]</A>
<A HREF="author.html#94">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0095.html">Christopher C Chimelis: "Re: 2nd SCSI..."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0093.html">Peter S Galbraith: "Re: kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0042.html">Peter S Galbraith: "kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0097.html">Christopher C Chimelis: "Re: kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0042.html">Peter S Galbraith: "Re: kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
A bit more info on the problem.  Here the /proc/scsi/ncr53c8xx/0
<BR>
and selected dmesg output from a 2.0.30 kernel that detects the
<BR>
disk correctly:
<BR>
<P>/proc/scsi/ncr53c8xx/0
<BR>
<P>&nbsp;&nbsp;General information:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Chip NCR53C875, device id 0xf, revision id 0x4
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;IO port address 0x9800, IRQ number 19
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Synchronous period factor 12, max commands per lun 4
<BR>
&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;Profiling information:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;num_trans    = 4245
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;num_kbytes   = 18818
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;num_disc     = 5185
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;num_break    = 83
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;num_int      = 114
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;num_fly      = 4245
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ms_setup     = 462
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ms_data      = 3536
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ms_disc      = 21080
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ms_post      = 211
<BR>
<P>dmesg:
<BR>
<P>&nbsp;&nbsp;Linux version 2.0.30 (root@spacely.redhat.com) (gcc version 2.7.2.3) #1 Tue Nov 11 22:53:37 EST 1997
<BR>
&nbsp;&nbsp;[cut]
<BR>
&nbsp;&nbsp;ncr53c8xx: at PCI bus 1, device 0, function 0
<BR>
&nbsp;&nbsp;ncr53c8xx: 53c875 detected 
<BR>
&nbsp;&nbsp;ncr53c875-0: rev=0x04, base=0xb001000, io_port=0x9800, irq=19
<BR>
&nbsp;&nbsp;ncr53c875-0: ID 7, Fast-20, Parity Checking
<BR>
&nbsp;&nbsp;ncr53c875-0: on-board RAM at 0xb002000
<BR>
&nbsp;&nbsp;ncr53c875-0: restart (scsi reset).
<BR>
&nbsp;&nbsp;scsi0 : ncr53c8xx - revision 2.4a
<BR>
&nbsp;&nbsp;scsi : 1 host.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Vendor: SEAGATE   Model: ST34501W          Rev: 0018
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
&nbsp;&nbsp;Detected scsi disk sda at scsi0, channel 0, id 1, lun 0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Vendor: SEAGATE   Model: ST118202LW        Rev: 0006
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
&nbsp;&nbsp;Detected scsi disk sdb at scsi0, channel 0, id 2, lun 0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Vendor: TOSHIBA   Model: CD-ROM XM-5701TA  Rev: 3136
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Type:   CD-ROM                             ANSI SCSI revision: 02
<BR>
&nbsp;&nbsp;Detected scsi CD-ROM sr0 at scsi0, channel 0, id 4, lun 0
<BR>
&nbsp;&nbsp;scsi : detected 1 SCSI cdrom 2 SCSI disks total.
<BR>
&nbsp;&nbsp;ncr53c875-0-&lt;1,0&gt;: SLOW WIDE SCSI 10.0 MB/s (200 ns, offset 15)
<BR>
&nbsp;&nbsp;SCSI device sda: hdwr sector= 512 bytes. Sectors= 8887200 [4339 MB] [4.3 GB]
<BR>
&nbsp;&nbsp;ncr53c875-0-&lt;2,0&gt;: SLOW WIDE SCSI 10.0 MB/s (200 ns, offset 15)
<BR>
&nbsp;&nbsp;SCSI device sdb: hdwr sector= 512 bytes. Sectors= 35566480 [17366 MB] [17.4 GB]
<BR>
<P><P>Here's the same from the 2.2.12 kernel that _doesn't_ detect the
<BR>
disk:
<BR>
<P>/proc/scsi/ncr53c8xx/0
<BR>
<P>&nbsp;&nbsp;General information:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Chip NCR53C875, device id 0xf, revision id 0x4
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;IO port address 0x9000, IRQ number 19
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Synchronous period factor 12, max commands per lun 32
<BR>
<P>dmesg:
<BR>
<P>&nbsp;&nbsp;Linux version 2.2.12 (root@poseidon) (gcc version egcs-2.91.60 Debian 2.1 (egcs-1.1.1 release)) #2 Fri Sep 20 06:11:35 PDT 2019
<BR>
&nbsp;&nbsp;ncr53c8xx: at PCI bus 1, device 0, function 0
<BR>
&nbsp;&nbsp;ncr53c8xx: 53c875 detected with Symbios NVRAM
<BR>
&nbsp;&nbsp;ncr53c875-0: rev=0x04, base=0xb000000, io_port=0x9000, irq=19
<BR>
&nbsp;&nbsp;ncr53c875-0: Symbios format NVRAM, ID 7, Fast-20, Parity Checking
<BR>
&nbsp;&nbsp;ncr53c875-0: initial SCNTL3/DMODE/DCNTL/CTEST3/4/5 = (hex) 05/8e/a0/01/00/24
<BR>
&nbsp;&nbsp;ncr53c875-0: final   SCNTL3/DMODE/DCNTL/CTEST3/4/5 = (hex) 05/46/a0/00/08/24
<BR>
&nbsp;&nbsp;ncr53c875-0: on-chip RAM at 0xb001000
<BR>
&nbsp;&nbsp;ncr53c875-0: resetting, command processing suspended for 2 seconds
<BR>
&nbsp;&nbsp;ncr53c875-0: restart (scsi reset).
<BR>
&nbsp;&nbsp;ncr53c875-0: enabling clock multiplier
<BR>
&nbsp;&nbsp;ncr53c875-0: Downloading SCSI SCRIPTS.
<BR>
&nbsp;&nbsp;scsi0 : ncr53c8xx - version 3.2a-2
<BR>
&nbsp;&nbsp;scsi : 1 host.
<BR>
&nbsp;&nbsp;ncr53c875-0: command processing resumed
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Vendor: SEAGATE   Model: ST34501W          Rev: 0018
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
&nbsp;&nbsp;Detected scsi disk sda at scsi0, channel 0, id 1, lun 0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Vendor: TOSHIBA   Model: CD-ROM XM-5701TA  Rev: 3136
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Type:   CD-ROM                             ANSI SCSI revision: 02
<BR>
&nbsp;&nbsp;Detected scsi CD-ROM sr0 at scsi0, channel 0, id 4, lun 0
<BR>
&nbsp;&nbsp;ncr53c875-0-&lt;1,0&gt;: tagged command queue depth set to 8
<BR>
&nbsp;&nbsp;scsi : detected 1 SCSI cdrom 1 SCSI disk total.
<BR>
&nbsp;&nbsp;ncr53c875-0-&lt;4,*&gt;: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
<BR>
&nbsp;&nbsp;Uniform CDROM driver Revision: 2.55
<BR>
&nbsp;&nbsp;ncr53c875-0-&lt;1,*&gt;: WIDE SCSI (16 bit) enabled.
<BR>
&nbsp;&nbsp;ncr53c875-0-&lt;1,*&gt;: FAST-20 WIDE SCSI 40.0 MB/s (50 ns, offset 15)
<BR>
&nbsp;&nbsp;SCSI device sda: hdwr sector= 512 bytes. Sectors= 8887200 [4339 MB] [4.3 GB]
<BR>
<P><P>Looks like perhaps I should turn off Symbios NVRAM detection and
<BR>
try again?
<BR>
<P>README.ncr53c8xx says to pass the argument `ncr53c8xx=nvram:n' at
<BR>
the LILO prompt.  Does MILO work the same way?
<BR>
<P>Thanks,
<BR>
<PRE>
-- 
Peter Galbraith, research scientist          &lt;GalbraithP@dfo-mpo.gc.ca&gt;
Maurice Lamontagne Institute, Department of Fisheries and Oceans Canada
P.O. Box 1000, Mont-Joli Qc, G5H 3Z4 Canada. 418-775-0852 FAX: 775-0546
    6623'rd GNU/Linux user at the Counter - <A HREF="http://counter.li.org/">http://counter.li.org/</A> 
<P><P>--  
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0095.html">Christopher C Chimelis: "Re: 2nd SCSI..."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0093.html">Peter S Galbraith: "Re: kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0042.html">Peter S Galbraith: "kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0097.html">Christopher C Chimelis: "Re: kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0042.html">Peter S Galbraith: "Re: kernel sources for alpha? (Re: Not detecting SCSI drive)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Mon Oct 04 1999 - 12:44:56 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
