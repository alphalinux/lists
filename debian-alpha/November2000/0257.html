<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: Is this a gcc problem?</TITLE>
<META NAME="Author" CONTENT="Robert Martinovic (mlaich@bigpond.com )">
<META NAME="Subject" CONTENT="Re: Is this a gcc problem?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Is this a gcc problem?</H1>
<HR>
<P>
<!-- received="Wed Nov 29 09:19:16 2000" -->
<!-- isoreceived="20001129171916" -->
<!-- sent="Wed, 29 Nov 2000 16:02:34 +1100" -->
<!-- isosent="20001129050234" -->
<!-- name="Robert Martinovic" -->
<!-- email="mlaich@bigpond.com " -->
<!-- subject="Re: Is this a gcc problem?" -->
<!-- id="20001129160234.A646@bigpond.com" -->
<!-- inreplyto="Pine.LNX.4.21.0011282323080.15867-100000@spawn.hockeyfiend.com" -->
<STRONG>Subject: </STRONG>Re: Is this a gcc problem?<BR>
<STRONG>From: </STRONG>Robert Martinovic (<EM>mlaich@bigpond.com </EM>)<BR>
<STRONG>Date: </STRONG>Tue Nov 28 2000 - 21:02:34 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#257">[ date ]</A>
<A HREF="index.html#257">[ thread ]</A>
<A HREF="subject.html#257">[ subject ]</A>
<A HREF="author.html#257">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0258.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0256.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0256.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0258.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0256.html">Robert Martinovic: "Re: Is this a gcc problem?"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hey,
<BR>
<P>I too have had this problem since day 1 of using debian on alpha (about 18 months)
<BR>
<P>This is a debian problem, as redhat 6.2 on alpha doesn't exhibit the same problem.
<BR>
<P>Robert
<BR>
<P>On Tue, Nov 28, 2000 at 11:27:59PM -0500, Christopher C. Chimelis wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Tue, 28 Nov 2000, Doug Larrick wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; I have tracked down a problem I've been seeing with gtk apps for quite
</EM><BR>
<EM>&gt; &gt; some time, where certain windows don't display properly... see
</EM><BR>
<EM>&gt; &gt; <A HREF="http://jekyl.ddts.net/~doug/control-center-1.jpg">http://jekyl.ddts.net/~doug/control-center-1.jpg</A> for an example.  The
</EM><BR>
<EM>&gt; &gt; problem is in the GtkHPaned widget, specifically in how it calculates
</EM><BR>
<EM>&gt; &gt; a particular subwidget's size.  However, the problem appears to be one
</EM><BR>
<EM>&gt; &gt; of code generation rather than a problem with the source.  Here's the
</EM><BR>
<EM>&gt; &gt; relevant snippet, from gtk/gtkhpaned.c in libgtk1.2, near line 219
</EM><BR>
<EM>&gt; &gt; (the #if'd out part is the original; the #else part is my replacement):
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Thanks for looking into this.  It's been on my &quot;list of stuff to look
</EM><BR>
<EM>&gt; at&quot; for weeks now, but the C++ multiple inheritance stuff has superceded
</EM><BR>
<EM>&gt; it :-(
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I believe that you're correct that the code is being misgenerated.  It's
</EM><BR>
<EM>&gt; quite possible that it's an optimiser bug (yet again).  I'll try to
</EM><BR>
<EM>&gt; compile GTK again without any optimisation and see if it helps.  If so,
</EM><BR>
<EM>&gt; I'll do a binary NMU on it and put it on my list of &quot;stuff to compile
</EM><BR>
<EM>&gt; without optimisation&quot; :-P
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; The interesting thing to note is that child2_allocation looks like
</EM><BR>
<EM>&gt; &gt; this:
</EM><BR>
<EM>&gt; &gt;   struct GtkAllocation
</EM><BR>
<EM>&gt; &gt;    {
</EM><BR>
<EM>&gt; &gt;      gint16 x;
</EM><BR>
<EM>&gt; &gt;      gint16 y;
</EM><BR>
<EM>&gt; &gt;      guint16 width;
</EM><BR>
<EM>&gt; &gt;      guint16 height;
</EM><BR>
<EM>&gt; &gt;    };
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; This looks like a gcc bug (and a bad one) to me.  The two values
</EM><BR>
<EM>&gt; &gt; printf'd out are nearly always different.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I'm wondering if the bug is related to the casting.  Either way, if no
</EM><BR>
<EM>&gt; optimisation fixes it, I wouldn't bother submitting it as a bug unless the
</EM><BR>
<EM>&gt; newer gcc snapshot exhibits the same behaviour (sooooooo many changes have
</EM><BR>
<EM>&gt; been made to gcc between 2.95.2 and now).  I don't think we're far away
</EM><BR>
<EM>&gt; from gcc 3.0, but there's no guarantee of that.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; I am going to try to narrow this down to a good test case and submit a
</EM><BR>
<EM>&gt; &gt; bug against gcc, but first I'm wondering if it rings a bell with
</EM><BR>
<EM>&gt; &gt; anyone?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Well, at least I know that Rich Payne and I aren't alone in seeing this
</EM><BR>
<EM>&gt; :-P  I'm also glad that you took the initiative and looked at the problem
</EM><BR>
<EM>&gt; (big thanks for that).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; C
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
</EM><BR>
<EM>&gt; with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0258.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0256.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0256.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0258.html">Christopher C. Chimelis: "Re: Is this a gcc problem?"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0256.html">Robert Martinovic: "Re: Is this a gcc problem?"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Fri Dec 01 2000 - 08:00:12 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
