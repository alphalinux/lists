<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: php4 on alpha</TITLE>
<META NAME="Author" CONTENT="Chris Walton (cdw@dcs.ed.ac.uk)">
<META NAME="Subject" CONTENT="Re: php4 on alpha">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: php4 on alpha</H1>
<HR>
<P>
<!-- received="Wed Nov 29 02:58:30 2000" -->
<!-- isoreceived="20001129105830" -->
<!-- sent="Tue, 28 Nov 2000 12:49:30 +0000" -->
<!-- isosent="20001128124930" -->
<!-- name="Chris Walton" -->
<!-- email="cdw@dcs.ed.ac.uk" -->
<!-- subject="Re: php4 on alpha" -->
<!-- id="3A23A9DA.CBFC9AC6@dcs.ed.ac.uk" -->
<!-- inreplyto="20001127093129.D11679@farrer.net" -->
<STRONG>Subject: </STRONG>Re: php4 on alpha<BR>
<STRONG>From: </STRONG>Chris Walton (<EM>cdw@dcs.ed.ac.uk</EM>)<BR>
<STRONG>Date: </STRONG>Tue Nov 28 2000 - 04:49:30 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#249">[ date ]</A>
<A HREF="index.html#249">[ thread ]</A>
<A HREF="subject.html#249">[ subject ]</A>
<A HREF="author.html#249">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0250.html">Wichert Akkerman: "sgml-tools for alpha/potato miscompiled?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0248.html">Christopher C. Chimelis: "Re: netscape 4.7-3"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0237.html">Ron Farrer: "Re: php4 on alpha"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0260.html">Chris Walton: "Re: php4 on alpha"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0237.html">Chris Walton: "Re: php4 on alpha"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Ron Farrer wrote:
<BR>
<EM>&gt; &gt; Has anyone got php4 working with Potato on the alpha archiecture?
</EM><BR>
<EM>&gt; &gt; For some reason, apache core dumps on my setup when the php4 module
</EM><BR>
<EM>&gt; &gt; is loaded.   However, php3 works perfectly.   Any suggestions would
</EM><BR>
<EM>&gt; &gt; be welcome?   (I've tried the original potato php4, and the recently
</EM><BR>
<EM>&gt; &gt; security-updated php4)
</EM><BR>
<EM>&gt; &gt; My setup:
</EM><BR>
<EM>&gt; &gt;   Alpha XLT300 (xlt/alcor architecture)
</EM><BR>
<EM>&gt; &gt;   Vanilla potato with security updates and final kernel 2.2.17
</EM><BR>
<EM>&gt; &gt;   (apache 1.3.9-13.1, php 4.0.3pl1-0potato1)
</EM><BR>
<EM>&gt; Can you send me your srm.conf and a php4 example file?
</EM><BR>
<P>The problem occurs immediately when Apache starts up, before any php files 
<BR>
are acually loaded.   It is totally repeatable - core dumps at the same 
<BR>
place every time.  A brief bit of detective work with gdb shows the 
<BR>
following:
<BR>
<P><EM>&gt; gdb -c core /usr/sbin/apache
</EM><BR>
...
<BR>
Program terminated with signal 11, Segmentation fault.
<BR>
...
<BR>
(gdb) where
<BR>
#0  0x20001b59620 in ps_gc_files () from /usr/lib/apache/1.3/libphp4.so
<BR>
#1  0x20001b59720 in php_gshutdown_ps_mm () from /usr/lib/apache/1.3/libphp4.so
<BR>
<P>I've had a look at the php source code, but the problem eludes me.
<BR>
The error appears to be occuring in one of the files in:
<BR>
&nbsp;&nbsp;php4-4.0.3pl1/ext/session/
<BR>
This appears related to the mm (shared memory) module?
<BR>
<P>Any suggestions welcome?
<BR>
<P>Chris
<BR>
<P><PRE>
-- 
==============================================================================
= Chris Walton - LFCS - mailto:cdw@dcs.ed.ac.uk <A HREF="http://www.dcs.ed.ac.uk/~cdw">http://www.dcs.ed.ac.uk/~cdw</A> =
==============================================================================
<P><P>-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0250.html">Wichert Akkerman: "sgml-tools for alpha/potato miscompiled?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0248.html">Christopher C. Chimelis: "Re: netscape 4.7-3"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0237.html">Ron Farrer: "Re: php4 on alpha"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0260.html">Chris Walton: "Re: php4 on alpha"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0237.html">Chris Walton: "Re: php4 on alpha"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Fri Dec 01 2000 - 08:00:12 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
