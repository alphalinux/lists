<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Samba 2.2.0 problem -- smbd won't start</TITLE>
<META NAME="Author" CONTENT="Donald R. Spoon (dspoon@satx.rr.com)">
<META NAME="Subject" CONTENT="Samba 2.2.0 problem -- smbd won't start">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Samba 2.2.0 problem -- smbd won't start</H1>
<HR>
<P>
<!-- received="Mon Jun 04 01:36:25 2001" -->
<!-- isoreceived="20010604083625" -->
<!-- sent="Sun, 03 Jun 2001 17:52:26 -0500" -->
<!-- isosent="20010603225226" -->
<!-- name="Donald R. Spoon" -->
<!-- email="dspoon@satx.rr.com" -->
<!-- subject="Samba 2.2.0 problem -- smbd won't start" -->
<!-- id="3B1ABFAA.55E816E9@satx.rr.com" -->
<STRONG>Subject: </STRONG>Samba 2.2.0 problem -- smbd won't start<BR>
<STRONG>From: </STRONG>Donald R. Spoon (<EM>dspoon@satx.rr.com</EM>)<BR>
<STRONG>Date: </STRONG>Sun Jun 03 2001 - 15:52:26 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#6">[ date ]</A>
<A HREF="index.html#6">[ thread ]</A>
<A HREF="subject.html#6">[ subject ]</A>
<A HREF="author.html#6">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0007.html">Josip Rodin: "Re: no alpha boot-floppies"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0005.html">David Whedon: "Re: no alpha boot-floppies"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I bit the bullet and upgraded my Alpha to SID last week.  Generally,
<BR>
everything works as expeced except Samba.  Apparently nmbd gets started
<BR>
OK, as it shows up on my running processes list and the other machines
<BR>
on my network can &quot;see&quot; the Alpha.  The smbd is another story.  I cannot
<BR>
&quot;login&quot; to any accounts on the machine and I don't see any running
<BR>
processes for smbd.
<BR>
<P>The only clues that I can find are in the /var/log/samba/log.smbd file. 
<BR>
Apparently something is trying to setgid of something else and is
<BR>
failing.  Samba panics and doesn't start smbd.  I am attaching an exerpt
<BR>
from that file to this message, along with some included notes of what
<BR>
little I have tried to remedy this &quot;problem&quot;.  The main attempt was to
<BR>
re-install Samba.  
<BR>
<P>Can any kind soul tell me what is going on and perhaps point me towards
<BR>
a fix?  I am NOT a coder, but I am willing to try.  Samba 2.0.7 was
<BR>
working fine on this machine before the upgrade.
<BR>
<P>Cheers &amp; TIA,
<BR>
-Don Spoon-
<BR>
<P><P>
[2001/05/29 04:43:32, 0] lib/util_sec.c:assert_gid(72)
<BR>
&nbsp;&nbsp;Failed to set gid privileges to (-1,1000) now set to (0,0) uid=(0,0)
<BR>
[2001/05/29 04:43:32, 0] lib/util.c:smb_panic(1139)
<BR>
&nbsp;&nbsp;PANIC: failed to set gid
<BR>
&nbsp;&nbsp;
<BR>
[2001/05/29 04:43:42, 0] lib/util_sec.c:assert_gid(72)
<BR>
&nbsp;&nbsp;Failed to set gid privileges to (-1,1000) now set to (0,0) uid=(0,0)
<BR>
[2001/05/29 04:43:42, 0] lib/util.c:smb_panic(1139)
<BR>
&nbsp;&nbsp;PANIC: failed to set gid
<BR>
<P><EM>&gt;---snip---&lt; removed MANY repeats of the above.
</EM><BR>
<P>[2001/06/03 15:10:49, 0] smbd/server.c:main(722)
<BR>
&nbsp;&nbsp;standard input is not a socket, assuming -D option
<BR>
[2001/06/03 15:10:49, 0] lib/util_sock.c:open_socket_in(858)
<BR>
&nbsp;&nbsp;bind failed on port 139 socket_addr=0.0.0.0 (Address already in use)
<BR>
[2001/06/03 16:10:08, 0] lib/util_sec.c:assert_gid(72)
<BR>
&nbsp;&nbsp;Failed to set gid privileges to (-1,1000) now set to (0,0) uid=(0,0)
<BR>
[2001/06/03 16:10:08, 0] lib/util.c:smb_panic(1139)
<BR>
&nbsp;&nbsp;PANIC: failed to set gid
<BR>
<P><EM>&gt;---snip---&lt;  Removed MANY repeating entries minus the &quot;bind&quot; reference
</EM><BR>
<EM>&gt;---info---&lt;  Reinstalled Samba on 2001/06/03.  Note gid number(s) changes.  
</EM><BR>
<P>[2001/06/03 16:26:38, 0] lib/util_sec.c:assert_gid(72)
<BR>
&nbsp;&nbsp;Failed to set gid privileges to (-1,65534) now set to (0,0) uid=(0,0)
<BR>
[2001/06/03 16:26:38, 0] lib/util.c:smb_panic(1139)
<BR>
&nbsp;&nbsp;PANIC: failed to set gid
<BR>
&nbsp;&nbsp;
<BR>
<P>
<P><P><PRE>
-- 
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0007.html">Josip Rodin: "Re: no alpha boot-floppies"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0005.html">David Whedon: "Re: no alpha boot-floppies"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Jul 05 2001 - 05:45:31 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
