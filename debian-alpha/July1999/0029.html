<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: Compiler bugs [ Was: (yet another) Infer</TITLE>
<META NAME="Author" CONTENT="Martin Kahlert (martin.kahlert@mchp.siemens.de)">
<META NAME="Subject" CONTENT="Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]</H1>
<HR>
<P>
<!-- received="Tue Jul 06 07:26:06 1999" -->
<!-- isoreceived="19990706142606" -->
<!-- sent="Tue, 6 Jul 1999 07:59:37 +0200" -->
<!-- isosent="19990706055937" -->
<!-- name="Martin Kahlert" -->
<!-- email="martin.kahlert@mchp.siemens.de" -->
<!-- subject="Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]" -->
<!-- id="19990706075937.A24796@keksy.mchp.siemens.de" -->
<!-- inreplyto="87aetbjio4.fsf@rut.informatik.uni-tuebingen.de" -->
<STRONG>Subject: </STRONG>Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]<BR>
<STRONG>From: </STRONG>Martin Kahlert (<EM>martin.kahlert@mchp.siemens.de</EM>)<BR>
<STRONG>Date: </STRONG>Mon Jul 05 1999 - 22:59:37 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#29">[ date ]</A>
<A HREF="index.html#29">[ thread ]</A>
<A HREF="subject.html#29">[ subject ]</A>
<A HREF="author.html#29">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0030.html">Christopher C Chimelis: "Re: (yet another) Infernal compiler error"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0028.html">Andrew D Lenharth: "libwine"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0027.html">Goswin Brederlow: "Compiler bugs [ Was: (yet another) Infernal compiler error ]"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0031.html">Goswin Brederlow: "Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0027.html">Martin Kahlert: "Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Quoting Goswin Brederlow (goswin.brederlow@student.uni-tuebingen.de):
<BR>
<EM>&gt; I have a programm that has several strange bugs, depending on options
</EM><BR>
<EM>&gt; and compiler versions used. I'm still trying to sepperate them and
</EM><BR>
<EM>&gt; make small test cases, but I think something is seriously wrong. The
</EM><BR>
<EM>&gt; code looks as follows (with a lot other stuff around).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; double a,b;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; a = angle();
</EM><BR>
<EM>&gt; if (abs(a - b) &gt; 1E-10) {
</EM><BR>
<EM>&gt; 	cout &lt;&lt; abs(a-b) &lt;&lt; endl;
</EM><BR>
<EM>&gt; }
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The output is something like
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 1.358376E-15
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; which isn't greater than 1E-10 by no means. A gets calculated just
</EM><BR>
<EM>&gt; before the if, so I would guess that some pipelining is wrong.
</EM><BR>
abs is a function, which only works for integers and returns an int.
<BR>
(man 3 abs). You want to use fabs:
<BR>
<P>#include &lt;iostream.h&gt;
<BR>
#include &lt;math.h&gt;
<BR>
<P>main()
<BR>
{
<BR>
&nbsp;double a,b;
<BR>
<P>&nbsp;&nbsp;a = 1e-3;
<BR>
&nbsp;&nbsp;if (fabs(a-b) &gt; 1e-10)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout &lt;&lt; fabs(a-b) &lt;&lt; endl;
<BR>
}
<BR>
<P>(Don't forget -lm at link time!)
<BR>
Bye,
<BR>
Martin.
<BR>
<P><PRE>
-- 
esa$ gcc -Wall -o ariane5 ariane5.c
ariane5.c: 666: warning: long float implicitly truncated to unsigned type
esa$ ariane5
<P><P>--  
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0030.html">Christopher C Chimelis: "Re: (yet another) Infernal compiler error"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0028.html">Andrew D Lenharth: "libwine"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0027.html">Goswin Brederlow: "Compiler bugs [ Was: (yet another) Infernal compiler error ]"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0031.html">Goswin Brederlow: "Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0027.html">Martin Kahlert: "Re: Compiler bugs [ Was: (yet another) Infernal compiler error ]"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sun Aug 01 1999 - 06:12:38 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
