<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: [potato] Floating point exception</TITLE>
<META NAME="Author" CONTENT="Eberhard Burr (Eberhard.Burr@gmx.de)">
<META NAME="Subject" CONTENT="Re: [potato] Floating point exception">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [potato] Floating point exception</H1>
<HR>
<P>
<!-- received="Wed Nov 24 14:34:29 1999" -->
<!-- isoreceived="19991124223429" -->
<!-- sent="23 Nov 1999 20:57:58 +0100" -->
<!-- isosent="19991123195758" -->
<!-- name="Eberhard Burr" -->
<!-- email="Eberhard.Burr@gmx.de" -->
<!-- subject="Re: [potato] Floating point exception" -->
<!-- id="87zow5t1yx.fsf@gmx.de" -->
<!-- inreplyto="Tue, 23 Nov 1999 11:44:26 -0500 (EST)&quot;" -->
<STRONG>Subject: </STRONG>Re: [potato] Floating point exception<BR>
<STRONG>From: </STRONG>Eberhard Burr (<EM>Eberhard.Burr@gmx.de</EM>)<BR>
<STRONG>Date: </STRONG>Tue Nov 23 1999 - 11:57:58 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#127">[ date ]</A>
<A HREF="index.html#127">[ thread ]</A>
<A HREF="subject.html#127">[ subject ]</A>
<A HREF="author.html#127">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0128.html">Christopher C Chimelis: "Re: [potato] Floating point exception"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0126.html">Greg Johnson: "Re: Headless install on LX164"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0128.html">Christopher C Chimelis: "Re: [potato] Floating point exception"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0102.html">Eberhard Burr: "Re: [potato] Floating point exception"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Christopher C Chimelis &lt;chris@debian.org&gt; writes:
<BR>
<P><EM>&gt; I agree, yet disagree.  While -mieee would definitely help alot of
</EM><BR>
<EM>&gt; packages, it is much more than just a minor slowdown in many cases.  I've
</EM><BR>
<EM>&gt; had software take an unusually longer amount of time due to -mieee.  Plus,
</EM><BR>
<EM>&gt; to add that much overhead to the execution of every programme is just not
</EM><BR>
<EM>&gt; needed in 95% of the cases.
</EM><BR>
<P>I do not share your assumptions on how many programs are affected and
<BR>
on how much slowdown -mieee brings: judging from the documentation of
<BR>
cpml and from my own experience with my own floating-point-intensive
<BR>
program, the slowdown is really not all that much. Alpha is to my
<BR>
knowledge the only widespread architecture that does not do IEEE in
<BR>
hardware and therefore most programmers are not aware of the
<BR>
implications. If you define &quot;not needed&quot; as &quot;under normal
<BR>
circumstances this program doesn't emit FP-exceptions&quot; then maybe your
<BR>
95% estimate holds, but I'd prefer to only compile programs without
<BR>
-mieee iff the program has it's own exception handler or other
<BR>
security measures that do _not_ rely on finite() and friends or the
<BR>
MAXFLOAT #defines from &lt;math.h&gt;. Those programs are rather rare.
<BR>
<P><P><EM>&gt; As for compiling for the submodel, I'm assuming you mean for the machine
</EM><BR>
<EM>&gt; type.  I wish we could (I have a 21164PC and would love to use that BMX
</EM><BR>
<EM>&gt; instruction for once), but we can't due to the large amount of 21066's and
</EM><BR>
<EM>&gt; 21164's out there.  As I found out accidentally with glibc (I miscompiled
</EM><BR>
<EM>&gt; it with alphapca56 as a target), things just won't run on other Alphas
</EM><BR>
<EM>&gt; with differing processors if compiled as such.  I assumed that the kernels
</EM><BR>
<EM>&gt; were providing some of the instruction set functionality for processors
</EM><BR>
<EM>&gt; without them (albeit slower), but it does not.
</EM><BR>
<P>So what you say is that all packages should be compiled for 21066s so
<BR>
they run on any machine. Then using -mieee is a logical conclusion
<BR>
imho, because the merit is to have _working_ binaries. If a program
<BR>
turns out to be particularly slow, one has to recompile anyway.
<BR>
<P>Anyhow, it is clear to me, that Alphas are not necessarily lightning fast.
<BR>
My SX164 did a damn good job chewing on my program but in day-to-day
<BR>
usage, it's sometimes disappointing. (particularly in XEmacs; my
<BR>
AMD-K6-200 performs better there) I think this point should be made
<BR>
clear to alpha-newcomers, that these processors have their weak sides
<BR>
too, and that the reputation they have comes from their strength in
<BR>
cleanly programmed floating-point calculations. 
<BR>
<P>kind Regards,
<BR>
<PRE>
-- 
Eberhard Burr      PGP key ID: DAF93D11    fingerprint: 1D 0B F9 53 E1 CA 21 1A
                                                        91 55 DB C8 1F 4C 0C B6
Remember: While root can do most everything, there are certain
privileges that only a partner can grant.
	-- Telsa Gwynne
<P><P>--  
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0128.html">Christopher C Chimelis: "Re: [potato] Floating point exception"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0126.html">Greg Johnson: "Re: Headless install on LX164"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0128.html">Christopher C Chimelis: "Re: [potato] Floating point exception"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0102.html">Eberhard Burr: "Re: [potato] Floating point exception"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Dec 01 1999 - 06:08:09 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
