<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: [potato] Floating point exception</TITLE>
<META NAME="Author" CONTENT="Christopher C Chimelis (chris@debian.org)">
<META NAME="Subject" CONTENT="Re: [potato] Floating point exception">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [potato] Floating point exception</H1>
<HR>
<P>
<!-- received="Wed Nov 24 16:54:22 1999" -->
<!-- isoreceived="19991125005422" -->
<!-- sent="Wed, 24 Nov 1999 09:32:01 -0500 (EST)" -->
<!-- isosent="19991124143201" -->
<!-- name="Christopher C Chimelis" -->
<!-- email="chris@debian.org" -->
<!-- subject="Re: [potato] Floating point exception" -->
<!-- id="Pine.LNX.3.96.991124091034.32146A-100000@charity.besmarter.com" -->
<!-- inreplyto="87zow5t1yx.fsf@gmx.de" -->
<STRONG>Subject: </STRONG>Re: [potato] Floating point exception<BR>
<STRONG>From: </STRONG>Christopher C Chimelis (<EM>chris@debian.org</EM>)<BR>
<STRONG>Date: </STRONG>Wed Nov 24 1999 - 06:32:01 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#128">[ date ]</A>
<A HREF="index.html#128">[ thread ]</A>
<A HREF="subject.html#128">[ subject ]</A>
<A HREF="author.html#128">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0129.html">Vincent Renardias: "[non-i386 people needed] Proposed packages for 2.1r4"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0127.html">Eberhard Burr: "Re: [potato] Floating point exception"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0127.html">Eberhard Burr: "Re: [potato] Floating point exception"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0139.html">Goswin Brederlow: "Re: [potato] Floating point exception"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0127.html">Christopher C Chimelis: "Re: [potato] Floating point exception"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On 23 Nov 1999, Eberhard Burr wrote:
<BR>
<P><EM>&gt; I do not share your assumptions on how many programs are affected and
</EM><BR>
<EM>&gt; on how much slowdown -mieee brings: judging from the documentation of
</EM><BR>
<EM>&gt; cpml and from my own experience with my own floating-point-intensive
</EM><BR>
<EM>&gt; program, the slowdown is really not all that much. Alpha is to my
</EM><BR>
<EM>&gt; knowledge the only widespread architecture that does not do IEEE in
</EM><BR>
<EM>&gt; hardware and therefore most programmers are not aware of the
</EM><BR>
<EM>&gt; implications. If you define &quot;not needed&quot; as &quot;under normal
</EM><BR>
<EM>&gt; circumstances this program doesn't emit FP-exceptions&quot; then maybe your
</EM><BR>
<EM>&gt; 95% estimate holds, but I'd prefer to only compile programs without
</EM><BR>
<EM>&gt; -mieee iff the program has it's own exception handler or other
</EM><BR>
<EM>&gt; security measures that do _not_ rely on finite() and friends or the
</EM><BR>
<EM>&gt; MAXFLOAT #defines from &lt;math.h&gt;. Those programs are rather rare.
</EM><BR>
<P>Hmmm...point taken.  I guess I come from a unique place, though, in that
<BR>
ALOT of the packages that I compile for the distribution don't involve FP
<BR>
at all (or very very little since I spent most of my time on the net
<BR>
section).  I think if I felt that the glibc/gcc combo showed performance a
<BR>
little closer to that of the DU libs and compiler (which handles
<BR>
scheduling a lot better than gcc does ATM), I would feel a bit better
<BR>
about -mieee.  In the end, though, I have no very strong objection to
<BR>
compiling everything with -mieee.  In fact, the gcc maintainers (which
<BR>
includes me representing alpha) are thinking of lobbying for -mieee
<BR>
becoming the default for the compiler on alpha.
<BR>
<P><EM>&gt; So what you say is that all packages should be compiled for 21066s so
</EM><BR>
<EM>&gt; they run on any machine. Then using -mieee is a logical conclusion
</EM><BR>
<EM>&gt; imho, because the merit is to have _working_ binaries. If a program
</EM><BR>
<EM>&gt; turns out to be particularly slow, one has to recompile anyway.
</EM><BR>
<P>I'm starting to think that there may be issues with 21066's and -mieee
<BR>
under glibc 2.1.2, though.  I have two packages that work fine on my SX,
<BR>
but throw FPEs when run on EV4 systems.  I'm still waiting for a report
<BR>
from someone with a 21264 and 21164a, but I'm suspecting a targeting
<BR>
problem with glibc (it DOES have code for IEEE math for both, but it also
<BR>
has a subsection for EV5's and above, which might actually be compiled
<BR>
despite the more generic target given to the configure script.  Aside from
<BR>
that, I know gcc has issues as well with complex support (which is the
<BR>
reason I still haven't been able to get glibc 2.1.2-10 compiled yet), so
<BR>
putting my faith into either right now is an &quot;iffy&quot; proposition.
<BR>
<P><EM>&gt; Anyhow, it is clear to me, that Alphas are not necessarily lightning fast.
</EM><BR>
<EM>&gt; My SX164 did a damn good job chewing on my program but in day-to-day
</EM><BR>
<EM>&gt; usage, it's sometimes disappointing. (particularly in XEmacs; my
</EM><BR>
<EM>&gt; AMD-K6-200 performs better there) I think this point should be made
</EM><BR>
<EM>&gt; clear to alpha-newcomers, that these processors have their weak sides
</EM><BR>
<EM>&gt; too, and that the reputation they have comes from their strength in
</EM><BR>
<EM>&gt; cleanly programmed floating-point calculations. 
</EM><BR>
<P>Hmmm...I disagree.  At the current stage of Alpha development with gcc
<BR>
(and partially glibc), I just can't honestly say that Alphas running Linux
<BR>
take full advantage of the speed of the processors.  I've found that DU
<BR>
running most of the same software performs better (often by a factor of 2
<BR>
or more).  I'm not saying the Alpha doesn't have a weak side (it does),
<BR>
but I don't think it's a fair comparison at this point.
<BR>
<P>C
<BR>
<P><P>--  
<BR>
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0129.html">Vincent Renardias: "[non-i386 people needed] Proposed packages for 2.1r4"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0127.html">Eberhard Burr: "Re: [potato] Floating point exception"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0127.html">Eberhard Burr: "Re: [potato] Floating point exception"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0139.html">Goswin Brederlow: "Re: [potato] Floating point exception"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0127.html">Christopher C Chimelis: "Re: [potato] Floating point exception"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Dec 01 1999 - 06:08:09 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
