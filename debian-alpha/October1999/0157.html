<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Summary : Mounting and writing a UFS filesys</TITLE>
<META NAME="Author" CONTENT="Robert Riviere (Robert.Riviere@sophia.inria.fr)">
<META NAME="Subject" CONTENT="Summary : Mounting and writing a UFS filesystem">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Summary : Mounting and writing a UFS filesystem</H1>
<HR>
<P>
<!-- received="Fri Oct 22 17:29:49 1999" -->
<!-- isoreceived="19991023002949" -->
<!-- sent="Fri, 22 Oct 1999 17:02:30 +0200" -->
<!-- isosent="19991022150230" -->
<!-- name="Robert Riviere" -->
<!-- email="Robert.Riviere@sophia.inria.fr" -->
<!-- subject="Summary : Mounting and writing a UFS filesystem" -->
<!-- id="199910221502.RAA06216@cervin.inria.fr" -->
<STRONG>Subject: </STRONG>Summary : Mounting and writing a UFS filesystem<BR>
<STRONG>From: </STRONG>Robert Riviere (<EM>Robert.Riviere@sophia.inria.fr</EM>)<BR>
<STRONG>Date: </STRONG>Fri Oct 22 1999 - 08:02:30 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#157">[ date ]</A>
<A HREF="index.html#157">[ thread ]</A>
<A HREF="subject.html#157">[ subject ]</A>
<A HREF="author.html#157">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0158.html">Ron Farrer: "NS 4.7 (Tru64) not working"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0156.html">William Brioschi: "Re: SNMP"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hello,
<BR>
<P>Here's a summary of how I've been able to write on a Dec UFS 
<BR>
partition. I guess it could help anybody here...
<BR>
<P>First you need an ufs.o module with write enabled. Be careful,
<BR>
ufs-writing is considered as an experimental feature, so by default
<BR>
when compiling the module, it is NOT ENABLED.
<BR>
The option name is : CONFIG_UFS_FS_WRITE.
<BR>
<P>After having insmod'ed the module, you may now mount a dec ufs
<BR>
filesystem with the standard  command : 
<BR>
<P>mount -o ufstype=sun /dev/sdaX /mnt
<BR>
<P>Again, be careful, auto-detected ufs type seems to be wrong : it'll panic the
<BR>
kernel when you'll try to write (at least in my case).
<BR>
You need to specify it is 'sun' ufstype.
<BR>
<P>Now don't believe what mount command says : it shows you the partition rw
<BR>
but it is not. You can verify this by giving a look to /proc/mounts 
<BR>
file, which is right.
<BR>
<P>So you'll have to remount the partition :
<BR>
mount -o remount /mnt
<BR>
<P>And now it'll be really read/write...
<BR>
<P>Thanks to M. J. Peddlesden &lt;matthew@atomic-systems.com&gt; for providing several
<BR>
releases of ufs.o, and to <A HREF="http://lxr.linux.no">http://lxr.linux.no</A> ...
<BR>
<P><PRE>
-- 
Robert Riviere (Robert.Riviere@sophia.inria.fr)	    Tel: .4-92-38-7906
CERMICS	/ INRIA					    Fax: .4-92-38-7740
BP 93                              06902	Sophia Antipolis Cedex
C'est quoi Perl ? - Perl, c'est : idoine.
<P><P>--  
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0158.html">Ron Farrer: "NS 4.7 (Tru64) not working"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0156.html">William Brioschi: "Re: SNMP"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:58 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
