<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: bsddisklabel and BLKRRPART</TITLE>
<META NAME="Author" CONTENT="Andrea Arcangeli (andrea@suse.de)">
<META NAME="Subject" CONTENT="Re: bsddisklabel and BLKRRPART">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: bsddisklabel and BLKRRPART</H1>
<HR>
<P>
<!-- received="Wed Oct 13 04:10:47 1999" -->
<!-- isoreceived="19991013111047" -->
<!-- sent="Wed, 13 Oct 1999 03:33:53 +0200 (CEST)" -->
<!-- isosent="19991013013353" -->
<!-- name="Andrea Arcangeli" -->
<!-- email="andrea@suse.de" -->
<!-- subject="Re: bsddisklabel and BLKRRPART" -->
<!-- id="Pine.LNX.4.10.9910130325530.9118-100000@alpha.random" -->
<!-- inreplyto="UTC199910130051.CAA22031.aeb@eland.cwi.nl" -->
<STRONG>Subject: </STRONG>Re: bsddisklabel and BLKRRPART<BR>
<STRONG>From: </STRONG>Andrea Arcangeli (<EM>andrea@suse.de</EM>)<BR>
<STRONG>Date: </STRONG>Tue Oct 12 1999 - 18:33:53 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#76">[ date ]</A>
<A HREF="index.html#76">[ thread ]</A>
<A HREF="subject.html#76">[ subject ]</A>
<A HREF="author.html#76">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0077.html">Jean-Paul Blaquiere: "Re: apt whoops!"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0075.html">Andries.Brouwer@cwi.nl: "Re: bsddisklabel and BLKRRPART"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0075.html">Andries.Brouwer@cwi.nl: "Re: bsddisklabel and BLKRRPART"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0070.html">Martin Lucina: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0075.html">Andrea Arcangeli: "Re: bsddisklabel and BLKRRPART"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Wed, 13 Oct 1999 Andries.Brouwer@cwi.nl wrote:
<BR>
<P><EM>&gt;(In fact I fixed things slightly differently and released
</EM><BR>
<EM>&gt;util-linux-2.9z some hours ago. Since it seems you actually
</EM><BR>
<P>I seen your email in the same dialup connection I sent my one... (== too
<BR>
late).
<BR>
<P><EM>&gt;use bsd disklabels, perhaps you can verify that I did nothing
</EM><BR>
<EM>&gt;wrong.
</EM><BR>
<P>Could you show me your diff? (otherwise I'll have to download two
<BR>
different ulti-linux and diff myself).
<BR>
<P><EM>&gt;[concerning your fix: (i) &lt;sys/mount.h&gt; does not exist on all
</EM><BR>
<P>Yes. I know well I could use &lt;linux/fs.h&gt; but using glibc headers looked
<BR>
more robust to me (I guess you used linux/fs.h as fdisk.c is just doing).
<BR>
I don't like to depend on the kernel sources (at least when possible).
<BR>
<P>At first in my patch I used linux/fs.h. Then I thought to grep in
<BR>
include/sys/*.h and I found the same define there and so I used it. I am
<BR>
not an expert glibc user but if there is a define in sys/*.h I prefere it
<BR>
against the kernel header as it will stay stable across kernel changes.
<BR>
<P><EM>&gt;systems, (ii) it also does a BLKRRPART when a new bootstrap
</EM><BR>
<EM>&gt;is written, but it seems to me that in that case the disklabel
</EM><BR>
<EM>&gt;stays the same and no BLKRRPART is required.])
</EM><BR>
<P>As I don't know what means adding a bootstrap to a bsdlabel so I can't
<BR>
answer. ;)
<BR>
<P>I guess the bootstrap is adding some data not relevant to the partition
<BR>
layout. In such case telling the kernel to reread the partition table
<BR>
shouldn't matter and so it's not necessary.
<BR>
<P>Andrea
<BR>
<P><P>--  
<BR>
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0077.html">Jean-Paul Blaquiere: "Re: apt whoops!"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0075.html">Andries.Brouwer@cwi.nl: "Re: bsddisklabel and BLKRRPART"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0075.html">Andries.Brouwer@cwi.nl: "Re: bsddisklabel and BLKRRPART"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0070.html">Martin Lucina: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0075.html">Andrea Arcangeli: "Re: bsddisklabel and BLKRRPART"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:58 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
