<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Debian Alpha List: Re: 2.2.x corruption solved (Was Re: Statica</TITLE>
<META NAME="Author" CONTENT="Martin Lucina (mato@nz.eds.com)">
<META NAME="Subject" CONTENT="Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')</H1>
<HR>
<P>
<!-- received="Tue Oct 12 21:21:13 1999" -->
<!-- isoreceived="19991013042113" -->
<!-- sent="Wed, 13 Oct 1999 09:44:40 +1300" -->
<!-- isosent="19991012204440" -->
<!-- name="Martin Lucina" -->
<!-- email="mato@nz.eds.com" -->
<!-- subject="Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')" -->
<!-- id="19991013094439.F283@strangepork.lab.nz.eds.com" -->
<!-- inreplyto="Pine.LNX.4.10.9910121505530.646-100000@alpha.random" -->
<STRONG>Subject: </STRONG>Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')<BR>
<STRONG>From: </STRONG>Martin Lucina (<EM>mato@nz.eds.com</EM>)<BR>
<STRONG>Date: </STRONG>Tue Oct 12 1999 - 13:44:40 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#67">[ date ]</A>
<A HREF="index.html#67">[ thread ]</A>
<A HREF="subject.html#67">[ subject ]</A>
<A HREF="author.html#67">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0068.html">Andrea Arcangeli: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0066.html">simonst@WellsFargo.COM: "Debian 2.1 Alpha installation skipping steps"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0060.html">Andrea Arcangeli: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0068.html">Andrea Arcangeli: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0060.html">Martin Lucina: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Tue, Oct 12, 1999 at 03:21:52PM +0200, Andrea Arcangeli wrote:
<BR>
<P><EM>&gt; After some time the kernel crashed and I destroyed all partitions of my
</EM><BR>
<EM>&gt; hard disk. _all_. Note that the partition table was still fine. Only the
</EM><BR>
<EM>&gt; contents of the partitons (superblocks mainly) was completly screwed up.
</EM><BR>
<P>Same story in my case.
<BR>
<P><EM>&gt; So this is a warning for people having partition c stopping before one of
</EM><BR>
<EM>&gt; your partition. fdisk is right about partition c. Trust its end and not
</EM><BR>
<EM>&gt; what fdisk suggests as end of other partitions.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I think the fix is simply a -1 in some line of fdisk... Looks like a
</EM><BR>
<EM>&gt; silly/typo bug. I cc'ed to the author of the bsdlabel in our fdisk. If he
</EM><BR>
<EM>&gt; can't fix that I can do that myself.
</EM><BR>
<P>Agreed. It's not by far the only bug though. There are at least another two I
<BR>
recall. First, have you tried editing any disklabels with fdisk? Generally
<BR>
after deleting say the 'b' and 'e' partitions from a disklabel with 'a' to 'f'
<BR>
and then trying to add them back in will completely screw fdisks calculations
<BR>
and it will become impossible to write out a correct disklabel. I had to redo
<BR>
the disklabel from the beginning a couple of times before I worked this out.
<BR>
<P>Second, it is a well known problem that either fdisk or the kernel (I think
<BR>
it's just a missed out call to ioctl() in fdisk) will not re-scan the
<BR>
disklabel after writing it, thus people have to reboot before it is
<BR>
recognised.
<BR>
<P>Martin
<BR>
<P><P>--  
<BR>
To UNSUBSCRIBE, email to debian-alpha-request@lists.debian.org
<BR>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0068.html">Andrea Arcangeli: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0066.html">simonst@WellsFargo.COM: "Debian 2.1 Alpha installation skipping steps"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0060.html">Andrea Arcangeli: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0068.html">Andrea Arcangeli: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0060.html">Martin Lucina: "Re: 2.2.x corruption solved (Was Re: Statically linked 'tar')"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:58 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
