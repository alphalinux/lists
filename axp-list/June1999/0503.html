<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Weird Graphics Error</TITLE>
<META NAME="Author" CONTENT="Dan Morrill (morrildl@nycap.rr.com)">
<META NAME="Subject" CONTENT="Weird Graphics Error">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Weird Graphics Error</H1>
<HR>
<P>
<!-- received="Thu Jun 24 06:59:21 1999" -->
<!-- isoreceived="19990624135921" -->
<!-- sent="Wed, 23 Jun 1999 23:43:58 -0400 (EDT)" -->
<!-- isosent="19990624034358" -->
<!-- name="Dan Morrill" -->
<!-- email="morrildl@nycap.rr.com" -->
<!-- subject="Weird Graphics Error" -->
<!-- id="Pine.LNX.4.10.9906232328120.6670-100000@toshiba-179-143.nycap.rr.com" -->
<STRONG>Subject: </STRONG>Weird Graphics Error<BR>
<STRONG>From: </STRONG>Dan Morrill (<EM>morrildl@nycap.rr.com</EM>)<BR>
<STRONG>Date: </STRONG>Wed Jun 23 1999 - 20:43:58 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#503">[ date ]</A>
<A HREF="index.html#503">[ thread ]</A>
<A HREF="subject.html#503">[ subject ]</A>
<A HREF="author.html#503">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0504.html">Michal Jaegermann: "Re: Weird Graphics Error"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0502.html">John Goerzen: "Re: xchat on alphaLinux"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0504.html">Michal Jaegermann: "Re: Weird Graphics Error"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I was playing with kpilot (the Palm Pilot sync tool for KDE), which uses
<BR>
/dev/ttyS0.  When I exited the watchdog daemon (which monitors ttyS0 looking
<BR>
for a Palm to talk to), it hung X (which is a bug in and of itself, but not
<BR>
why I'm writing.)
<BR>
<P>I telnetted in to the machine (called &quot;obsequious&quot;) from a Windows box (called
<BR>
&quot;ubiquitous&quot;) and did a `kill -TERM` on xdm and X, so that I could restart
<BR>
X.  This, however, did not cause obsequious to return to the console:  the
<BR>
screen still displayed the last image of the hung X server.
<BR>
<P>I tried restarting xdm anyway (from the telnet session), and it works:  it
<BR>
starts up, I can log in, and work normally.  If I do a CTL-ALT-F1 to get back
<BR>
to the text console, though, the display does *not* drop back into text
<BR>
mode, and X appears to hang again.
<BR>
<P>However, via experimentation I discovered that the C-A-F1 operation *does*
<BR>
drop me to the console -- I just can't see it.  If I hit ALT-F7, I get control
<BR>
of my X desktop again.
<BR>
<P>With further trial, I discovered that even if I log out and kill X and xdm
<BR>
again, the console is still reading keyboard input, just not displaying it.
<BR>
i.e. if I log out of X and kill xdm from the other machine, I see the
<BR>
&quot;hung&quot; X desktop on display.  If I type blind and log in as root and then run
<BR>
`xdm`, X starts right up, and I can log in!
<BR>
<P>In other words, the very first X crash apparently confused mingetty so that
<BR>
it doesn't ever return to text mode.  It's still monitoring the keyboard,
<BR>
which is why I can log in blind and restart xdm, but switching to a virtual
<BR>
console from X simply doesn't return you to text mode.
<BR>
<P><P>Anyway, the above is intriguing and was amusing for a few minutes, but now I'd
<BR>
like to recover.  I'm pretty sure that if I can kill X/xdm, get to one of the
<BR>
consoles, and type blind, that I should be able to tell the console to return
<BR>
to text mode, and my problems would be solved.
<BR>
<P>The only command that I can spot to do this, though, is /usr/sbin/vidmode,
<BR>
which rpm claims is part of util-linux.  However, it's a broken symlink to
<BR>
rdev, which doesn't exist anywhere on my box.
<BR>
<P><P>And now, to the point:  :)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* did someone at Red Hat forget to include rdev with the distro (6.0)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or did I neglect to install the RPM that has it?
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* is there some other command I can use to tell the console (not
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running X) to return to text mode?
<BR>
<P>Yes, I know I can solve this with a reboot, but I really want to avoid
<BR>
rebooting this machine unless I have to.
<BR>
<P>533MHz SX164
<BR>
Red Hat 6.0
<BR>
XFree86
<BR>
Matrox Millenium II, 8MB
<BR>
<P><P>Thanks for any info!
<BR>
<P><P>Dan Morrill
<BR>
Computer Scientist, Physicist
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0504.html">Michal Jaegermann: "Re: Weird Graphics Error"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0502.html">John Goerzen: "Re: xchat on alphaLinux"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0504.html">Michal Jaegermann: "Re: Weird Graphics Error"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Jun 30 1999 - 19:27:27 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
