<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: [Q]: weird spinlock messages &amp; kernel selection</TITLE>
<META NAME="Author" CONTENT="Alexander L. Belikoff (abel@bfr.co.il )">
<META NAME="Subject" CONTENT="[Q]: weird spinlock messages &amp; kernel selection">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>[Q]: weird spinlock messages &amp; kernel selection</H1>
<HR>
<P>
<!-- received="Thu Jun 24 21:32:36 1999" -->
<!-- isoreceived="19990625043236" -->
<!-- sent="24 Jun 1999 22:19:00 +0300" -->
<!-- isosent="19990624191900" -->
<!-- name="Alexander L. Belikoff" -->
<!-- email="abel@bfr.co.il " -->
<!-- subject="[Q]: weird spinlock messages &amp; kernel selection" -->
<!-- id="m3so7hmmor.fsf@vermis.bfr.co.il" -->
<STRONG>Subject: </STRONG>[Q]: weird spinlock messages & kernel selection<BR>
<STRONG>From: </STRONG>Alexander L. Belikoff (<EM>abel@bfr.co.il </EM>)<BR>
<STRONG>Date: </STRONG>Thu Jun 24 1999 - 12:19:00 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#519">[ date ]</A>
<A HREF="index.html#519">[ thread ]</A>
<A HREF="subject.html#519">[ subject ]</A>
<A HREF="author.html#519">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0520.html">Craig P Prescott: "Re: Scsi controllers"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0518.html">Jeff Bolle: "Scsi controllers"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0526.html">Larry Sendlosky: "Re: [Q]: weird spinlock messages &amp; kernel selection"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hello everybody,
<BR>
<P>I'm about to deploy a number of dual-cpu dp264's to do some production
<BR>
work. The systems came from the vendor loaded with RedHat 5.2 with
<BR>
some tweaks:
<BR>
<P>- packages from &quot;kernel-2.2&quot; collection upgraded
<BR>
- glibc 2.1.1-7 installed
<BR>
- kernel 2.2.7 SMP (I'm not sure there were no patches applied and I'm
<BR>
&nbsp;&nbsp;to figure it out yet)
<BR>
<P>Currently, I see quite a number of messages in the syslog like:
<BR>
<P>flush_tlb_page: called on 1 from fffffc000033b358 but lock freed on 1
<BR>
<P>(fffffc000033b358 is inside the do_wp_page() routine)
<BR>
<P>and
<BR>
<P>spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
<BR>
<EM>b&gt;spinlock grabbed at fffffc00003_2a6cc(0) 0 ticks&lt;4&gt;spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
</EM><BR>
&nbsp;spinlock grabbed3 at ff&lt;4&gt;spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
<BR>
<EM>o&gt;spinlock grabbed at ffffbfc000032a&lt;3&gt;swap_duplicate at fffffc00003489e8: entry 3de0000000000, unused page
</EM><BR>
spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
<BR>
spinlock grabbed a0t fffffc000032a6cc(0) 0 ticks&lt;&lt;4&gt;spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
<BR>
spinlock grabbed at offfffc000032a6cc(0&lt;4&gt;spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
<BR>
spinlock grabbed at 0fffffc000&lt;4&gt;spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
<BR>
spinlock grabbned at mfffffc&lt;4&gt;spinlock stuck at fffffc000032a6cc(0) owner swapper at fffffc000032a6cc
<BR>
<P><P>The latter address (fffffc000032a6cc) is inside the schedule() routine.
<BR>
<P>The questions are:
<BR>
<P>- how bad are these messages? If they are not critical, do they
<BR>
&nbsp;&nbsp;indicate some performance loss? What can I do about them?
<BR>
<P>- what kernel would you suggest for a dual dp264? What set of patches?
<BR>
&nbsp;&nbsp;This is going to be a production machine and it will have a really
<BR>
&nbsp;&nbsp;high load on all components: CPUs, network, and the disk, so I'm
<BR>
&nbsp;&nbsp;looking for something that not only &quot;kinda works,&quot; but is really
<BR>
&nbsp;&nbsp;able to handle a high load without being rebooted on a monthly basis
<BR>
&nbsp;&nbsp;(shudder, recalling our lx164's running 2.0.35)
<BR>
<P>As a byproduct, I promise to document my experience to save those poor
<BR>
souls that will try to do the same in the future...
<BR>
<P><P><PRE>
-- 
Alexander L. Belikoff
Bloomberg L.P.
abel@vallinor4.com, abel@bloomberg.net
<P>-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0520.html">Craig P Prescott: "Re: Scsi controllers"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0518.html">Jeff Bolle: "Scsi controllers"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0526.html">Larry Sendlosky: "Re: [Q]: weird spinlock messages &amp; kernel selection"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Jun 30 1999 - 19:27:27 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
