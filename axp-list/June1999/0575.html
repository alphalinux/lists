<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: framebuffer and ggi</TITLE>
<META NAME="Author" CONTENT="Quant-X Alpha Linux Support (stefan@sime.com)">
<META NAME="Subject" CONTENT="Re: framebuffer and ggi">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: framebuffer and ggi</H1>
<HR>
<P>
<!-- received="Sat Jun 26 12:37:39 1999" -->
<!-- isoreceived="19990626193739" -->
<!-- sent="Sat, 26 Jun 1999 13:28:57 +0200" -->
<!-- isosent="19990626112857" -->
<!-- name="Quant-X Alpha Linux Support" -->
<!-- email="stefan@sime.com" -->
<!-- subject="Re: framebuffer and ggi" -->
<!-- id="19990626132857.A17436@stefan.atko.at" -->
<!-- inreplyto="000501beb7d1$05d2c6e0$cc000001@PC_VIGNAUD.xandmail.com" -->
<STRONG>Subject: </STRONG>Re: framebuffer and ggi<BR>
<STRONG>From: </STRONG>Quant-X Alpha Linux Support (<EM>stefan@sime.com</EM>)<BR>
<STRONG>Date: </STRONG>Sat Jun 26 1999 - 04:28:57 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#575">[ date ]</A>
<A HREF="index.html#575">[ thread ]</A>
<A HREF="subject.html#575">[ subject ]</A>
<A HREF="author.html#575">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0576.html">Jeff Garzik: "Re: framebuffer and ggi"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0574.html">Uncle George: "Re: [off-topic] stop bashing!"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0325.html">Vignaud Jean-Baptiste: "framebuffer and ggi"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0576.html">Jeff Garzik: "Re: framebuffer and ggi"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0325.html">Quant-X Alpha Linux Support: "Re: framebuffer and ggi"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi !
<BR>
<P>On Wed, Jun 16, 1999 at 10:19:58AM +0200, Vignaud Jean-Baptiste wrote:
<BR>
<P><EM>&gt; I managed to boot with matroxfb but lauching the X server freeze my box.
</EM><BR>
<P>I've seen some unexpected crashes when using framebuffer on LX.
<BR>
I'm not talking about XF86_FBDev just about booting with matroxfb
<BR>
in Textmode and switching to gfx-mode after booting on an LX, no
<BR>
X at all.
<BR>
<P>It's also very uncool that DGA does not work on Alpha in general.
<BR>
Maybe someone will fix it in a clean way (does Jensen still requires
<BR>
fixed mappings ?), I can use nagratv on LX using this hack:
<BR>
<P>--- xc/lib/Xxf86dga/XF86DGA.c~  Fri Jun 25 13:25:45 1999
<BR>
+++ xc/lib/Xxf86dga/XF86DGA.c   Fri Jun 25 13:27:00 1999
<BR>
@@ -14,6 +14,8 @@
<BR>
&nbsp;#include &lt;os2.h&gt;
<BR>
&nbsp;#endif
<BR>
+#define CIA_DENSE_MEM           (0xfffffc8600000000UL)
<BR>
+
<BR>
&nbsp;#define NEED_EVENTS
<BR>
&nbsp;#define NEED_REPLIES
<BR>
&nbsp;#include &quot;Xlibint.h&quot;
<BR>
@@ -659,7 +661,7 @@
<BR>
&nbsp;#endif
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;/* This requires linux-0.99.pl10 or above */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;*addr = (void *)mmap(NULL, *bank, PROT_READ,
<BR>
-                        MAP_FILE | MAP_SHARED, fd, (off_t)offset);
<BR>
+                        MAP_FILE | MAP_SHARED, fd, (off_t)offset+CIA_DENSE_MEM);
<BR>
&nbsp;#ifdef DEBUG
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr, &quot;XF86DGAGetVideo: physaddr: 0x%08x, size: %d\n&quot;,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(long)offset, *bank);
<BR>
<P><PRE>
-- 
  ciao -
    Stefan Traby
    Quant-X Alpha Linux Support
<P>   Quant-X Service &amp;                         Ph:  (+43) 4212 90555-0
   Consulting Ges.m.b.H.                     Fax: (+43) 4212 90555-555
   <A HREF="http://www.quant-x.com">http://www.quant-x.com</A>                    Email: support@quant-x.com
<P>-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0576.html">Jeff Garzik: "Re: framebuffer and ggi"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0574.html">Uncle George: "Re: [off-topic] stop bashing!"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0325.html">Vignaud Jean-Baptiste: "framebuffer and ggi"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0576.html">Jeff Garzik: "Re: framebuffer and ggi"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0325.html">Quant-X Alpha Linux Support: "Re: framebuffer and ggi"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Wed Jun 30 1999 - 19:27:27 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
