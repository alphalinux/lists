<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Strange stack size problem</H1> 
	
<!-- received="Fri Apr 28 21:37:31 2000" -->
<!-- isoreceived="20000429043731" -->
<!-- sent="Fri, 28 Apr 2000 13:27:18 -0600" -->
<!-- isosent="20000428192718" -->
<!-- name="ryan" -->
<!-- email="ryan@altatech.com" -->
<!-- subject="Strange stack size problem" -->
<!-- id="3909E616.D2FE7664@altatech.com" -->
<STRONG>Subject: </STRONG>Strange stack size problem<BR>
<STRONG>From: </STRONG>ryan (<EM>ryan@altatech.com</EM>)<BR>
<STRONG>Date: </STRONG>Fri Apr 28 12:27:18 2000
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#433">[ date ]</A>
<A HREF="index.shtml#433">[ thread ]</A>
<A HREF="subject.shtml#433">[ subject ]</A>
<A HREF="author.shtml#433">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0434.shtml">Michal Jaegermann: "Re: Strange stack size problem"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0432.shtml">Toby Bluhm: "Re: XP1000 power supplies"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0434.shtml">Michal Jaegermann: "Re: Strange stack size problem"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Ok, here's my setup:
<BR>
<P>-12 UP2000 Alpha boxen in a cluster
<BR>
- RedHat 6.1
<BR>
- 256MB ram each
<BR>
- latest version of PBS
<BR>
- kernel 2.2.14
<BR>
<P>I need to increase the maximum stack size available to the users of the
<BR>
cluster. I've tried the obvious things:
<BR>
<P>- tweaking PAM
<BR>
- changing the default in the kernel and recompiling
<BR>
- creating an /etc/initscript file to set the stack size
<BR>
- editing the files in /etc/security as appropriate
<BR>
<P>This works fine on Intel machines, giving me more stack space for my PBS
<BR>
jobs. For some reason it does _not_ work on the Alphas, which still
<BR>
insist that the stack size is 8MB. I've been trying to figure out what
<BR>
causes this and I've found a few interesting things:
<BR>
<P>- It only happens on Alphas (as already stated)
<BR>
- Passing the kernel 'init=/bin/sh' starts bash, which sees the new
<BR>
stack size correctly.
<BR>
- Doing an 'exec /sbin/init' from there will start init, after which
<BR>
the stack size will be correctly set for all users, root or mortal (
<BR>
haven't tried with PBS  yet though). This works even without the above
<BR>
changes
<BR>
-  Only happens when the kernel runs /sbin/init as per default.
<BR>
<P>Any ideas? I thought it might be RedHat's init, but I recompiled that
<BR>
from the pristine source and had the same problem.
<BR>
<P><P><P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0434.shtml">Michal Jaegermann: "Re: Strange stack size problem"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0432.shtml">Toby Bluhm: "Re: XP1000 power supplies"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0434.shtml">Michal Jaegermann: "Re: Strange stack size problem"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Mon May  1 18:42:03 2000 PDT <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
