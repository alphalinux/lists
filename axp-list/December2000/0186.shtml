<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: Avanti maxes out...</H1> 
	
<!-- received="Sat Dec 16 15:49:47 2000" -->
<!-- isoreceived="20001216234947" -->
<!-- sent="Sat, 16 Dec 2000 12:46:02 +0100" -->
<!-- isosent="20001216114602" -->
<!-- name="Ingo T. Storm" -->
<!-- email="tux-axp@computerbild.de" -->
<!-- subject="Re: Avanti maxes out..." -->
<!-- id="028001c06757$131e1c50$2e2ca8c0@combi.de" -->
<!-- inreplyto="20001214130427.A20888@ellpspace.math.ualberta.ca" -->
<STRONG>Subject: </STRONG>Re: Avanti maxes out...<BR>
<STRONG>From: </STRONG>Ingo T. Storm (<EM>tux-axp@computerbild.de</EM>)<BR>
<STRONG>Date: </STRONG>Sat Dec 16 03:46:02 2000
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#186">[ date ]</A>
<A HREF="index.shtml#186">[ thread ]</A>
<A HREF="subject.shtml#186">[ subject ]</A>
<A HREF="author.shtml#186">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0187.shtml">Howard Arnold: "Disklabel Command"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0185.shtml">Ingo T. Storm: "Re: Avanti maxes out..."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0170.shtml">Michal Jaegermann: "Re: Avanti maxes out..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0240.shtml">Niki W. Waibel: "glide2x"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0170.shtml">Ingo T. Storm: "Re: Avanti maxes out..."</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P><EM>&gt; Process accounting in 2.4 kernels has some changes and weirdness in
</EM><BR>
<EM>&gt; it.  I did not look very close yet but I think that you have to update
</EM><BR>
<EM>&gt; your tools to get a better picture or some numbers will be quite
</EM><BR>
<EM>&gt; misleading.
</EM><BR>
<P>Thanks for the hint. But I am actually not too concerned about the accuracy
<BR>
of process accounting at this point. I certainly do see that the router
<BR>
maxes out sooner than tolerable (for me) and the amount of time spent in the
<BR>
kernel indicates a problem with  either the available cpu speed (which I
<BR>
doubt, too) or the routing code (which I doubt, too) or the starfire
<BR>
hardware or driver code. These same starfire NICs have had a sustained
<BR>
throughput of &gt;30 MByte/s in a Ruffian with NT which leads me to believe
<BR>
that the trouble might be the debugging code still in starfire.c.
<BR>
<P><EM>&gt; I would start checking on linux-net mailing list but,
</EM><BR>
<P>Thanks, I will do that.
<BR>
<P><EM>&gt; Did you
</EM><BR>
<EM>&gt; try to send something through this box with a more frugal protocol than
</EM><BR>
<EM>&gt; HTTP and measure results?
</EM><BR>
<P>Not yet. But I do test with files &gt;= 10 MBytes.
<BR>
<P><EM>&gt; &gt; I am afraid I can't follow you here (please be kind, it might be a
</EM><BR>
<EM>&gt; &gt; problem with my English).
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; I mean that a 10 MBytes/sec transfer rate on a bus is not that much.
</EM><BR>
<EM>&gt; Disks are doing that, and more, all the time.  You do not suggest that
</EM><BR>
<EM>&gt; your machine comes to a grinding halt every time when you are sending
</EM><BR>
<EM>&gt; something to, or a fetching from, a disk?
</EM><BR>
<P>No, the router is not the http server, so it has close to no disk activity
<BR>
(it doesn't even log anything yet). The http serves have ample memory and I
<BR>
always request the same 12 or 21 MByte file so that it will only be read
<BR>
from the disk upon the first request. I see very little disk activity here,
<BR>
too. At least on of the http servers (KIII-450, NT4SP6) delivers combined 8
<BR>
MByte/s to two linux clients (2.2.x).
<BR>
<P><EM>&gt; True, your filters look at
</EM><BR>
<EM>&gt; every packet but these packets are not that small on an average and it
</EM><BR>
<EM>&gt; is hard to believe that your Avanti is underpowered for the task.  If
</EM><BR>
<EM>&gt; you try transfers through that machine _without_ any filtering does this
</EM><BR>
<EM>&gt; change numbers in any substantial way?
</EM><BR>
<P>I do not do any filtering at this point. I will now try and rearrange my
<BR>
testbed to get more hints on where the bottleneck actually is, e.g. by
<BR>
replacing the Avanti with a Ruffian or a 3Com Layer3 switch. The latter DOES
<BR>
more than 3,6 MByte/s...
<BR>
<P>Story continues in other posts...
<BR>
<P>Thanks everyone!
<BR>
<P>Ingo
<BR>
<P><P><P><P>_______________________________________________
<BR>
Axp-list mailing list
<BR>
Axp-list@redhat.com
<BR>
https://listman.redhat.com/mailman/listinfo/axp-list
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0187.shtml">Howard Arnold: "Disklabel Command"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0185.shtml">Ingo T. Storm: "Re: Avanti maxes out..."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0170.shtml">Michal Jaegermann: "Re: Avanti maxes out..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0240.shtml">Niki W. Waibel: "glide2x"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0170.shtml">Ingo T. Storm: "Re: Avanti maxes out..."</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Tue Jan  2 07:48:32 2001 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
