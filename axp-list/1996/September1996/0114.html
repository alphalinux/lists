<!-- received="Thu Sep  5 23:31:50 1996 " -->
<!-- sent="Wed, 4 Sep 1996 20:35:22 +0300 (EET DST)" -->
<!-- name="Linus Torvalds" -->
<!-- email="torvalds@cs.Helsinki.FI" -->
<!-- subject="Integer divide - anybody interested?" -->
<!-- id="199609041616.QAA10594@linux.reo.dec.com" -->
<!-- inreplyto="Pine.LNX.3.93.960904105826.30111Q-100000@redhat.com" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Integer divide - anybody interested?</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Integer divide - anybody interested?</h2>

<b>Linus Torvalds</b> (<a href="mailto:torvalds@cs.Helsinki.FI"><i>torvalds@cs.Helsinki.FI</i></a>)<br>
<i>Wed, 4 Sep 1996 20:35:22 +0300 (EET DST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#114">[ date ]</a><a href="index.html#114">[ thread ]</a><a href="subject.html#114">[ subject ]</a><a href="author.html#114">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0115.html">scottw@frontier.wilpaterson.edu: "Re: Apache httpd &amp; AXP-LINUX"</a>
<li> <b>Previous message:</b> <a href="0113.html">Erik Troan: "Re: ld.so?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
For reasons that aren't entirely clear even to me, I started looking into <br>
the kernel integer divide routines again, and optimized them a bit more. <br>
It's smaller and faster (well, at least it's faster on my ev5). Does <br>
anybody want to play with this (instruction scheduling might be improved <br>
a bit, and it should really go through a verification suite)?<br>
<p>
This is not using any lookup table, but just the stupid bit-at-a-time <br>
algorithm, it's just done a bit better.<br>
<p>
		Linus<br>
<p>
-----<br>
begin 640 div.tar.gz<br>
M'XL("#6Y+3("`V1I=BYT87(`[5=9;]M($O8K^2L*L(-(7NJ@)!\1D(&gt;,G0D\<br>
MF\1`[%E@]B7@T9((DVR93=K2_/K]JKMYR)%G]V%W!@NHD5C=U75UW8R3I]&amp;7<br>
MX$$LDE0&lt;_8^6/QZ?SV9T1$07Y[N_&gt;IU?3/%GXD^GOG]^CKT_G4S/CVA\]"&gt;L<br>
M2I5!0714RN(I2&amp;/U&amp;MZ_N_\_7&lt;?N,=7^IX4L*$C7JV"@UB)*%DE$:1(60;$E<br>
MOE?#H7OLNE=7[Y=11(/;&amp;0T&amp;"YDEY6!1!)D8K&amp;62EZ*@09;+P6(]*,12N&gt;[M<br>
M3[_&lt;$;VG[]_CY.FQ&amp;DKL"I'9'6!I`^.=ZT+D,)C328\I^ZYSTOOPK4]%I$C?<br>
M-!=NPW%.V"2Q&amp;-XQ]M55GP;7US?_H`&amp;TE!W!#9;;J+"/]-O'+PUIK6F7U.K\<br>
MJM3KFZ_W=S?__-B5G^Z1G_Z1_!^86((6_[_B?W`;U1S_FOSWQ_YL8O-_.KGP<br>
MSW7^3\:'_/\SUNC4I5,*BF@UTID_0HXU`8$KONTA*OUW[\[H&lt;Y)7BNZM)&gt;SM<br>
M!R;34:D2F:-$T.G(=0W?^Y4P!86B5;*F6`J5ORUI74@60*N@B)^#0C34'BE)<br>
MSWSQ)*A$K$M*2F84;@'+XR%IEI',UJA'!8D-ZE2IJ`1P4&gt;51"1Y6+\&gt;F_9S.<br>
M9X,P*:G*5;+,14RIS)&lt;VBPR&gt;SO%7\'`7)'DLBI:E&amp;AD2-2&gt;+:2@;C+0:V72=<br>
MM]RFDUT&lt;RR5MN308UG(*MH-M&lt;EGB?Y$%*5VUCYQ3DJM2!#')A7Z^06'2*$C3<br>
M!*HK\5B)/!(&gt;WX.9,18?$I3Y8EEE(H?MDAR/7"9@5K#IZ&amp;0R(Y@:OV&gt;&gt;WA2B<br>
MK(I&lt;"RF$JM*224XF%T/Z9NEPNJ0LV&amp;I/P3VI#$-1X$F]0"F1A&gt;F62I&amp;M)7&gt;2<br>
M/C/=EBO64*10*T,&amp;,I6"S^%@^_Z;G-1*%N6&lt;UK#_HDJ'C6$2Z*PHH"*`2@6L<br>
MEZW1NV"Z08!_@S+)..B6LDC*508[E6\5/0GTL*64L8[VTKB?52CP0IG5OL^K<br>
M#(HKC\)*&amp;XHR"0]4JH+QHP#*/D,B1XV^U%&amp;+E@EM%&amp;R?\H:C-,7+0U&amp;R81"W<br>
MC'G]\:I5B&lt;DKQ&lt;)3*1^J-95!R,W5/*U20L$FT8H`PTY`A2V[4%;+E7%(HOV4<br>
M)Q$$2..8*(A68CBDGX1"6.,!-\@=3K6'7#X;#+G&gt;%LER51(*7EEI%C9T6+M(<br>
M(N&amp;[J?NE]5DBU)P#]V1,`XJJHD#&lt;D`WF$Q\PM4H6)1YM#:+A$\`S&amp;5=II4:/<br>
ME2P3$-G,/)E,&lt;6G#*HAC1)4R&lt;$P4-C/SV$#.+,2P-;`+P&amp;J6(RO#W%RR@B@.<br>
MG#?-,_&amp;DXQ@#3LYU!=$[U(D]KA]Z)U).BSJSJ-RNA8W[-BM&amp;#8LL4`^P1'.V<br>
MRL$0#:C6`/HTL#);^\[)M'N&gt;."&lt;SJ)8L`"(,#LT=]M]OOW[^K;?QML/AL$\;<br>
M[_AXVUQ_N;W&gt;N6XN^`F]3=\,',?'FU9G8R,HU(!J^W$B-\!/'S%R?/K*/#:2<br>
MLWKF&lt;15H&amp;=W=?[CZ.\WP+$[=5Q5^5=47+VD51B7&lt;K_#%/HWW*1PFRBH\^T'A<br>
M*2@04&lt;FB]OG/&gt;)TIMR37`H6$2ZK'G2&lt;7B&amp;-T'K$I0&lt;&amp;[IKB/:E_9R:P14C6Q<br>
MHQ^45JT!U(NK]N;S[==/-S__QJK_'JRYR&amp;\\?\?6'0PD28K[,5_O6/Z%Z,?7<br>
M13_N$[U/6&amp;.JH1+&lt;&gt;8+2'2Y1T5.G$&gt;8.X8?.L=G-74=5X2,"?&gt;QITWO8N1=S<br>
M1Y4`^AZ-&gt;P!@IH&gt;W.+EU&gt;-7I;9`F'EWN(!F7UFEND,:&gt;?]Y%FOH&gt;_V_JC%,_<br>
MQ_+N&amp;SI.0F\RLY0UCF7=X&gt;5[G.6NT\0UB'7&amp;&gt;M.))F9&lt;\&gt;A8[AZ]6SB.,SKE<br>
M8L`E_W=12%-W=@,&amp;**Z#\-/ULFD?J5B4GNT(4QV3^E[QYYA&amp;MY%J"B,ZG^)`<br>
MC0(N[Q*-;9'*9VX&gt;A1`Z4AL)P$O0E=JFC7ZS9BDEXQ(W2J6[C";ASF8:'UAW<br>
MB,IGJ0F5:89I@)(XU!3WJTI9O0/`BZ6P+TOTE/&gt;,]KU"^\44@&amp;JNM;I$('-#<br>
M+U3=($LT3%"K-.6ZX;#5_+D396M(;^QK/&gt;39P@IG,J/6_NRS-HK,'7M07QA7<br>
MAKEP++GGAS:+_@-)(8S`JW'U9.$Z.\)?_-I;+;[YLT&gt;^R3$.&amp;OG@&lt;;,J2JXV<br>
M2TFF2P=+S#WHZ##(9-Y&amp;(C-O2J$1P(')`5ZD1FK]9/TT\0=&amp;Y$RMH346IT@G<br>
M\*-,/K4=38MJLLS*K"D[+C!43H?*;Q.8+:'UG(2N^V[NI/%N:=#G3A70YT["<br>
M\WDWD1MM&lt;?4R3;4S=LN1@\E#IWD/@TC?PW-1SN)..;--XM?5"O;_=8GIU4[H<br>
MS4&lt;.W;R-Z_F32[?^7D&amp;D8[+$'*BSB#GHT9,["FB124IB,HV2(JHR^!N3N9[Y<br>
MD'9DOH$6"Z%'J^=@BT\:R1S,.(DL2="&gt;"@'F6SLG\K&lt;43V7D#`(:44COB7\'<br>
MO!GT-*C/0Q%NWU`-?&amp;.!O!L8$H"8R_,JP&lt;@)OO@V"P.&gt;V/E=/!V&amp;`O.YDFE5<br>
MZ@\T+A!X9BH"!F,J36.C*'^Q`1WTZ*@ES[U`ZVU&amp;V_[IEOZ&amp;W9MM'Q(W9LJT<br>
M+47MMI3VJ#HMI&gt;T#W#`N]_88I^E@P.#RO!0\#WH78=U79EX=8&gt;9\YEWNG*=M<br>
MB/W8*ZQ$WS-Z7)H81^&amp;P9X9S+@&gt;A@@*S/C^Q2W3V@NC,$IVU1&amp;&gt;&amp;*%2%5J8-<br>
M1YL1K?[FW.I?3T'FY1VI%S:=7]C&amp;T'?&gt;VZAU:7*5QZX]&gt;;8GEU!!]V=3Z\FC<br>
FPSJLPSJLPSJLPSJLPSJLPSJLPSJLPSJLP_H+U[\`M7_YI``H````<br>
`<br>
end<br>
<p>
<pre>
--
To unsubscribe: mail -s unsubscribe <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> &lt; /dev/null
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0115.html">scottw@frontier.wilpaterson.edu: "Re: Apache httpd &amp; AXP-LINUX"</a>
<li> <b>Previous message:</b> <a href="0113.html">Erik Troan: "Re: ld.so?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
