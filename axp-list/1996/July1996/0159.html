<!-- received="Fri Jul 19 03:00:03 1996 " -->
<!-- sent="Fri, 19 Jul 1996 08:45:13 +0200 (MET DST)" -->
<!-- name="Harald Koenig" -->
<!-- email="koenig@tat.physik.uni-tuebingen.de" -->
<!-- subject="Re: Running Digital Unix Binaries on Red Hat Linux 3.0.3" -->
<!-- id="199607190659.IAA28957@ceres.tat.physik.uni-tuebingen.de" -->
<!-- inreplyto="Pine.LNX.3.91.960718135708.21597H-100000@linux.cs.Helsinki.FI" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: Running Digital Unix Binaries on Red Hat Linux 3.0.3</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: Running Digital Unix Binaries on Red Hat Linux 3.0.3</h2>

<b>Harald Koenig</b> (<a href="mailto:koenig@tat.physik.uni-tuebingen.de"><i>koenig@tat.physik.uni-tuebingen.de</i></a>)<br>
<i>Fri, 19 Jul 1996 08:45:13 +0200 (MET DST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#159">[ date ]</a><a href="index.html#159">[ thread ]</a><a href="subject.html#159">[ subject ]</a><a href="author.html#159">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0160.html">Rudolf Gabler: "How to mount a NTFS in axp-linux?"</a>
<li> <b>Previous message:</b> <a href="0158.html">Richard Henderson: "Re: going glibc"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
<i>&gt; The shared libs is a start, but you need to make sure you have a </i><br>
<i>&gt; filesystem that looks like Digital UNIX binaries expect too. The error </i><br>
<i>&gt; above does seem to imply you're missing the shared libs (and the loader: </i><br>
<i>&gt; /sbin/loader), but just in case you do have a license for the libs, you </i><br>
<i>&gt; _also_ need at least a /usr/bin/sh (just link it to /bin/sh), and some </i><br>
<i>&gt; special files in /etc/ that Digital UNIX binaries tend to assume.</i><br>
<i>&gt; </i><br>
<i>&gt; To get a working Digital UNIX binary environment, get the shared libs, </i><br>
<i>&gt; and then use "strace" to see what files etc the binary tries to open. </i><br>
<i>&gt; It's not hard, but there is no ready-made package for this as the shared </i><br>
<i>&gt; libs are obviously not freely available..</i><br>
<p>
there are some DEC program which don't run at the moment: these are<br>
"f77", "f90" and "cc -migrate" (which calls /usr/lib/cmplrs/cc/gemc_cc;<br>
cc without "-migrate" does work fine and even produces shared binaries...).<br>
I know a number of people who think about running their DEC Unix workstations<br>
under Linux but they'll need DECs fortran and/or C compiler for various<br>
(compatibility) reasons and they *have* licences for these tools <br>
so their which is leal...<br>
<p>
this can't be due to problems with the not running/available licence manager<br>
(which would be really nice to have [and important for some people]) as<br>
the DEC "dbx" shows (strace below).<br>
<p>
<p>
<p>
Harald<br>
-------------------------------------------------------------------------------<br>
execve("/usr/lib/cmplrs/fort/decfort", ["/usr/lib/cmplrs/fort/decfort", "-o", "/tmp/forAAAaafdpa.o", "hello.f"], [18 vars]) = 0<br>
sigaction(SIGBUS, {...}, {...})         = 0<br>
sigaction(SIGSEGV, {...}, {...})        = 0<br>
brk(0x10062ec0)                         = 0x10062ec0<br>
brk(0x10064000)                         = 0x10064000<br>
brk(0x10064000)                         = 0x10064000<br>
brk(0x10064000)                         = 0x10064000<br>
brk(0x10084000)                         = 0x10084000<br>
brk(0x10084000)                         = 0x10084000<br>
--- SIGSEGV (Segmentation fault) ---<br>
write(2, ": Fatal: A memory access violati"..., 116) = 116<br>
close(0)                                = 0<br>
close(1)                                = 0<br>
close(2)                                = 0<br>
exit(-1)                                = ?<br>
-------------------------------------------------------------------------------<br>
execve("/usr/lib/cmplrs/fort90/decfort90", ["/usr/lib/cmplrs/fort90/decfort90", "-o", "/tmp/forAAAaafdsa.o", "hello.f"], [18 vars]) = 0<br>
sigaction(SIGBUS, {...}, {...})         = 0<br>
sigaction(SIGSEGV, {...}, {...})        = 0<br>
brk(0x101ce550)                         = 0x101ce550<br>
brk(0x101cf600)                         = 0x101cf600<br>
brk(0x101cf600)                         = 0x101cf600<br>
brk(0x101cf600)                         = 0x101cf600<br>
brk(0x101ef600)                         = 0x101ef600<br>
brk(0x101ef600)                         = 0x101ef600<br>
--- SIGSEGV (Segmentation fault) ---<br>
write(2, ": Fatal: A memory access violati"..., 116) = 116<br>
close(0)                                = 0<br>
close(1)                                = 0<br>
close(2)                                = 0<br>
exit(-1)                                = ?<br>
-------------------------------------------------------------------------------<br>
execve("/usr/lib/cmplrs/cc/gemc_cc", [" ", "-D__LANGUAGE_C__", "-D__unix__", "-D__osf__", "-D__alpha", "-D_SYSTYPE_BSD", "-D_LONGLONG", "-DLANGUAGE_C", "-Dunix", "-DSYSTYPE_BSD", "-I/usr/include3.11", "-g1", "-O1", "-common", "-o", ...], [17 vars]) = 0<br>
getpagesize()                           = 0x2000<br>
getpagesize()                           = 0x2000<br>
brk(0xc0005e20)                         = 0xc0005e20<br>
open("/usr/lib/cmplrs/cc/gemc_cc", O_RDONLY) = 4<br>
brk(0xc0009e20)                         = 0xc0009e20<br>
getxuid()                               = 0<br>
getxgid(0x3ffc0002000)                  = 0<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
read(4, "\203\1\26\0\222\272\307.\0\0\0\0"..., 2664) = 2664<br>
mmap()                                  = 0x12000000<br>
mmap()                                  = 0x14000000<br>
mmap()                                  = 0x140e4000<br>
brk(0xc0009e20)                         = 0xc0009e20<br>
brk(0xc0011e20)                         = 0xc0011e20<br>
open("/usr/shlib/libm.so", O_RDONLY)    = 5<br>
read(5, "\203\1\22\0\373{1/\0 \17\0\0\0\0"..., 2664) = 2664<br>
mmap()                                  = 0x240f2000<br>
munmap(0x240f2000, 974848)              = 0<br>
mmap()                                  = 0x64042000<br>
munmap(0x64042000, 16384)               = 0<br>
mmap()                                  = 0x240f2000<br>
mmap()                                  = 0x64042000<br>
close(5)                                = 0<br>
stat("/usr/shlib/libm.so", {st_mode=S_IFREG|0664, st_size=1269760, ...}) = 0<br>
brk(0xc0011e20)                         = 0xc0011e20<br>
open("/usr/shlib/libc.so", O_RDONLY)    = 5<br>
read(5, "\203\1\25\0\232\306\3140\0\340\16"..., 2664) = 2664<br>
mmap()                                  = 0x241e0000<br>
munmap(0x241e0000, 917504)              = 0<br>
mmap()                                  = 0x641e0000<br>
munmap(0x641e0000, 103632)              = 0<br>
mmap()                                  = 0x241e0000<br>
mmap()                                  = 0x641e0000<br>
mmap()                                  = 0x641ee000<br>
close(5)                                = 0<br>
stat("/usr/shlib/libc.so", {st_mode=S_IFREG|0664, st_size=1269760, ...}) = 0<br>
open("/usr/shlib/libots.so", O_RDONLY)  = 5<br>
read(5, "\203\1\20\0\321\2001/\0 \1\0\0\0"..., 2664) = 2664<br>
mmap()                                  = 0x242c0000<br>
munmap(0x242c0000, 57344)               = 0<br>
mmap()                                  = 0x63ac0000<br>
munmap(0x63ac0000, 16384)               = 0<br>
mmap()                                  = 0x242c0000<br>
mmap()                                  = 0x63ac0000<br>
close(5)                                = 0<br>
stat("/usr/shlib/libots.so", {st_mode=S_IFREG|0664, st_size=139264, ...}) = 0<br>
brk(0xc0011e20)                         = 0xc0011e20<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
close(4)                                = 0<br>
getpagesize()                           = 0x2000<br>
getrlimit(RLIMIT_DATA, {rlim_cur=RLIM_INFINITY, rlim_max=RLIM_INFINITY}) = 0<br>
mmap()                                  = 0x140f2000<br>
sigaction(SIGBUS, {...}, {...})         = 0<br>
sigaction(SIGSEGV, {...}, {...})        = 0<br>
getrlimit(RLIMIT_DATA, {rlim_cur=RLIM_INFINITY, rlim_max=RLIM_INFINITY}) = 0<br>
mmap()                                  = 0x14100000<br>
--- SIGSEGV (Segmentation fault) ---<br>
write(2, ": Fatal: A memory access violati"..., 116) = 116<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
close(0)                                = 0<br>
close(1)                                = 0<br>
close(2)                                = 0<br>
exit(-1)                                = ?<br>
-------------------------------------------------------------------------------<br>
getpagesize()                           = 0x2000<br>
getpagesize()                           = 0x2000<br>
brk(0xc0003e20)                         = 0xc0003e20<br>
brk(0xc0007e20)                         = 0xc0007e20<br>
open("/bin/dbx", O_RDONLY)              = 4<br>
getxuid()                               = 0<br>
getxgid(0x3ffc0003000)                  = 0<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
read(4, "\203\1\25\0&gt;\0102/\0\0\0\0\0\0\0"..., 2664) = 2664<br>
mmap()                                  = 0x20000000<br>
mmap()                                  = 0x40000000<br>
mmap()                                  = 0x4002e000<br>
brk(0xc0007e20)                         = 0xc0007e20<br>
brk(0xc000be20)                         = 0xc000be20<br>
open("/usr/shlib/libc.so", O_RDONLY)    = 5<br>
read(5, "\203\1\25\0\232\306\3140\0\340\16"..., 2664) = 2664<br>
mmap()                                  = 0x80080000<br>
mmap()                                  = 0xc0080000<br>
mmap()                                  = 0xc008e000<br>
close(5)                                = 0<br>
stat("/usr/shlib/libc.so", {st_mode=S_IFREG|0664, st_size=1269760, ...}) = 0<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
close(4)                                = 0<br>
getpagesize()                           = 0x2000<br>
getrlimit(RLIMIT_DATA, {rlim_cur=RLIM_INFINITY, rlim_max=RLIM_INFINITY}) = 0<br>
mmap()                                  = 0x40062000<br>
getdtablesize()                         = 256<br>
fstat(3, {st_mode=S_IFREG|0664, st_size=1500, ...}) = 0<br>
fstat(4, 0x1ffffc38)                    = -1 EBADF (Bad file number)<br>
	[ ... ]<br>
fstat(255, 0x1ffffc38)                  = -1 EBADF (Bad file number)<br>
ioctl(0, TIOCGETP, 0x1ffffc98)          = 0<br>
ioctl(1, TIOCGETP, 0x1ffffc98)          = 0<br>
ioctl(2, TIOCGETP, 0x1ffffc98)          = 0<br>
ioctl(0, TIOCGETP, 0x4004e950)          = 0<br>
ioctl(0, TIOCGETC, 0x4004e956)          = 0<br>
ioctl(0, TIOCGLTC, 0x4004e95c)          = 0<br>
ioctl(0, 0x40047400, 0x4004e964)        = -1 EINVAL (Invalid argument)<br>
ioctl(0, TIOCGPGRP, [5370])             = 0<br>
ioctl(0, 0x4004747c, 0x4004e968)        = -1 EINVAL (Invalid argument)<br>
fcntl(0, F_GETFL)                       = 0x2 (flags O_RDWR)<br>
ioctl(1, TIOCGETP, 0x4004e974)          = 0<br>
ioctl(1, TIOCGETC, 0x4004e97a)          = 0<br>
ioctl(1, TIOCGLTC, 0x4004e980)          = 0<br>
ioctl(1, 0x40047400, 0x4004e988)        = -1 EINVAL (Invalid argument)<br>
ioctl(1, TIOCGPGRP, [5370])             = 0<br>
ioctl(1, 0x4004747c, 0x4004e98c)        = -1 EINVAL (Invalid argument)<br>
fcntl(1, F_GETFL)                       = 0x2 (flags O_RDWR)<br>
ioctl(2, TIOCGETP, 0x4004e998)          = 0<br>
ioctl(2, TIOCGETC, 0x4004e99e)          = 0<br>
ioctl(2, TIOCGLTC, 0x4004e9a4)          = 0<br>
ioctl(2, 0x40047400, 0x4004e9ac)        = -1 EINVAL (Invalid argument)<br>
ioctl(2, TIOCGPGRP, [5370])             = 0<br>
ioctl(2, 0x4004747c, 0x4004e9b0)        = -1 EINVAL (Invalid argument)<br>
fcntl(2, F_GETFL)                       = 0x2 (flags O_RDWR)<br>
sigprocmask(SIG_BLOCK, NULL, NULL)      = 0<br>
sigaction(SIGINT, {...}, {...})         = 0<br>
getxpid()                               = 5371<br>
open("/proc/5371", O_RDONLY|0x8000)     = 4<br>
close(4)                                = 0<br>
osf_utsname(0x11ffffbd0)                = 0<br>
open("a.out", O_RDONLY)                 = 4<br>
close(4)                                = 0<br>
osf_setsysinfo(0x7, 0x11ffffa40, 0xa0, 0, 0x4) = -1 EL2NSYNC (Operation not supported on transport endpoint)<br>
osf_setsysinfo(0x7, 0x11ffffa40, 0xa0, 0, 0x4) = -1 EL2NSYNC (Operation not supported on transport endpoint)<br>
osf_setsysinfo(0x7, 0x11ffffa40, 0xa0, 0, 0x4) = -1 EL2NSYNC (Operation not supported on transport endpoint)<br>
osf_setsysinfo(0x7, 0x11ffffa40, 0xa0, 0, 0x4) = -1 EL2NSYNC (Operation not supported on transport endpoint)<br>
osf_setsysinfo(0x7, 0x11ffffa40, 0xa0, 0, 0x4) = -1 EL2NSYNC (Operation not supported on transport endpoint)<br>
osf_setsysinfo(0x7, 0x11ffffa40, 0xa0, 0, 0x4) = -1 EL2NSYNC (Operation not supported on transport endpoint)<br>
ioctl(1, TIOCGETP, 0x1ffff138)          = 0<br>
write(1, "Valid license for one of the fol"..., 78) = 78<br>
write(1, "Product OSF-DEVTK (OSF Developer"..., 71) = 71<br>
write(1, "Product OSF-DEVTK-USER (OSF Deve"..., 91) = 91<br>
write(1, "Product OSF-DEVTK-G (OSF Develop"..., 80) = 80<br>
write(1, "Product OSF-DEV (OSF Developer\'"..., 72) = 72<br>
write(1, "Product OSF-DEV-USER (OSF Develo"..., 92) = 92<br>
write(1, "Product OSF-DEV-G (OSF Developer"..., 81) = 81<br>
ioctl(0, TIOCSETP, 0x4004e950)          = 0<br>
ioctl(0, TIOCSETC, 0x4004e956)          = 0<br>
ioctl(0, TIOCSLTC, 0x4004e95c)          = 0<br>
ioctl(0, 0x80047401, 0x4004e964)        = -1 EINVAL (Invalid argument)<br>
ioctl(0, 0x8004747d, 0x4004e968)        = -1 EINVAL (Invalid argument)<br>
fcntl(0, F_SETFL, O_RDWR)               = 0<br>
ioctl(1, TIOCSETP, 0x4004e974)          = 0<br>
ioctl(1, TIOCSETC, 0x4004e97a)          = 0<br>
ioctl(1, TIOCSLTC, 0x4004e980)          = 0<br>
ioctl(1, 0x80047401, 0x4004e988)        = -1 EINVAL (Invalid argument)<br>
ioctl(1, 0x8004747d, 0x4004e98c)        = -1 EINVAL (Invalid argument)<br>
fcntl(1, F_SETFL, O_RDWR)               = 0<br>
ioctl(2, TIOCSETP, 0x4004e998)          = 0<br>
ioctl(2, TIOCSETC, 0x4004e99e)          = 0<br>
ioctl(2, TIOCSLTC, 0x4004e9a4)          = 0<br>
ioctl(2, 0x80047401, 0x4004e9ac)        = -1 EINVAL (Invalid argument)<br>
ioctl(2, 0x8004747d, 0x4004e9b0)        = -1 EINVAL (Invalid argument)<br>
fcntl(2, F_SETFL, O_RDWR)               = 0<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
getrusage(RUSAGE_SELF, {...})           = 0<br>
getrusage(RUSAGE_CHILDREN, {...})       = 0<br>
close(0)                                = 0<br>
close(1)                                = 0<br>
close(2)                                = 0<br>
exit(0)                                 = ?<br>
-------------------------------------------------------------------------------<br>
<p>
<pre>
-- 
All SCSI disks will from now on                     ___       _____
be required to send an email notice                0--,|    /OOOOOOO\
24 hours prior to complete hardware failure!      &lt;_/  /  /OOOOOOOOOOO\
                                                    \  \/OOOOOOOOOOOOOOO\
                                                      \ OOOOOOOOOOOOOOOOO|//
Harald Koenig,                                         \/\/\/\/\/\/\/\/\/
Inst.f.Theoret.Astrophysik                              //  /     \\  \
<a href="mailto:koenig@tat.physik.uni-tuebingen.de">koenig@tat.physik.uni-tuebingen.de</a>                     ^^^^^       ^^^^^
<p>
<pre>
--
To unsubscribe: mail -s unsubscribe <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> &lt; /dev/null
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0160.html">Rudolf Gabler: "How to mount a NTFS in axp-linux?"</a>
<li> <b>Previous message:</b> <a href="0158.html">Richard Henderson: "Re: going glibc"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
