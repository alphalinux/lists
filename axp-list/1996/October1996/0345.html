<!-- received="Fri Oct 11 20:47:42 1996 " -->
<!-- sent="Fri, 11 Oct 1996 20:39:26 -0400 (EDT)" -->
<!-- name="Dave Mitchell" -->
<!-- email="davem@magnet.com" -->
<!-- subject="attempts to use PC quickcam &amp; insmod on Dec UDB" -->
<!-- id="2.2.32.19961011233535.006e463c@fgi.net" -->
<!-- inreplyto="m0vBpxF-001UygC@goonsquad.spies.com" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>attempts to use PC quickcam &amp; insmod on Dec UDB</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>attempts to use PC quickcam &amp; insmod on Dec UDB</h2>

<b>Dave Mitchell</b> (<a href="mailto:davem@magnet.com"><i>davem@magnet.com</i></a>)<br>
<i>Fri, 11 Oct 1996 20:39:26 -0400 (EDT)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#345">[ date ]</a><a href="index.html#345">[ thread ]</a><a href="subject.html#345">[ subject ]</a><a href="author.html#345">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0346.html">D. Steven Daniel: "TGA mouse"</a>
<li> <b>Previous message:</b> <a href="0344.html">Todd Hight: "Re: Newbie Questions :)"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
On Fri, 11 Oct 1996, Eric Smith wrote:<br>
<p>
<i>&gt; &gt;   Maybe now I'll have another go-round with it and see if I can't get</i><br>
<i>&gt; &gt; the shit working..</i><br>
<i>&gt; </i><br>
<i>&gt; With 3.0.3/AXP, the stock insmod is broken and dumps core.  Do an</i><br>
<i>&gt; "rpm -qf /usr/include/bfd.h" and make sure it is from binutils.  On my system</i><br>
<i>&gt; rpm reported that it came from two different packages, and it didn't match</i><br>
<i>&gt; the one from binutils.  And the official RPM for modules seems to be built</i><br>
<i>&gt; with the wrong one.  I ended up removing and reinstalling binutils, and I</i><br>
<i>&gt; had to use -force or the like to install it.  Then rebuild the modules</i><br>
<i>&gt; package from the source RPM.</i><br>
<i>&gt; </i><br>
<i>&gt; Some people have claimed that modules worked for them without this hassle,</i><br>
<i>&gt; but I don't understand how that is possible.</i><br>
<i>&gt; </i><br>
<i>&gt; Cheers,</i><br>
<i>&gt; Eric</i><br>
<i>&gt; </i><br>
<p>
  My query reported just binutils like it should, but attempting to<br>
build the source rpm "modules-2.0.0-4.src.rpm" gave me the error " <br>
<p>
[root@wrong qcam]# rpm --rebuild modules-2.0.0-4.src.rpm <br>
Installing modules-2.0.0-4.src.rpm <br>
Arch mismatch! <br>
///usr/src/redhat/SPECS/modules-2.0.0.spec doesn't build on this architecture<br>
<p>
  Then I went to the /usr/src/redhat/SOURCES/modules-2.0.0.tar.gz,<br>
unpacked it and attempted to build -that-. insmod failed with lots<br>
more pages of errors, but depmod and modprobe both compiled, and both<br>
fail when you try to use them, like this:<br>
<p>
[davem@wrong depmod]$ depmod ~/src/qcam/quickcam.o Can't allocate<br>
599296096 bytes of memory<br>
<p>
  So, at that, I grabbed modules-1.2.8 (from redhat-3.0.3), it built<br>
fine (the bfd-insmod) (albeit a couple of pointer size warnings) but when<br>
I actually attempt to insert my quickcam module I get scads of errors<br>
like these:<br>
<p>
quickcam.o: In function `qcam_lseek':<br>
module.c(.text+0x0): relocation truncated to fit: GPDISP *ABS*+4<br>
module.c(.text+0x28): relocation truncated to fit: LITERAL qc<br>
module.c(.text+0x3c): relocation truncated to fit: LITERAL $C34<br>
module.c(.text+0x48): undefined reference to `printk'<br>
module.c(.text+0x4c): undefined reference to `printk'<br>
module.c(.text+0x50): relocation truncated to fit: GPDISP *ABS*+4<br>
<p>
....(pages deleted)......<br>
<p>
uni6bit.c(.text+0x25f4): undefined reference to `_outb'<br>
uni6bit.c(.text+0x25f8): undefined reference to `_outb'<br>
uni6bit.c(.text+0x25fc): relocation truncated to fit: GPDISP *ABS*+4<br>
uni6bit.c(.text+0x2610): relocation truncated to fit: LITERAL $C33<br>
uni6bit.c(.text+0x2614): undefined reference to `printk'<br>
uni6bit.c(.text+0x2618): undefined reference to `printk'<br>
uni6bit.c(.text+0x261c): relocation truncated to fit: GPDISP *ABS*+4<br>
/usr/tmp/quickcam657: No such file or directory<br>
<p>
  This is the point at which my cork pops and I have to hand the ball<br>
back to someone with more experience with this... (anyone??)<br>
<p>
							Dave Mitchell<br>
							<a href="mailto:davem@magnet.com">davem@magnet.com</a><br>
<p>
<p>
ps - tcsh also doesn't seem to have a history anymore. HISTORY is set<br>
to 1000, but when I hit the up arrow, I get only beeps. (works fine in<br>
bash though)<br>
<p>
<p>
<p>
<p>
<p>
<pre>
--
To unsubscribe: mail -s unsubscribe <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> &lt; /dev/null
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0346.html">D. Steven Daniel: "TGA mouse"</a>
<li> <b>Previous message:</b> <a href="0344.html">Todd Hight: "Re: Newbie Questions :)"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
