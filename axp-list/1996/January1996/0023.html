<!-- received="Sun Jan  7 10:31:12 1996 " -->
<!-- sent="Sun, 7 Jan 1996 10:31:12 -0700" -->
<!-- name="David Mosberger-Tang" -->
<!-- email="davidm@AZStarNet.com" -->
<!-- subject="Re: More bugs'n'bits.." -->
<!-- id="199601071731.KAA01849@koala.azstarnet.com" -->
<!-- inreplyto="More bugs'n'bits.." -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: More bugs'n'bits..</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: More bugs'n'bits..</h2>

<b>David Mosberger-Tang</b> (<a href="mailto:davidm@AZStarNet.com"><i>davidm@AZStarNet.com</i></a>)<br>
<i>Sun, 7 Jan 1996 10:31:12 -0700</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#23">[ date ]</a><a href="index.html#23">[ thread ]</a><a href="subject.html#23">[ subject ]</a><a href="author.html#23">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0024.html">Erik Troan: "Re: More bugs'n'bits.."</a>
<li> <b>Previous message:</b> <a href="0022.html">Mikael Nykvist: "Re: More bugs'n'bits.."</a>
<li> <b>Maybe in reply to:</b> <a href="0019.html">Mikael Nykvist: "More bugs'n'bits.."</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0026.html">David Mosberger-Tang: "Re: More bugs'n'bits.."</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
<i>&gt;&gt;&gt;&gt;&gt; On Sun, 7 Jan 1996 05:27:31 -0500 (EST), Erik Troan &lt;<a href="mailto:ewt@redhat.com">ewt@redhat.com</a>&gt; said:</i><br>
<p>
  Erik&gt; On Sun, 7 Jan 1996, Mikael Nykvist wrote:<br>
<p>
<i>  &gt;&gt; Any possibility of libg++?  (I'm using Bob's old ones, but when</i><br>
<i>  &gt;&gt; trying to compile the new Amiga emu, I got redefines betw your</i><br>
<i>  &gt;&gt; libc.a and his libstdc++.a)</i><br>
<p>
  Erik&gt; This is pretty high priority for the next release, but I don't<br>
  Erik&gt; think it'll be right out of the box so I've been avoiding<br>
  Erik&gt; it. David, you hard is this?<br>
<p>
*Compiling* libg++ is pretty much trivial (I thought I had sent you a<br>
patch or at least directions on the one or two things that I had to<br>
change, if not, drop a note and I'll find out what I had to do...).<br>
The real problem is that libg++ 2.7.1 comes with a big disclaimer that<br>
it is not compatible with libc-4.6.27 (which is what the Alpha libc is<br>
currently based on).  I don't know what the incompatibilities are, but<br>
I did notice multiply defined symbols (due to libio being both in libc<br>
and libg++).  If that's the only "incompatibility" it might be quite<br>
easy to fix.  Probably it would be best to talk to the libg++<br>
developers.<br>
<p>
Talking of libc: is there now a concensus of moving to libg?  It<br>
sounds like a fine idea to me, but on the other hand I think it would<br>
be a bad idea to do a move before there is a reasonable chance that<br>
the x86 world will move to that library as well.<br>
<p>
Oh, also a word of warning: the new GNU rx-1.0 and sed-3.0 are *not*<br>
64 bit clean just yet.  The regex matcher seems to be reimplemented<br>
from scratch and as a result my patches that make rx-0.5/sed-2.0 64<br>
bit clean never made it into the GNU source tree.  The good news is<br>
that the new packages come with pretty extensive test scripts that<br>
should make debugging much easier.  If somebody wants to work on this,<br>
be sure to get in touch with the package maintainers first.<br>
<p>
<i>  &gt;&gt; Any possiblity of a 2.7.1(2) gcc rpm? 'case it looks like every</i><br>
<i>  &gt;&gt; kernel above .52 doesnt work with your 2.7.0 rpm anymore.</i><br>
<p>
  Erik&gt; That'll happen soon. I was hoping to go right to 2.7.2 but<br>
  Erik&gt; it's buggy on the Alpha :-(<br>
<p>
I appended the minimal test program that shows the 2.7.2 bug that I<br>
stumbled across when compiling a kernel (the compiler segfaults, if I<br>
remember correctly).  The problem is somehow related to "reserved"<br>
being the sign bit in a 32 bit integer, but that's as far as I tracked<br>
it down.  The 2.7.1-&gt;2.7.2 patch is very small so it might be possible<br>
to find the bug by just looking at the patch.  I submitted the bug to<br>
Richard Kenner but don't know if it has been fixed already.  If<br>
somebody has a patch or can fix it, I'd love to hear about it.<br>
Unfortunately, I don't have time right now to look into the matter.<br>
<p>
Enjoy,<br>
	--david<br>
<pre>
--
typedef struct {
	unsigned count:31,
		 reserved:1;
} mem_map_t;
<p>
mem_map_t * mem_map;
<p>
main(long a0)
{
    while (a0--)
	while (a0--)
	    mem_map[0].reserved = 0;
}
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0024.html">Erik Troan: "Re: More bugs'n'bits.."</a>
<li> <b>Previous message:</b> <a href="0022.html">Mikael Nykvist: "Re: More bugs'n'bits.."</a>
<li> <b>Maybe in reply to:</b> <a href="0019.html">Mikael Nykvist: "More bugs'n'bits.."</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0026.html">David Mosberger-Tang: "Re: More bugs'n'bits.."</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
