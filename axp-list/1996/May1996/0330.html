<!-- received="Tue May 21 11:13:11 1996 " -->
<!-- sent="Tue, 21 May 1996 11:13:11 -0400" -->
<!-- name="Craig Burley" -->
<!-- email="burley@gnu.ai.mit.edu" -->
<!-- subject="Re: DEC Unix binary compatibility for Linux" -->
<!-- id="199605211513.LAA26174@apple-gunkies.gnu.ai.mit.edu" -->
<!-- inreplyto="DEC Unix binary compatibility for Linux" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: DEC Unix binary compatibility for Linux</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: DEC Unix binary compatibility for Linux</h2>

<b>Craig Burley</b> (<a href="mailto:burley@gnu.ai.mit.edu"><i>burley@gnu.ai.mit.edu</i></a>)<br>
<i>Tue, 21 May 1996 11:13:11 -0400</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#330">[ date ]</a><a href="index.html#330">[ thread ]</a><a href="subject.html#330">[ subject ]</a><a href="author.html#330">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0331.html">Ka'plaagh  21-May-1996 1624 +0100: "Re: DEC Unix binary compatibility for Linux"</a>
<li> <b>Previous message:</b> <a href="0329.html">Przemek Klosowski: "Re: DEC Unix binary compatibility for Linux"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
<i>&gt;  I'm a newbie to Alpha programming, and I often feel lost in it... For sure it</i><br>
<i>&gt;is part because I am french and Slackware-addicted :-), but the information</i><br>
<i>&gt;seems to me more private than on Intel : you must *purchase* the technical</i><br>
<i>&gt;documentation from Digital ! And the FAQ's seem slim to me : what is a PALcode</i><br>
<i>&gt;? And why does Milo need to be rebuilt as often as the kernel ? And how is the</i><br>
<i>&gt;limit between Milo and the kernel set ? And why must we wait for Digital to</i><br>
<i>&gt;implement it's own version of ELF instead of working with them on that topic</i><br>
<i>&gt;?...</i><br>
<p>
I don't know the answers to many of those questions, but for what it's<br>
worth, when someone at Digital found out I was doing g77 work on an Alpha,<br>
he got me the "Alpha AXP Architecture Reference Manual (Second Edition)".<br>
For free.  Brought it to me at my house and handed it to me.  Apparently it<br>
can be bought at bookstores (though I think he said something about this<br>
new edition being hot off the presses).<br>
<p>
Doesn't sound like "private" development to me.  FWIW, I've done internals<br>
work (meaning OS, compiler, tools) on a variety of systems over the past<br>
ten years or so (actually for twenty, but for only the past ten on machines<br>
most of you would find at all interesting as machine consumers), including<br>
Intel x86, Motorola 68k, SPARCv8 and v9, HP-PA RISC 1.1, and now Alpha, and<br>
nothing has been more open and available at the Alpha's current stage of<br>
development than the Alpha.  (Yes, I have lots of technical info on the<br>
Intel, but most of the useful stuff has come from people who write books<br>
based on reverse-engineering.)<br>
<p>
<i>&gt;  Does it have to do with DEC compatibility ? Well, I think that if Linux/Alpha</i><br>
<i>&gt;chooses to enforce Digital Unix compatibility, this means that Linux</i><br>
<i>&gt;programmers choose to satisfy their clients prior to themselves -- which was</i><br>
<i>&gt;never the case before. This will bring it further and further from the original</i><br>
<i>&gt;"Linux attitude". See the people posting on this list : no newbies around, only</i><br>
<i>&gt;kernel/libc/Fortran/gcc/hardware hackers ! Where are the happy Sunsite disk</i><br>
<i>&gt;fillers ?</i><br>
<p>
It's hard to get newbies excited about using systems that aren't fully<br>
operational yet.  They have to be hackers.  There were no newbies using<br>
Linux in the early days, either -- I know, I was there near the end of those<br>
days (0.96 or thereabouts).  I even pointed out one tiny kernel bug (well,<br>
in the file system code, having to do with group protections) found by my<br>
randomly looking at the code, but my work on g77 has been so consuming I<br>
haven't had the opportunity to have fun doing kernel stuff (OS being more<br>
my area of expertise than compilers, especially front ends, but that's life).<br>
<p>
<i>&gt;  You are building a system for your own needs, powerful, straight but obscure</i><br>
<i>&gt;for a variety of reasons; and the humble programmers don't feel at home with an</i><br>
<i>&gt;AXP, because they can't even understand how the machine boots :-(... I am sorry</i><br>
<i>&gt;to admit that Linux/AXP as I see it is not for me - the freedom has partly</i><br>
<i>&gt;gone. Since I want to keep trying, my wish for the DEC compatibility issue is</i><br>
<i>&gt;clear : this is not the way. We could imagine some sort of "ABCS" for the</i><br>
<i>&gt;Alpha, with such a mess as a different system call numbering depending on the</i><br>
<i>&gt;native OS of the program being run; but keeping compatibility with another</i><br>
<i>&gt;system should never be a reason to make Linux itself deviate from its own way</i><br>
<i>&gt;-- where would be freedom else?</i><br>
<p>
Hmm, the Linux/Alpha boot process is probably far more scrutible and<br>
sensible at this stage in its life than Linux/Intel was at a comparable<br>
stage.  I didn't use LILO for a _long_ time, it wasn't even in existence<br>
for the first year or so I was using Linux/Intel.  I forget the name of<br>
the thingy I _did_ use, but I didn't replace it until I installed a complete<br>
system off of CD-ROM (LILO), and for most of that time, the old thing was<br>
used only to choose to boot DOS because its partition and other info<br>
was obsolete (I used a floppy to boot Linux -- not kidding).<br>
<p>
Anyway, I'll admit that _I'm_ unusual in that I'm writing free software I don't<br>
use.  I don't think that makes me a bad person, nor do I accept your claim<br>
that I'm violating the "Linux attitude" by doing so.  Nobody claimed I was<br>
doing that years ago when I was writing g77 _using_ Linux on Intel machines;<br>
why does that suddenly change now that I, and others, are doing it on Alphas?<br>
<p>
But, there are some factual differences between the Alpha situation and the<br>
old Intel situation that perhaps you're taking as an affront, but to me are<br>
simply unavoidable, and, on the whole, quite positive, even if there are one<br>
or two (IMO very minor) negative elements in it.<br>
<p>
First, Linux grew up on Intels because, well, everyone had Intels.  They were<br>
the cheapest buck for the bang (ratio intentionally reworded) for most<br>
people who wanted to do some hacking, play games, get work done, and not<br>
have an architecture go obsolete due to a combination of poor marketing<br>
(Amiga, etc.) and poor design (Intel/DOS, etc.).  The question then was,<br>
"how can we make better use of the hardware we already have, without dropping<br>
$$$ on software every 6 months?" -- that's not the question now for Linux/Alphas.<br>
<p>
Second, compatibility with existing standards was not important for Linux/Intel<br>
during its early development because, basically, there wasn't much to be<br>
compatible with.  Further, the luminaries doing the development were<br>
somewhat strapped for good documentation, high-powered machines, apps that<br>
worked under the other compatible systems, and so on.  DOSEMU is an example<br>
of the desire to make things compatible; but DOS's inscrutability, despite<br>
its incredibly feeble power, made that take much longer than otherwise.<br>
Some degree of source-level compatibility with UNIX happened because lots<br>
more people used and could help with that, and going in that direction didn't<br>
cripple us doing things that we wanted to do for ourselves (as being<br>
compatible with DOS would), things like high performance, ability to handle<br>
large disks and files, programs larger than 1MB (g77's main component weighs<br>
in at about 7MB), multi-user, networking, etc.<br>
<p>
Third, the existing standards Linux/Alpha are working for, which I know<br>
nothing about, are likely to be far better designed in terms of elegance<br>
and, especialy, performance, because Digital is likely to have done good<br>
work on them rather than shoot itself in the foot.  Remember, DOS was designed<br>
to run on a severely crippled machine by people who knew next to nothing<br>
about operating-system design issues (and then Microsoft bought it, no<br>
comment ;-), and further, DOS apps, which is where the real compatibility<br>
burden lies (writing to the screen instead of INT 10h, for example), were<br>
written by people who knew nothing about writing portable, high-speed,<br>
robust multi-user applications.  DEC Alpha software, on the other hand,<br>
does not suffer these afflictions -- DEC's corporate culture, like it or<br>
not, includes more expertise on good OS design than most of us can even<br>
imagine, and this includes things like the app&lt;-&gt;OS interface, high-<br>
performance computing, and _especially_ taking full advantage of both<br>
current and future (planned) Alpha implementations -- and remember, as<br>
open as DEC, they probably aren't telling everyone exactly what they think<br>
future Alpha processors are going to look like in terms of their<br>
performance envelope, so that knowledge is likely to show up _first_ in<br>
the design work they do for public interfaces in their products.<br>
(Having seen internals _and_ APIs for a variety of OSes, I can tell<br>
you that DEC runs the biggest risk of any vendor for _over_-specifying<br>
its OS APIs -- if there's any criticism I could level at DEC's design<br>
in this area, it's that they think _too_ much about it.  But that's<br>
based on my experience with VMS and older systems, I'm sure they've learned<br>
to avoid that syndrome in the past decade or so.)<br>
<p>
This means that it makes a lot more sense to follow in the wake of<br>
DEC's work on software standards for the Alpha than to grow our own.<br>
I happen to have a lot of expertise on designing good app/OS interfaces<br>
(after all, I suffered through, and managed to fix a few of, the nutty design<br>
decisions being made at Pr1me for PRIMOS, but I just have a bent for<br>
good design at this level, thinking of things no sane person should ;-),<br>
but even if I had full time available to craft my own "perfect" app<br>
interface for an Alpha OS, I'd still want to _start_ with whatever<br>
DEC was doing (assuming it wasn't proprietary or obviously crippled)<br>
and add my own as an option.  That way, I could at least attempt to<br>
measure the actual benefits my own design had over the comptetition.<br>
<p>
It also means that there's no particular benefit, other than NIH (Not<br>
Invented Here) syndrome satisfaction, to going in our own direction<br>
doing Linux/Alpha.  For Linux/Intel, we _had_ to do it to get something<br>
useful up and running, with decent performance and few embarrassments --<br>
since then we've had the "installed base" preventing as rapid movement<br>
to more standard API elements as perhaps would be desirable.  (I suspect<br>
the movement to ELF would have been much easier had it been the first<br>
targets for Linux back around 0.96 -- but that wasn't possible for a<br>
variety of reasons.)<br>
<p>
Fourth, Alphas aren't cheap.  Newbies don't buy them to play and tinker<br>
with free software -- unless they have too much money and just want to<br>
wait for "the future" to arrive rather than wait to make their (superior,<br>
due to pricing trends) purchase when it actually does (e.g. fully<br>
functional Linux).  If they need the Alpha so bad, that means they need<br>
performance, and they'll probably pay for OSF/1 or whatever to get<br>
it as fast as possible.  This is _quite_ a different picture from that<br>
for Linux/Intel, where people _already_ had lots of Intels sitting<br>
around, wondering how much _more_ they could do with them -- with Alphas,<br>
the issue is that they can _already_ do vast amounts of great stuff<br>
with them using OSF/1, the question is, can they choose to run a<br>
"free" system like Linux and still get decent performance?  To the degree<br>
the answer is "yes", the Linux/Alpha will be more successful -- failing<br>
to take advantage of high-performance-oriented design decisions I<br>
suspect have been made in producing the stuff you complain we're trying<br>
to be compatible with would reduce this answer to "well, if you don't<br>
mind giving up lots of performance and compatibility...but then why<br>
not just get a high-end Pentium?, and we're _already_ seeing some<br>
people with answers like that (and, for them, perhaps those are good<br>
answers...why inflate the percentage of the target audience that would<br>
answer the issue that way by choosing to be gratuitously incompatible<br>
just to satisfy our NIH urges?)?  The result is that the majority<br>
of people who really _have_ Linux/Alpha configurations are those of us<br>
who already are intending to do pretty high-performance stuff but want<br>
to avoid proprietary OSes so we can improve the OS ourselves, etc.<br>
That necessarily rules out newbies -- if newbies need that right away,<br>
they can (and should) by high-performance Linux/Intel machines.  We Want<br>
More, and are willing to do it Now, but want to do it Right.<br>
<p>
Fifth, some of us (and I do definitely include myself here) were just<br>
"nobodies" starting out on Linux/Intel, so we had nobody to satisfy<br>
but ourselves.  (Well, I had the Fortran audience, but....)  Now that<br>
we've got a track record, people with resources who want to make the<br>
Alpha successful have come to us and said, basically, "here's a deal<br>
for you...we put an Alpha on your desktop, you go make your software<br>
work really well on it" -- yes, this is _definitely_ going to result<br>
in a different attitude in terms of our development, but I think the<br>
net result is positive, because we're taking advantage of our higher<br>
visibility and greater experience (having been through this before)<br>
to get a few things right (like more compatibility with existing<br>
and upcoming standards) up front, meanwhile, we're not as pressured<br>
to just cobble something together to get it to work because, I suspect,<br>
most of us _have_ working, adequate Linux (Intel) machines on the<br>
other side of our desks (I know I do, though it's been powered off<br>
for several days now ;-).  So, we get to take our time and do things<br>
right, not do them NOW and then try to fix them later and risk upsetting<br>
the installed base we've created.<br>
<p>
Sixth, it's probably the case now that most of the "hacker" software<br>
you depend on has not been "hacked" with the same attitude you<br>
believe is so important for a _very_ long time.  That is, you're<br>
_already_ sitting on the shoulders of those who, while they might have<br>
started out as "d**n the standards, full speed ahead!"-type hackers,<br>
if they're still doing useful work on the same products, it's likely<br>
to be along the lines of making them more portable, more standard-<br>
and expectation-conforming, and other stuff that attracts more,<br>
instead of fewer, developers to work on them.  If you're still running<br>
a version of Linux prior to around 0.99.15, and all your GNU software<br>
dates from that era, then I'm wrong, but you're a big exception --<br>
most of us were happy to install new versions of software improved<br>
to be more standard-conforming (e.g. POSIX).  I much prefer being<br>
able to switch relatively painlessly among the machines I use<br>
frequently these days -- Linux/Intel, SPARC/SunOS, HPPA/HP-UX<br>
(though the gratuitous incompatibilities in the latter are<br>
frustrating) -- than having a somewhat less powerful, if perhaps<br>
more "elegant" and "cool", Linux/something system that is hard<br>
to port stuff outward to the other machines I'm using.  (It's not<br>
so much that I don't love writing incompatible stuff when I think<br>
it's better than what came before -- I do -- it's just that you<br>
don't get lots of users, and especially other developers, that way,<br>
so be prepared to remain in a technological cul-de-sac.)<br>
<p>
For example, if you're using gcc, Emacs, or most any other piece<br>
of GNU software, or X, etc., you're already using software that<br>
has much of its present development thrust devoted to things like<br>
compatibility, portability, hardware independence, rather than things<br>
like you seem to want for Linux/Alpha.<br>
<p>
Seventh, nothing prevents newbies coming along and writing a _new_ Alpha<br>
OS that has no concerns for compatibility, careful crafting, etc. --<br>
just get something nifty up and running -- other than the issues I've<br>
shown above.  E.g. price, and the fact that their OS _won't_ be the<br>
only free OS available, and _will_ likely be less stable than the<br>
alternative (Linux), and will _probably_ be a worse performer in the<br>
long run...so, maybe if we all stopped doing our work, someone would<br>
come along and do the kind of incompatible hacker OS you yearn for,<br>
but none of us want to depend on that to get our Alphas up and running<br>
on a free OS, you understand.<br>
<p>
So, rather than complaining, perhaps you'd get a lot of satisfaction<br>
(and, down the road, we'd get another really great developer, assuming<br>
you consider yourself a newbie at this point) by starting as Linus<br>
did -- try to get a simple bit of kernel code to demonstrate switching<br>
between processes on your Alpha.  You'll probably have as much or _less_<br>
trouble finding the info you need to do that.  From there, grow your<br>
own OS, and if you avoid existing designs (e.g. UNIX), you get to design<br>
it too!  Lots of people have done this, by the way, on Intels -- however,<br>
only Linus has succeeded so far, I believe, in producing a system from<br>
humble beginnings like this that is self-sustaining due to having so many<br>
developers worldwide committed to its success.  (Even g77 hasn't reached<br>
this point; that is, the people who are committed to its success aren't<br>
developers.)  But, that shouldn't dissuade you, it certainly wasn't<br>
something Linus worried a lot about in the early days, he just made a few<br>
really "right" decisions (like going with UNIX, going with the GPL, etc.) to<br>
go along with all his hard work.  (If I've got any of this wrong, I'm sure<br>
he'll chime in, if he hasn't already.)<br>
<p>
        tq vm, (burley)<br>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0331.html">Ka'plaagh  21-May-1996 1624 +0100: "Re: DEC Unix binary compatibility for Linux"</a>
<li> <b>Previous message:</b> <a href="0329.html">Przemek Klosowski: "Re: DEC Unix binary compatibility for Linux"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
