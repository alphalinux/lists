<!-- received="Tue Feb  6 20:06:53 1996 " -->
<!-- sent="Tue, 6 Feb 96 20:06:53 -0800" -->
<!-- name="David Paul Zimmerman" -->
<!-- email="dpz@apple.com" -->
<!-- subject="Re: Sound v.s. Ethernet on AlphaStation 250? (fwd)" -->
<!-- id="9602070406.AA01687@alink-gw.apple.com" -->
<!-- inreplyto="Sound v.s. Ethernet on AlphaStation 250? (fwd)" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: Sound v.s. Ethernet on AlphaStation 250? (fwd)</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: Sound v.s. Ethernet on AlphaStation 250? (fwd)</h2>

<b>David Paul Zimmerman</b> (<a href="mailto:dpz@apple.com"><i>dpz@apple.com</i></a>)<br>
<i>Tue, 6 Feb 96 20:06:53 -0800</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#39">[ date ]</a><a href="index.html#39">[ thread ]</a><a href="subject.html#39">[ subject ]</a><a href="author.html#39">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0040.html">Morita: "Re:f2c"</a>
<li> <b>Previous message:</b> <a href="0038.html">Jay Estabrook - Alpha Migration Tools - LINUX Project: "Re: Woo-hoo, X on an AlphaStation 400"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0043.html">Jay Estabrook - Alpha Migration Tools - LINUX Project: "Re: Sound v.s. Ethernet on AlphaStation 250? (fwd)"</a>
<li> <b>Reply:</b> <a href="0043.html">Jay Estabrook - Alpha Migration Tools - LINUX Project: "Re: Sound v.s. Ethernet on AlphaStation 250? (fwd)"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
<i>&gt;Yes, and no... :-)</i><br>
<p>
Great! and Damn! :-)<br>
<p>
<i>&gt;If you are booting LINUX from ARC via MILO, you could change the kernel's</i><br>
<i>&gt;setup of the IRQ's assigned to the PCI slots in arch/alpha/kernel/bios32.c</i><br>
<i>&gt;fixup code (ie in the code that inits the PIRQ registers).</i><br>
<p>
I'm actually using aboot 0.3... for some strange reason, I'm a little <br>
reluctant to blow away flashware, and SRM w/aboot is more familiar <br>
SunOS/BSD territory for me.  But your pointer to bios32.c was very <br>
helpful.<br>
<p>
<i>&gt;The PCI "slot" that the TGA is in may currently be setup in the PIRQs with</i><br>
<i>&gt;IRQ 15, for example; simply switch whatever the TGA slot's IRQ for IRQ 9 in</i><br>
<i>&gt;the PIRQ setup code, thus giving the DE435 the non-conflicting IRQ, as the</i><br>
<i>&gt;TGA doesn't use its IRQ anyway.</i><br>
<p>
Just for kicks, I tried physically swapping the TGA and the DE435 PCI <br>
cards, but IRQ 9 moved with the DE435.  It weirded me out for a second, <br>
but seemed to make it clear that maybe what I really wanted to do was <br>
tell bios32.c either that interrupt 9 wasn't available for allocation <br>
(since it isn't, eh?), or at least sort it behind my only remaining <br>
unused PCI interrupt - IRQ 10.  Having done the latter, I'm still having <br>
the same trouble with hearing traffic, but the card did take IRQ 10 (and <br>
a lot of &lt;sc ...&gt; console errors went away), so I think I'm on the right <br>
track.<br>
<p>
I notice that an ifconfig shows the errant Ethernet as not having a base <br>
address.  Could be related :-)<br>
<p>
<i>&gt;BTW, the AS250 is a *nice* box, quite fast from all I've heard... :-)</i><br>
<p>
'Tis true!  Small and ripping fast.  Nice array of standard ports, too... <br>
I needed some extra disk space, so I just grabbed a Sun SCSI disk, threw <br>
it on the external micro-SCSI connector, and went to town.<br>
<p>
<i>&gt;From the config file, MSS_DMA was set to 0; if this card is at all like the</i><br>
<i>&gt;"card" built into the MULTIA/UDB, it will use DMA 3. And note that the MULTIA</i><br>
<i>&gt;"card" is hardwired to the adress/IRQ/DMA, ie there's no registers for setting</i><br>
<i>&gt;them as on a normal MSS. Now, this may be incorrect info for the card in the</i><br>
<i>&gt;AS250, so your mileage may vary. If your card *has* those registers, it should</i><br>
<i>&gt;be settable to avoid IRQ 9, by choosing some other IRQ that's free.</i><br>
<p>
The card has jumpers for rehoming the I/O base address, but apparently <br>
not the IRQ.  The AlphaStation 250 User Information manual says that the <br>
PCXBJ device sits on slot 2, at IOBASE 530, 388 (eh?), with DMAmode and <br>
chan 0, 1 (eh?), and IRQ 9.  SRM's "iconfig" utility tells me that SRM's <br>
add_sound macro chooses I/O 530, IRQ 9, and DMA 0.  That's why I tried <br>
using DMA 0, at least.  Having worked around the IRQ issue, I'm leaving <br>
the sound device unconfigured for now, though I'd like to get it working <br>
at some point.<br>
<p>
<i>&gt;Do you have any machine and/or soundcard specs for this beastie? If not, I</i><br>
<i>&gt;may know someone who is at least familiar with it enough to confirm/deny our</i><br>
<i>&gt;suspicions...</i><br>
<p>
Painfully few.  I'm going on scraps of info that the 250 User Info manual <br>
has (which only sporadically includes sound card info in its various <br>
tables) and output from SRM's iconfig (which I tend to trust a little <br>
more).<br>
<p>
dp<br>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0040.html">Morita: "Re:f2c"</a>
<li> <b>Previous message:</b> <a href="0038.html">Jay Estabrook - Alpha Migration Tools - LINUX Project: "Re: Woo-hoo, X on an AlphaStation 400"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0043.html">Jay Estabrook - Alpha Migration Tools - LINUX Project: "Re: Sound v.s. Ethernet on AlphaStation 250? (fwd)"</a>
<li> <b>Reply:</b> <a href="0043.html">Jay Estabrook - Alpha Migration Tools - LINUX Project: "Re: Sound v.s. Ethernet on AlphaStation 250? (fwd)"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
