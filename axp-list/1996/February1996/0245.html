<!-- received="Mon Feb 26 16:43:31 1996 " -->
<!-- sent="Mon, 26 Feb 1996 16:43:31 -0500 (EST)" -->
<!-- name="D. Jeff Dionne" -->
<!-- email="jeff@maribor.pfnet.com" -->
<!-- subject="Re: NoName problems [long]" -->
<!-- id="199602262143.QAA00258@maribor.pfnet.com" -->
<!-- inreplyto="NoName problems [long]" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: NoName problems [long]</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: NoName problems [long]</h2>

<b>D. Jeff Dionne</b> (<a href="mailto:jeff@maribor.pfnet.com"><i>jeff@maribor.pfnet.com</i></a>)<br>
<i>Mon, 26 Feb 1996 16:43:31 -0500 (EST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#245">[ date ]</a><a href="index.html#245">[ thread ]</a><a href="subject.html#245">[ subject ]</a><a href="author.html#245">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0246.html">Noah Lee Gibbs: "Re: Linux/Alpha getegid() &amp; elm"</a>
<li> <b>Previous message:</b> <a href="0244.html">Erik Troan: "Re: Linux/Alpha getegid() &amp; elm"</a>
<li> <b>Maybe in reply to:</b> <a href="0205.html">Conor McCarthy: "NoName problems [long]"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Forwarded message:<br>
<i>&gt; From <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> Sat Feb 24 17:34:21 1996</i><br>
<i>&gt; Resent-Date: Sat, 24 Feb 1996 16:00:04 -0500</i><br>
<i>&gt; Message-Id: &lt;9602242053.AA17975@brillig.amt.tay1.dec.com&gt;</i><br>
<i>&gt; To: <a href="mailto:Conor.McCarthy@ucd.ie">Conor.McCarthy@ucd.ie</a></i><br>
<i>&gt; Cc: <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a></i><br>
<i>&gt; Subject: Re: NoName problems [long] </i><br>
<i>&gt; In-Reply-To: Your message of Sat, 24 Feb 96 16:26:15 +0000.</i><br>
<i>&gt; 	&lt;<a href="mailto:2BFCFC824E3@cclana.ucd.ie">2BFCFC824E3@cclana.ucd.ie</a>&gt; </i><br>
<i>&gt; Date: Sat, 24 Feb 96 15:53:46 -0500</i><br>
<i>&gt; From: "Jay Estabrook - Alpha Migration Tools - LINUX Project" &lt;<a href="mailto:jestabro@brillig.amt.tay1.dec.com">jestabro@brillig.amt.tay1.dec.com</a>&gt;</i><br>
<i>&gt; X-Mts: smtp</i><br>
<i>&gt; Resent-Message-ID: &lt;"0S6cI1.0.fd3.KntBn"@redhat.com&gt;</i><br>
<i>&gt; Resent-From: <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a></i><br>
<i>&gt; Reply-To: <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a></i><br>
<i>&gt; X-Mailing-List: &lt;<a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>&gt; archive/latest/385</i><br>
<i>&gt; X-Loop: <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a></i><br>
<i>&gt; Precedence: list</i><br>
<i>&gt; Resent-Sender: <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a></i><br>
<i>&gt; X-URL: <a href="http://www.redhat.com">http://www.redhat.com</a></i><br>
<i>&gt; </i><br>
<i>&gt; </i><br>
<i>&gt; &gt; I have flashed the Blade MILO, and that works fine, I can load MILO</i><br>
<i>&gt; &gt; from flash, and also directly from floppy without any problems. The</i><br>
<i>&gt; &gt; problems start when I try to load the kernel from floppy to install</i><br>
<i>&gt; &gt; BLADE. The following messages occur intermittently:</i><br>
<i>&gt; &gt;  </i><br>
<i>&gt; &gt;  unable to send byte 7 to FDC status=c0</i><br>
<i>&gt; &gt;  </i><br>
<i>&gt; &gt;  floppy0: timeout handler died: do_fd_request</i><br>
<i>&gt; &gt;  </i><br>
<i>&gt; &gt;  floppy0 unexpected interrupt</i><br>
<i>&gt; &gt;   sensei</i><br>
<i>&gt; &gt;   1c0</i><br>
<i>&gt; &gt;   10 </i><br>
<i>&gt; &gt;   sensei </i><br>
<i>&gt; &gt;   1c1</i><br>
<i>&gt; &gt;   10     [etc...]</i><br>
<i>&gt; &gt; </i><br>
<p>
Yes, I get these as well by the truck load.<br>
<p>
<i>&gt; &gt; while trying to load the kernel, and trying to load the root floppy</i><br>
<i>&gt; &gt; into memory. </i><br>
<i>&gt; </i><br>
<i>&gt; Alpha floppy support in older MILOs and kernels was notoriously flakey,</i><br>
<i>&gt; at least in my experience. More recent MILOs and kernels seem to be better.</i><br>
<i>&gt; </i><br>
<p>
And newer kernels seem to make it toleralble to so extent, but by no means is<br>
it fixed.  As you have said later, you can start the thing if you don't load<br>
into ramdisk.<br>
<p>
I managed to get a working system, but the floppy stuff causes these errors<br>
so often, and hang the machine so often, that I could not use the BLADE_0.3<br>
automated install (such as it is), and had to manually extract every little<br>
piece, and reboot often.<br>
<p>
This reminds of the troubles that some of us had with floppy support <br>
back around 0.99-1.0 (I'm sure it's a different problem, though :-)<br>
That got fixed, so I'm not concerend about it, really.<br>
<p>
These machine checks are troubling me to a greater extent, and unlike a <br>
buggy floppy driver that will get fixed, if there is something wrong with<br>
my hardware, this does concern me.<br>
<p>
MILO-1.3.57 reports a machine check for reason unknown, then goes on and<br>
reports a write to unimplemented b-cache memory, and "lots of other<br>
unrecoverable errors occured"  This seems to have something to do with <br>
allocating memory for unziping the kernel.  MOST of the time, things<br>
continue after this, but after a while the kernel may or may not have<br>
another machine check, and if it does, the system often hangs.<br>
<p>
My system configuration is like this...<br>
<p>
Noname, with 166 MHz CPU<br>
0 cache RAM<br>
8Meg 36bit 60ns RAM (2 4Meg SIMMS, of course, tried both banks, just in case)<br>
<p>
Is this a problematic configuration?  Does MILO need cache RAM, or is it<br>
just trying to find out if there is any to use?<br>
<p>
BTW, I'm new to this channel, and since this reads rather negative, I <br>
would like to thank everyone for their most excellent work on it, in<br>
spite of my seeming negative, Linux/Alpha is one hell of a great system!<br>
<p>
Thanks again,<br>
Jeff Dionne,<br>
<a href="mailto:Jeff@maribor.pfnet.com">Jeff@maribor.pfnet.com</a><br>
<p>
<i>&gt; </i><br>
<i>&gt; &gt; I can start linux, but *only* if I leave the root fs on fd0 and not </i><br>
<i>&gt; &gt; in a ramdisk. Every time I try to use a ramdisk it hangs part way </i><br>
<i>&gt; &gt; though loading into memory (mostly between 5 and 20 seconds into </i><br>
<i>&gt; &gt; loading).</i><br>
<i>&gt; </i><br>
<i>&gt; Later (1.3.48+) kernels require different sytax for loading RAMdisk:</i><br>
<i>&gt; </i><br>
<i>&gt; 	boot fd0:vmlinux.gz load_ramdisk=1 root=/dev/fd0</i><br>
<i>&gt; </i><br>
<i>&gt; instead of the older:</i><br>
<i>&gt; </i><br>
<i>&gt; 	boot fd0:vmlinux.gz root=/dev/fd0 ramdisk=1440</i><br>
<i>&gt; </i><br>
<i>&gt; Try a recent kernel with the appropriate command, it may react better.</i><br>
<i>&gt; </i><br>
<i>&gt; </i><br>
<i>&gt; &gt; Also I get machine checks from time to time:</i><br>
<i>&gt; &gt; lca: machine check (la=0xffffffc0:00002084d0)</i><br>
<i>&gt; &gt;  unknown error log size 408</i><br>
<i>&gt; &gt; PC=ffffffc0:00003f7e78 PS=0003</i><br>
<i>&gt; </i><br>
<i>&gt; Do you "set MEMORY_SIZE 16" when MILO comes up? Or does MILO indicate that</i><br>
<i>&gt; it thinks there's only 16Mb of memory? If it thinks there's more, this can</i><br>
<i>&gt; often cause the above machine check message...</i><br>
<i>&gt; </i><br>
<i>&gt; Also, if the memory SIMMS are x32 and *not* x36 (ie nonparity vs parity),</i><br>
<i>&gt; some Alpha lowest-level firmware is known to have real problems setting it</i><br>
<i>&gt; up...</i><br>
<i>&gt; </i><br>
<i>&gt; </i><br>
<i>&gt; &gt; If I use fd0 for the root fs, I can run fdisk, but I get loads </i><br>
<i>&gt; &gt; of unaligned traps, for example hitting p causes 3/4 consecutive</i><br>
<i>&gt; &gt; traps about 50% of the time.</i><br>
<i>&gt; &gt;  fdisk(33): unaligned trap at 00000001:20005d00:</i><br>
<i>&gt; &gt;                               00000001:40003906 2c21</i><br>
<i>&gt; &gt; Since I tried to partition the disk, from then on whenever MILO/kernel</i><br>
<i>&gt; &gt; does a partition check on hda, further traps occur.</i><br>
<i>&gt; </i><br>
<i>&gt; Unaligned traps are *NOT* indicative of hardware problems, but *software*</i><br>
<i>&gt; ones. FDISK, as a user of the MSDOS partition table and FS structures,</i><br>
<i>&gt; *will* do unaligned memory accesses (32 or 64 bit load/store on non-32 or</i><br>
<i>&gt; non-64 bit boundary, a no-no on the Alpha), because of the data structures</i><br>
<i>&gt; involved. These messages indicate simply that the kernel took an unaligned</i><br>
<i>&gt; access exception while running FDISK, and FIXED IT UP! Just ignore them...</i><br>
<i>&gt; </i><br>
<i>&gt; </i><br>
<i>&gt; &gt; I have tried newer MILO/kernels, same messages, except for when MILO</i><br>
<i>&gt; &gt; starts:</i><br>
<i>&gt; &gt;  ..</i><br>
<i>&gt; &gt;  hda: Quantum Fireball 1080 ...</i><br>
<i>&gt; &gt;  hda: IRQ probe failed (-4)           &lt;&lt; new error</i><br>
<i>&gt; &gt;  ide0 at 0x1f0-0x1f7, 0x3f6 on IRQ 14</i><br>
<i>&gt; </i><br>
<i>&gt; Yeah, I noticed this recently as well, it didn't used to say that... :-(</i><br>
<i>&gt; </i><br>
<i>&gt; However, things seem to work fine in spite of the message, on the boxes</i><br>
<i>&gt; where I've seen it.</i><br>
<i>&gt; </i><br>
<i>&gt; </i><br>
<i>&gt; &gt; and trying ls fd0: while running MILO sometimes causes:</i><br>
<i>&gt; &gt;  floppy0: timeout handler died: normal interrupt end.</i><br>
<i>&gt; &gt; </i><br>
<i>&gt; &gt; I have tried 3 different floppy drives, and cables (including a</i><br>
<i>&gt; &gt; 2.88MB drive, since my 1.44s are ageing a little), all of which</i><br>
<i>&gt; &gt; work fine with a DOS/386, and replaced the IDE cable. I had a </i><br>
<i>&gt; &gt; friend check the memory for parity errors running Checkit on his </i><br>
<i>&gt; &gt; DOS 486, all ok (though I believe that may not be conclusive).</i><br>
<i>&gt; &gt; </i><br>
<i>&gt; &gt; Has anybody any idea what the cause of these errors can be?</i><br>
<i>&gt; &gt; In particular, I suspect the memory might not be happy in the</i><br>
<i>&gt; &gt; alpha, has anybody had trouble with any SIMMs that just plain</i><br>
<i>&gt; &gt; refuse to work?</i><br>
<i>&gt; </i><br>
<i>&gt; Well, the only things I can suggest:</i><br>
<i>&gt; </i><br>
<i>&gt; 1. try using the latest MILO from floppy, as well as the latest kernels,</i><br>
<i>&gt;    in hopes that the floppy drivers will be more tolerant.</i><br>
<i>&gt; </i><br>
<i>&gt; 2. try using fresh floppies, with fresh low-level formatting and FS, maybe</i><br>
<i>&gt;    even formatted and filled on the same floppy drive.</i><br>
<i>&gt; </i><br>
<i>&gt; 3, check out the SIMM types and sizes, as some combinations of type and size</i><br>
<i>&gt;    seems to cause problems on certain boxes, NONAME being one such...</i><br>
<i>&gt; </i><br>
<i>&gt; 4. make sure MILO knows or has been told the correct total memory size.</i><br>
<i>&gt; </i><br>
<i>&gt; Good luck, let us know how you make out.</i><br>
<i>&gt; </i><br>
<i>&gt; --Jay++</i><br>
<i>&gt; </i><br>
<i>&gt; -------------------------------------------------------------------------------</i><br>
<i>&gt;   American Non Sequitur Society: we don't make sense, but we do like pizza...</i><br>
<i>&gt; </i><br>
<i>&gt; Jay A Estabrook                         Alpha Migration Tools</i><br>
<i>&gt; Mailstop: TAY1-2                        (DTN) 227-4202</i><br>
<i>&gt; Digital Equipment Corp.                 (external) (508) 952-4202</i><br>
<i>&gt; 151 Taylor Street                       enet: <a href="mailto:jestabro@amt.tay1.dec.com">jestabro@amt.tay1.dec.com</a></i><br>
<i>&gt; Littleton, MA 01460-1407                decnet: tallis::jestabro</i><br>
<i>&gt; -------------------------------------------------------------------------------</i><br>
<i>&gt; </i><br>
<i>&gt; --</i><br>
<i>&gt; To unsubscribe: mail -s unsubscribe <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> &lt; /dev/null</i><br>
<i>&gt; </i><br>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0246.html">Noah Lee Gibbs: "Re: Linux/Alpha getegid() &amp; elm"</a>
<li> <b>Previous message:</b> <a href="0244.html">Erik Troan: "Re: Linux/Alpha getegid() &amp; elm"</a>
<li> <b>Maybe in reply to:</b> <a href="0205.html">Conor McCarthy: "NoName problems [long]"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
