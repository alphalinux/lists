<!-- received="Tue Nov 19 18:20:47 1996 " -->
<!-- sent="20 Nov 2016 01:18:32 +0100" -->
<!-- name="Martin Budsjo" -->
<!-- email="marbud@tripnet.se" -->
<!-- subject="XF86_S3 server problems." -->
<!-- id="199611192308.PAA20782@ike.itd.ucdavis.edu" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>XF86_S3 server problems.</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>XF86_S3 server problems.</h2>

<b>Martin Budsjo</b> (<a href="mailto:marbud@tripnet.se"><i>marbud@tripnet.se</i></a>)<br>
<i>20 Nov 2016 01:18:32 +0100</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#837">[ date ]</a><a href="index.html#837">[ thread ]</a><a href="subject.html#837">[ subject ]</a><a href="author.html#837">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0838.html">Dam Son: "Problem exiting X when PPP is running"</a>
<li> <b>Previous message:</b> <a href="0836.html">John Kinsella: "Re: Now that Comdex is happening"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
When i start the S3 server (mmio_928) on my EB66/233 system it<br>
fails. I have a S3 Trio64 PCI grapics card. The chip is labled<br>
86C764X. If i run Linux 2.1.10 or 2.0.18 does not seem to matter.<br>
<p>
One strange thing is that the S3 server don't probe the memorybase<br>
address itself, I got that adress from /proc/pci. (and it seems<br>
resonably correct)<br>
<p>
Output from X starting up:<br>
<p>
[root@agilis log]# X<br>
XFree86 Version 3.2 / X Window System<br>
(protocol Version 11, revision 0, vendor release 6100)<br>
Release Date: Oct 26 1996<br>
	If the server is older than 6-12 months, or if your card is newer<br>
	than the above date, look for a newer version before reporting<br>
	problems.  (see <a href="http://www.XFree86.Org/FAQ">http://www.XFree86.Org/FAQ</a>)<br>
Operating System: Linux [ELF] <br>
Configured drivers:<br>
  S3: accelerated server for S3 graphics adaptors (Patchlevel 0)<br>
      mmio_928, s3_generic, newmmio<br>
(using VT number 7)<br>
<p>
XF86Config: /usr/X11R6/lib/X11/XF86Config<br>
(**) stands for supplied, (--) stands for probed/default values<br>
(**) Mouse: type: PS/2, device: /dev/mouse, baudrate: 1200,<br>
       3 button emulation (timeout: 50ms)<br>
(**) S3: Graphics device ID: "S3 64v"<br>
(**) S3: Monitor ID: "PCXBV"<br>
(--) S3: Mode "640x480" needs hsync freq of 36.46 kHz. Deleted.<br>
(--) S3: Mode "800x600" needs hsync freq of 48.08 kHz. Deleted.<br>
(--) S3: Mode "1024x768" needs hsync freq of 56.48 kHz. Deleted.<br>
(--) S3: Mode "1280x1024" needs hsync freq of 64.25 kHz. Deleted.<br>
(--) S3: Mode "1280x1024" needs hsync freq of 78.86 kHz. Deleted.<br>
(**) S3: Graphics device ID: "S3 64"<br>
(**) S3: Monitor ID: "PCXBV"<br>
(**) S3: Memory Base Address: 1800000<br>
(**) FontPath set to "/usr/X11R6/lib/X11/fonts/misc/,/usr/X11R6/lib/X11/fonts/75dpi/,/usr/X11R6/lib/X11/fonts/100dpi/,/usr/X11R6/lib/X11/fonts/Type1/,/usr/X11R6/lib/X11/fonts/Speedo/"<br>
(--) S3: card type: PCI<br>
(--) S3: chipset:   Trio64 rev. 301<br>
(**) S3: chipset driver: mmio_928<br>
(**) S3: videoram:  1024k<br>
(--) S3: Ramdac type: s3_trio64<br>
(--) S3: Ramdac speed: 135<br>
(--) S3: Using Trio32/64 programmable clock (MCLK 54.886 MHz)<br>
(--) S3: Maximum allowed dot-clock: 135.000 MHz<br>
(**) S3: Mode "640x480": mode clock =  25.175<br>
(--) S3: Using 6 bits per RGB value<br>
(**) S3: Virtual resolution set to 640x480<br>
(--) S3: base address not correctly aligned to 64MB<br>
		base address changed from 0x01800000 to 0x01800000<br>
(--) S3: Local bus LAW is 0x00000000 but linear fb not usable<br>
(--) S3: Can't use local bus framebuffer - linear access disabled<br>
(--) S3: Using a banksize of 64k, line width of 640<br>
(--) S3: WARNING: S3 968 dashed line malfunction --<br>
	please report to <a href="mailto:XFree86@XFree86.Org">XFree86@XFree86.Org</a><br>
(--) S3: Using a single 64x64 area at (576,482) for expanding pixmaps<br>
(--) S3: Using 8 planes of 640x1092 at (0,546) aligned 8 as font cache<br>
XIE extension module not loaded<br>
<p>
When X gets up, i get white vertical lines all over the screen.<br>
<p>
When starting the server the most heavily accessed SCSI disk gets some<br>
errors and the following messages:<br>
<p>
<p>
Nov 20 00:19:58 agilis kernel: lca: machine check<br>
(la=0xfffffc00002084d0,pc=0x1200f3830)<br>
Nov 20 00:19:58 agilis kernel:   Reason: SIO SERR occurred on on PCI<br>
bus (long frame):<br>
Nov 20 00:19:58 agilis kernel:     reason: 300060000000000  exc_addr:<br>
1200f3830<br>
 dc_stat: 3<br>
Nov 20 00:19:58 agilis kernel:     car: 1601b95<br>
Nov 20 00:19:58 agilis kernel:  +       0 0000000000000198<br>
0000019800000110<br>
Nov 20 00:19:58 agilis kernel:  +      10 0000000100000204<br>
0300060000000000<br>
Nov 20 00:19:58 agilis kernel:  +      20 000006f800000000<br>
0000000000000000<br>
Nov 20 00:19:58 agilis kernel:  +      30 0000000000000000<br>
ffffffffffffffff<br>
<p>
This reapeat several times..<br>
<p>
I did try the S3v server, and that one does probe the memorybase<br>
address, but can't find the chip. <br>
<p>
Is something in my setup wrong? Is this a "known" bug ? Should i just<br>
forget about this graphic card?<br>
<p>
Regards				Martin<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0838.html">Dam Son: "Problem exiting X when PPP is running"</a>
<li> <b>Previous message:</b> <a href="0836.html">John Kinsella: "Re: Now that Comdex is happening"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
