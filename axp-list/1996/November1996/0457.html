<!-- received="Sat Nov  9 12:16:39 1996 " -->
<!-- sent="Sat, 9 Nov 1996 08:29:56 -0800 (PST)" -->
<!-- name="Michael Nelson" -->
<!-- email="nelson@seahunt.imat.com" -->
<!-- subject="Re: Linux-2.0.25 and 2.1.8" -->
<!-- id="199611091629.IAA07300@seahunt.imat.com" -->
<!-- inreplyto="Pine.LNX.3.91.961109115458.1013B-100000@linux.cs.Helsinki.FI" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: Linux-2.0.25 and 2.1.8</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: Linux-2.0.25 and 2.1.8</h2>

<b>Michael Nelson</b> (<a href="mailto:nelson@seahunt.imat.com"><i>nelson@seahunt.imat.com</i></a>)<br>
<i>Sat, 9 Nov 1996 08:29:56 -0800 (PST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#457">[ date ]</a><a href="index.html#457">[ thread ]</a><a href="subject.html#457">[ subject ]</a><a href="author.html#457">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0458.html">Steve Madden: "Re: NewBorn!"</a>
<li> <b>Previous message:</b> <a href="0456.html">Fude Yao: "libdl.so.2"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Linus Torvalds &lt;<a href="mailto:torvalds@cs.helsinki.fi">torvalds@cs.helsinki.fi</a>&gt; wrote:<br>
<i>&gt; </i><br>
<i>&gt; The 2.1.8 release is more "interesting", and the big thing here is the</i><br>
<i>&gt; new IPv6 code together with quite a number of cleanups for IPv4 (TCP</i><br>
<i>&gt; retransmissions are really done by TCP, not by the IP layer like they</i><br>
<i>&gt; used to be done). Thanks to Pedro for all the work on this. </i><br>
<p>
It blew up ppp for me.  It seems the strings returned from the chat<br>
script were garbled, resulting in ppp not knowing it was connected. <br>
Going back to 2.1.6 cured the problem without making any changes to the<br>
ppp binary or config files.  Here is an exerpt of an NORMAL, successful<br>
ppp connect under 2.1.6:<br>
<p>
Nov  9 04:17:26 seahunt kernel: registered device ppp0<br>
Nov  9 04:17:49 seahunt chat[114]: ATDT99999999^M^M<br>
Nov  9 04:17:49 seahunt chat[114]: CONNECT -- got it<br>
Nov  9 04:17:49 seahunt chat[114]: send (^M)<br>
Nov  9 04:17:49 seahunt chat[114]: expect (ession)<br>
Nov  9 04:17:49 seahunt chat[114]:  28800/ARQ/VFC/LAPM/V42BIS^M<br>
Nov  9 04:17:51 seahunt chat[114]: ^M<br>
Nov  9 04:17:51 seahunt chat[114]: Press &lt;RETURN&gt; to begin Login Session<br>
-- got it<br>
Nov  9 04:17:51 seahunt chat[114]: send (#####^M)<br>
Nov  9 04:17:51 seahunt chat[114]: expect (word:)<br>
Nov  9 04:17:51 seahunt chat[114]:  shppp^M<br>
Nov  9 04:17:51 seahunt chat[114]: Password: -- got it<br>
Nov  9 04:17:51 seahunt chat[114]: send (########^M)<br>
Nov  9 04:17:52 seahunt pppd[111]: Serial connection established.<br>
Nov  9 04:17:53 seahunt pppd[111]: Using interface ppp0<br>
Nov  9 04:17:53 seahunt pppd[111]: Connect: ppp0 &lt;--&gt; /dev/cua1<br>
Nov  9 04:17:55 seahunt pppd[111]: local  IP address 140.174.70.10<br>
Nov  9 04:17:55 seahunt pppd[111]: remote IP address 140.174.70.100  <br>
<p>
<p>
...and here is one using 2.1.8:<br>
<p>
Nov  9 04:12:18 seahunt pppd[440]: pppd 2.2.0 started by root, uid 0<br>
Nov  9 04:12:19 seahunt chat[441]: abort on (BUSY)<br>
Nov  9 04:12:19 seahunt chat[441]: abort on (ERROR)<br>
Nov  9 04:12:19 seahunt chat[441]: abort on (NO CARRIER)<br>
Nov  9 04:12:19 seahunt chat[441]: timeout set to 90 seconds<br>
Nov  9 04:12:19 seahunt chat[441]: send (ATDT9999999^M)<br>
Nov  9 04:12:19 seahunt chat[441]: expect (CONNECT)<br>
Nov  9 04:12:38 seahunt chat[441]: ATDT9999999^M<br>
Nov  9 04:12:38 seahunt chat[441]: CONNECT -- got it<br>
Nov  9 04:12:38 seahunt chat[441]: send (^M)<br>
Nov  9 04:12:38 seahunt chat[441]: expect (ession)<br>
Nov  9 04:12:40 seahunt chat[441]:  28800/QVFC/LAPM/V42BIS^M<br>
Nov  9 04:12:40 seahunt chat[441]: Prss &lt;RETURN&gt; to  Session -- got it<br>
Nov  9 04:12:40 seahunt chat[441]: send (######^M)<br>
Nov  9 04:12:40 seahunt chat[441]: expect (word:)<br>
Nov  9 04:12:40 seahunt chat[441]:  shppp^M<br>
Nov  9 04:12:40 seahunt chat[441]: Password: -- got it<br>
Nov  9 04:12:40 seahunt chat[441]: send (######^M)<br>
Nov  9 04:12:40 seahunt pppd[440]: Serial connection established.<br>
Nov  9 04:12:41 seahunt pppd[440]: Using interface ppp0<br>
Nov  9 04:12:41 seahunt pppd[440]: Connect: ppp0 &lt;--&gt; /dev/cua1<br>
Nov  9 04:13:11 seahunt pppd[440]: Connection terminated.<br>
Nov  9 04:13:12 seahunt chat[449]: abort on (BUSY)<br>
Nov  9 04:13:12 seahunt chat[449]: abort on (ERROR)<br>
Nov  9 04:13:12 seahunt chat[449]: abort on (NO CARRIER)<br>
Nov  9 04:13:12 seahunt chat[449]: timeout set to 90 seconds<br>
Nov  9 04:13:12 seahunt chat[449]: send (ATDT9999999^M)<br>
Nov  9 04:13:13 seahunt chat[449]: expect (CONNECT)<br>
Nov  9 04:13:18 seahunt PPPCHECK: ppp link was DOWN...<br>
Nov  9 04:13:18 seahunt pppd[456]: pppd 2.2.0 started by root, uid 0<br>
Nov  9 04:13:18 seahunt pppd[456]: Device cua1 is locked by pid 440<br>
Nov  9 04:13:18 seahunt pppd[456]: Exit.<br>
Nov  9 04:13:31 seahunt chat[449]: ATDT9999999^M<br>
Nov  9 04:13:31 seahunt chat[449]: CONNECT -- got it<br>
Nov  9 04:13:31 seahunt chat[449]: send (^M)<br>
Nov  9 04:13:31 seahunt chat[449]: expect (ession)<br>
Nov  9 04:13:31 seahunt chat[449]:  28800/IS^M<br>
Nov  9 04:13:33 seahunt chat[449]:<br>
Nov  9 04:14:18 seahunt PPPCHECK: ppp link was DOWN...<br>
Nov  9 04:14:18 seahunt pppd[470]: pppd 2.2.0 started by root, uid 0<br>
Nov  9 04:14:18 seahunt pppd[470]: Device cua1 is locked by pid 440<br>
Nov  9 04:14:18 seahunt pppd[470]: Exit.<br>
Nov  9 04:15:01 seahunt chat[449]: Prss &lt;RETURN&gt; to<br>
Nov  9 04:15:01 seahunt pppd[440]: Exit.<br>
Nov  9 04:15:01 seahunt chat[449]: alarm<br>
Nov  9 04:15:01 seahunt chat[449]: Failed<br>
Nov  9 04:15:18 seahunt PPPCHECK: ppp link was DOWN...<br>
Nov  9 04:15:18 seahunt pppd[486]: pppd 2.2.0 started by root, uid 0    <br>
          <br>
<p>
It looks to me like there are some big problems on the serial port.<br>
Strings that normally come through under 2.1.6 are garbled under 2.1.8.<br>
<p>
(pppcheck is a "keepalive" script I run, and it kept killing the ppp<br>
connection because it was unable to ping the other end of the link, in<br>
otherwords the link was not actually established... ping was returning<br>
"no route to host" errors.<br>
<p>
Anyway, back to 2.1.6 and all is well.  2.1.7 oopsed on my about once<br>
every five minutes until the machine just ran out of resources and<br>
locked up.<br>
<p>
Michael<br>
<p>
<p>
<pre>
--
Michael Nelson                            <a href="mailto:nelson@seahunt.imat.com">nelson@seahunt.imat.com</a>
San Francisco, CA                            <a href="mailto:michaeln@csd.sgi.com">michaeln@csd.sgi.com</a>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0458.html">Steve Madden: "Re: NewBorn!"</a>
<li> <b>Previous message:</b> <a href="0456.html">Fude Yao: "libdl.so.2"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
