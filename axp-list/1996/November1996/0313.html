<!-- received="Wed Nov  6 10:49:07 1996 " -->
<!-- sent="Wed, 6 Nov 1996 12:34:35 +0000 (GMT)" -->
<!-- name="Philip Blundell" -->
<!-- email="pjb27@cam.ac.uk" -->
<!-- subject="Re: 64 Bits from Larry McVoy" -->
<!-- id="c=NL%a=MARK400%p=KPMG%l=KPMG/CENEXM01/001F9C32@mailex.kpmg.nl" -->
<!-- inreplyto="9611061220.AA06870@scooter" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: 64 Bits from Larry McVoy</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: 64 Bits from Larry McVoy</h2>

<b>Philip Blundell</b> (<a href="mailto:pjb27@cam.ac.uk"><i>pjb27@cam.ac.uk</i></a>)<br>
<i>Wed, 6 Nov 1996 12:34:35 +0000 (GMT)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#313">[ date ]</a><a href="index.html#313">[ thread ]</a><a href="subject.html#313">[ subject ]</a><a href="author.html#313">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0314.html">Jim Paradis: "Re: running OSF programs?"</a>
<li> <b>Previous message:</b> <a href="0312.html">Castelijn, Maurice: "RE: RHS 4.0 INIT problem"</a>
<li> <b>In reply to:</b> <a href="0303.html">Jim Nance: "Re: 64 Bits from Larry McVoy"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0375.html">Christian Hardmeier: "Re: 64 Bits from Larry McVoy"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
On Wed, 6 Nov 1996, Jim Nance wrote:<br>
<p>
<i>&gt; When I run it I get this nice message:</i><br>
<i>&gt; </i><br>
<i>&gt; scooter&gt; ./a.out</i><br>
<i>&gt; EXT2-fs warning (device 08:18): ext2_getblk: block &gt; big</i><br>
<i>&gt; write:: Input/output error</i><br>
<i>&gt; </i><br>
<i>&gt; Now it does make a file:</i><br>
<i>&gt; scooter&gt; ls -l</i><br>
<i>&gt; total 66</i><br>
<i>&gt; -rwxrwxrwx   1 jlnance  users       14317 Nov  5 06:53 a.out*</i><br>
<i>&gt; -rw-rw-rw-   1 jlnance  users         555 Nov  5 06:53 big.c</i><br>
<i>&gt; -rw-rw-rw-   1 jlnance  users    18253611008 Nov  5 06:57 bigfile</i><br>
<i>&gt; </i><br>
<i>&gt; This file is much larger than 2G.  I think its about 18G.  The really</i><br>
<i>&gt; interesting thing is that sometimes it will spontaneously truncate itself:</i><br>
<i>&gt; </i><br>
<i>&gt; scooter&gt; dd bs=1k count=10 if=bigfile of=/dev/null</i><br>
<i>&gt; 10+0 records in</i><br>
<i>&gt; 10+0 records out</i><br>
<i>&gt; scooter&gt; ls -l</i><br>
<i>&gt; total 66</i><br>
<i>&gt; -rwxrwxrwx   1 jlnance  users       14317 Nov  5 06:53 a.out*</i><br>
<i>&gt; -rw-rw-rw-   1 jlnance  users         555 Nov  5 06:53 big.c</i><br>
<i>&gt; -rw-rw-rw-   1 jlnance  users    1073741824 Nov  5 06:57 bigfile</i><br>
<i>&gt; </i><br>
<i>&gt; Now its a 1G file :-(  I can not always force it to truncate by accessing it,</i><br>
<i>&gt; but it will always eventually truncate itself if you leave it around for</i><br>
<i>&gt; long enough and read from it enough.</i><br>
<i>&gt; </i><br>
<i>&gt; For anyone who is interested in trying to reproduce this, I used the 2.0.18</i><br>
<i>&gt; kernel supplied with RedHat 4.0, recompiled with the RedHat 4.0 compiler.</i><br>
<i>&gt; I am running on an Alphastation 200 4/166 with the SRM console.</i><br>
<p>
[phil@paddington phil]$ uname -a<br>
Linux paddington.london.uk.eu.org 2.1.7 #12-netdev Wed Nov 6 02:47:51 GMT<br>
1996 alpha<br>
[phil@paddington phil]$ ~/bigtest <br>
write:: File too large<br>
[phil@paddington phil]$ ls -l bigfile<br>
-rw-rw-r--   1 phil     phil     2147483648 Nov  6 13:30 bigfile<br>
[phil@paddington phil]$<br>
<p>
I make that a 2GB file.  Strange.  It seems that everybody is seing<br>
different behaviour from this program.<br>
<p>
This is on a UDB with (mostly) RedHat 4.0, upgraded to a newer development<br>
kernel.  I am using glibc 1.93.<br>
<p>
phil<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0314.html">Jim Paradis: "Re: running OSF programs?"</a>
<li> <b>Previous message:</b> <a href="0312.html">Castelijn, Maurice: "RE: RHS 4.0 INIT problem"</a>
<li> <b>In reply to:</b> <a href="0303.html">Jim Nance: "Re: 64 Bits from Larry McVoy"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0375.html">Christian Hardmeier: "Re: 64 Bits from Larry McVoy"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
