<!-- received="Wed Apr 23 13:43:07 1997 " -->
<!-- sent="Wed, 23 Apr 1997 13:42:27 -0400 (xyUU)" -->
<!-- name="Paul J.Y. Lahaie" -->
<!-- email="pjlahaie@atlsci.com" -->
<!-- subject="Problems compiling with glibc-2.0.3 and kernel 2.1.35." -->
<!-- id="199704231725.MAA15629@stommel.tamu.edu" -->
<!-- inreplyto=" the subject.  Do not send it to axp-list@redhat.com
" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Problems compiling with glibc-2.0.3 and kernel 2.1.35.</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Problems compiling with glibc-2.0.3 and kernel 2.1.35.</h2>

<b>Paul J.Y. Lahaie</b> (<a href="mailto:pjlahaie@atlsci.com"><i>pjlahaie@atlsci.com</i></a>)<br>
<i>Wed, 23 Apr 1997 13:42:27 -0400 (xyUU)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#978">[ date ]</a><a href="index.html#978">[ thread ]</a><a href="subject.html#978">[ subject ]</a><a href="author.html#978">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0979.html">jestabro@amt.tay1.dec.com: "Re: Boot 2.1.35 on AS255"</a>
<li> <b>Previous message:</b> <a href="0977.html">Richard Henderson: "Re: PCMCIA compiling on UDB/RH4.1 (new kernel probs)"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0983.html">Erik Troan: "Re: PCMCIA compiling on UDB/RH4.1 (new kernel probs)"</a>
<li> <b>Reply:</b> <a href="0983.html">Erik Troan: "Re: PCMCIA compiling on UDB/RH4.1 (new kernel probs)"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
    I've installed the rpms located in ftp.redhat.com:/pub/alphabits/*.rpm<br>
and can no longer compile programs due to conflicting types for struct<br>
fd_set.  This is the output of the compile:<br>
<p>
/usr/include/linux/posix_types.h:44: conflicting types for `struct fd_set'<br>
/usr/include/sys/select.h:48: previous declaration as `struct __fd_set'<br>
/usr/include/linux/posix_types.h:44: conflicting types for `struct fd_set'<br>
/usr/include/sys/select.h:88: previous declaration as `struct __fd_set'<br>
<p>
<p>
    If I look into sys/select.h, struct fd_set is defined as follows:<br>
<p>
/* Representation of a set of file descriptors.  */<br>
typedef __fd_set fd_set;<br>
<p>
<p>
    Now, if I go look for __fd_set, I get the following:<br>
<p>
/* One element in the file descriptor mask array.  */<br>
typedef unsigned int __fd_mask;<br>
<p>
/* fd_set for select and pselect.  */<br>
typedef struct<br>
  {<br>
    /* XPG4.2 requires this member name.  */<br>
    __fd_mask fds_bits[__FD_SETSIZE / __NFDBITS];<br>
  } __fd_set;<br>
<p>
<p>
    In the Linux kernel, I have the following:<br>
<p>
#define __FDSET_LONGS   (__FD_SETSIZE/__NFDBITS)<br>
<p>
typedef struct fd_set {<br>
        unsigned long fds_bits [__FDSET_LONGS];<br>
} __kernel_fd_set;<br>
<p>
   So, here, fd_set is defined as unsigned long fds_bits[__FD_SETSIZE /<br>
__NFDBITS] and previously, I get unsigned int fds_bits[__FD_SETSIZE /<br>
__NFDBITS].<br>
<p>
    Is there a fix for this?  Which definition is "wrong"?<br>
<p>
						- Paul<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0979.html">jestabro@amt.tay1.dec.com: "Re: Boot 2.1.35 on AS255"</a>
<li> <b>Previous message:</b> <a href="0977.html">Richard Henderson: "Re: PCMCIA compiling on UDB/RH4.1 (new kernel probs)"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0983.html">Erik Troan: "Re: PCMCIA compiling on UDB/RH4.1 (new kernel probs)"</a>
<li> <b>Reply:</b> <a href="0983.html">Erik Troan: "Re: PCMCIA compiling on UDB/RH4.1 (new kernel probs)"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
