<!-- received="Fri May 23 11:09:21 1997 " -->
<!-- sent="Fri, 23 May 1997 09:52:01 -0400" -->
<!-- name="J" -->
<!-- email="sundiver@hellfire.dusers.drexel.edu" -->
<!-- subject="Re:  f2c too?" -->
<!-- id="9705231352.AA46410@hellfire.dusers.drexel.edu" -->
<!-- inreplyto="f2c too?" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re:  f2c too?</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re:  f2c too?</h2>

<b>J</b> (<a href="mailto:sundiver@hellfire.dusers.drexel.edu"><i>sundiver@hellfire.dusers.drexel.edu</i></a>)<br>
<i>Fri, 23 May 1997 09:52:01 -0400</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#671">[ date ]</a><a href="index.html#671">[ thread ]</a><a href="subject.html#671">[ subject ]</a><a href="author.html#671">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0672.html">Shane DeRidder: "Quake (again)"</a>
<li> <b>Previous message:</b> <a href="0670.html">Derek Atkins: "Re: syscalls in modules"</a>
<li> <b>Maybe in reply to:</b> <a href="0676.html">Christopher J. Grayce: "f2c too?"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0732.html">Michal Jaegermann: "Re: f2c too?"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Christopher Grayce writes:<br>
<i>&gt;Retrieved f2c-19960205-8.alpha.rpm and f2c-libs-19960205-8.alpha.rpm</i><br>
<i>&gt;from Redhat 4.2 distribution and installed.  Using this source:</i><br>
<i>&gt;</i><br>
<i>&gt;       program foo</i><br>
<i>&gt;       integer i</i><br>
<i>&gt;       double precision x</i><br>
<i>&gt;       write(6,fmt='(i3," foo ",f12.6)') i,x</i><br>
<i>&gt;       stop</i><br>
<i>&gt;       end</i><br>
<i>&gt;</i><br>
<i>&gt; try:</i><br>
<i>&gt;  f2c bar.f</i><br>
<i>&gt;  gcc bar.c -lf2c -lm</i><br>
<i>&gt;  a.out</i><br>
<i>&gt;</i><br>
<i>&gt;And get the usual segmentation violation.  If I run f2c on a larger</i><br>
<i>&gt;(but still relatively trivial) Fortran program, f2c itself crashes</i><br>
<i>&gt;with a FPE ``while evaluating a constant''.  Incidentally the SIGSEGV</i><br>
<i>&gt;was recorded in /var/log/messages as "memory violation at pc=15555670864</i><br>
<i>&gt;rp=155556712d8 (bad address = 00000000).~v</i><br>
<p>
This happened to me. Suddenly I found that g77 and f2c no longer worked.<br>
They behaved as you describe above. I reinstalled gcc-2.7.2.1, glibc, and f2c<br>
from RedHat 4.1. F2c was still broken. Poked around at the libraries a bit,<br>
thinking something must be screwed up there. Couldn't find anything.<br>
Reinstalled RedHat 4.1 (as an ungrade, keeping my config files). F2c still<br>
didn't work. Finally I wiped the hard drive and did a clean install of<br>
4.1. This 'fixed' it. <br>
<p>
The only thing I can think of that may have contributed to this is that<br>
at one point I had installed glibc-2.0.2, and then later removed it. But I<br>
would think that reinstalling glibc from RedHat 4.1 would fix things then.<br>
<p>
I did find something else that is 'broken' with gcc/g77. If I compile a kernel<br>
(2.0.29) using gcc/g77 (built using my hack), smbfs doesn't work correctly.<br>
I can mount filesystems, but no files show up in the mounted filesystems.<br>
This, of course, doesn't inspire confidence, but aside from this I've<br>
seen no other bad behavior. Except of course for that mentioned above, <br>
but it seems likely that its not a gcc/g77 problem, but something else.<br>
<p>
- J<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0672.html">Shane DeRidder: "Quake (again)"</a>
<li> <b>Previous message:</b> <a href="0670.html">Derek Atkins: "Re: syscalls in modules"</a>
<li> <b>Maybe in reply to:</b> <a href="0676.html">Christopher J. Grayce: "f2c too?"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0732.html">Michal Jaegermann: "Re: f2c too?"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
