<!-- received="Tue Oct  7 04:57:35 1997 " -->
<!-- sent="Tue, 07 Oct 1997 08:53:06 -0400" -->
<!-- name="Uncle George" -->
<!-- email="gatgul@voicenet.com" -->
<!-- subject="axp/gcc the double cast gets trashed on return ( really a GDB BUG )" -->
<!-- id="199710071206.HAA25544@dfw-ix11.ix.netcom.com" -->
<!-- inreplyto=" the subject.  Do not send it to axp-list@redhat.com
" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>axp/gcc the double cast gets trashed on return ( really a GDB BUG )</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>axp/gcc the double cast gets trashed on return ( really a GDB BUG )</h2>

<b>Uncle George</b> (<a href="mailto:gatgul@voicenet.com"><i>gatgul@voicenet.com</i></a>)<br>
<i>Tue, 07 Oct 1997 08:53:06 -0400</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#137">[ date ]</a><a href="index.html#137">[ thread ]</a><a href="subject.html#137">[ subject ]</a><a href="author.html#137">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0138.html">Mark Johnson: "RE: "shutdown -r now" not reliable on a PC164"</a>
<li> <b>Previous message:</b> <a href="0136.html">eaml: "A few questions"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
--------------5882E66C177C4E5ED3A7EF8D<br>
Content-Type: text/plain; charset=us-ascii<br>
Content-Transfer-Encoding: 7bit<br>
<p>
<p>
<p>
Volker Barthelmann wrote:<br>
<p>
<i>&gt; On Mon, 6 Oct 1997, Uncle George wrote:</i><br>
<i>&gt; The code is basically broken. Reading another member of a union than the</i><br>
<i>&gt; one which was last written causes implementation defined behaviour (IMHO</i><br>
<i>&gt; it should even be undefined behaviour).</i><br>
<p>
This is not a broken feature, but rather a porting implimentation problem. The<br>
long on alpha is 64 bit, the double on a alpha is 64 bit. a union would make the<br>
space ONE. in reality quite a few people do this for the exact same reasons, so<br>
long as u understand how things are getting stored ( including packed/unpacked<br>
structs!)<br>
<p>
BTW. i ran the pgm without gdb, and it prints out the right contents,<br>
    I ran GDB without any breakpoints, and the printed values were correct.<br>
                BUT<br>
    running gdb, using  next stepping caused the values to be mixed up. SO I GUESS<br>
its a gdb/ptrace bug! (fudge!!!)<br>
<p>
<i>&gt; --</i><br>
<i>&gt; To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with</i><br>
<i>&gt; 'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a></i><br>
<p>
<p>
<p>
--------------5882E66C177C4E5ED3A7EF8D<br>
Content-Type: text/html; charset=us-ascii<br>
Content-Transfer-Encoding: 7bit<br>
<p>
<HTML>
&nbsp;

<P>Volker Barthelmann wrote:
<BLOCKQUOTE TYPE=CITE>On Mon, 6 Oct 1997, Uncle George wrote:
<BR>The code is basically broken. Reading another member of a union than
the
<BR>one which was last written causes implementation defined behaviour
(IMHO
<BR>it should even be undefined behaviour).</BLOCKQUOTE>
This is not a broken feature, but rather a porting implimentation problem.
The long on alpha is 64 bit, the double on a alpha is 64 bit. a union would
make the space <I>ONE. </I>in reality quite a few people do this for the
exact same reasons, so long as u understand how things are getting stored
( including packed/unpacked structs!)

<P>BTW. i ran the pgm without gdb, and it prints out the right contents,
<BR>&nbsp;&nbsp;&nbsp; I ran GDB without any breakpoints, and the printed
values were correct.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
BUT
<BR>&nbsp;&nbsp;&nbsp; running gdb, using&nbsp; next stepping caused the
values to be mixed up. SO I GUESS its a gdb/ptrace bug! (fudge!!!)
<BLOCKQUOTE TYPE=CITE>

<P>--
<BR>To unsubscribe: send e-mail to axp-list-request@redhat.com with
<BR>'unsubscribe' as the subject.&nbsp; Do not send it to axp-list@redhat.com</BLOCKQUOTE>
&nbsp;</HTML>

--------------5882E66C177C4E5ED3A7EF8D--

--
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0138.html">Mark Johnson: "RE: "shutdown -r now" not reliable on a PC164"</a>
<li> <b>Previous message:</b> <a href="0136.html">eaml: "A few questions"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
