<!-- received="Sun Oct  5 16:08:58 1997 " -->
<!-- sent="Sun, 05 Oct 1997 20:04:30 +0500" -->
<!-- name="jestabro@amt.tay1.dec.com" -->
<!-- email="jestabro@amt.tay1.dec.com" -->
<!-- subject="Console Clock Setting, The Definitive Answer" -->
<!-- id="199710060004.UAA10877@alpha1.estabrook.org" -->
<!-- inreplyto="Pine.SUN.3.95.971005134001.17607A-100000@katie.vnet.net" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Console Clock Setting, The Definitive Answer</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Console Clock Setting, The Definitive Answer</h2>

<a href="mailto:jestabro@amt.tay1.dec.com"><i>jestabro@amt.tay1.dec.com</i></a><br>
<i>Sun, 05 Oct 1997 20:04:30 +0500</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#93">[ date ]</a><a href="index.html#93">[ thread ]</a><a href="subject.html#93">[ subject ]</a><a href="author.html#93">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0094.html">jestabro@amt.tay1.dec.com: "Re: Several Questions Regarding Digital UDB &amp; RedHat 4.1/4.2"</a>
<li> <b>Previous message:</b> <a href="0092.html">Andreas Johansson: "Re: Real time MPEG encoding"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0098.html">tfreeman: "Re: Console Clock Setting, The Definitive Answer"</a>
<li> <b>Reply:</b> <a href="0098.html">tfreeman: "Re: Console Clock Setting, The Definitive Answer"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
NOTE: the below is true for *ALL* Linux/Alpha platforms, not just UDB.<br>
<p>
Note also, this is the VERY LAST TIME I'm going to go through this, so<br>
you'd better burn this into your brains, save the posting, or get someone<br>
somewhere to make this part of *ANY* Linux/Alpha FAQ. PLEASE!!!!!<br>
<p>
------------------------------------------------------------------------<br>
<p>
ARC console and SRM console keep dates in the time-of-year (TOY) clock<br>
in slightly different formats (actually, only the "year" field differs).<br>
<p>
The "/sbin/clock" binary normally expects the format which SRM uses; you<br>
can, however, tell it to expect ARC format instead, using the "-A" flag.<br>
Thus, to read the clock when its kept in ARC format, say "clock -r -A",<br>
and to write it, "clock -w -A". If its not written in the expected format,<br>
the console (ARC or SRM) will prolly complain about it the next time it<br>
has a chance... :-\<br>
<p>
The best way to ensure you're using the correct format, is to set the date<br>
via the console's date-setting facility; under ARC, it's a menu item some<br>
place, under SRM it's a command (IIRC; try "help date").<br>
<p>
Then you must ensure that the "clock" call in the RH script<br>
/etc/rc.d/rc.sysconfig KNOWS WHAT FORMAT TO READ THE TOY IN!!!!<br>
<p>
If you're using ARC console to boot MILO/kernel, do:<br>
<p>
1. running RH 4.1, make sure /etc/sysconfig/clock contains:<br>
<p>
	CLOCKMODE="ARC"<br>
<p>
2. running RH 4.2, make sure /etc/sysconfig/clock contains (at least):<br>
<p>
	ARC=true<br>
<p>
Now, If you're using SRM console to directly boot a kernel, then:<br>
<p>
1. RH 4.1, same file, set CLOCKMODE=""<br>
<p>
2. RH 4.2, same file, set ARC=false<br>
<p>
Refer to /etc/rc.d/rc.sysconfig for details about how the above are used<br>
to call "clock" with the appropriate arguments.<br>
<p>
Thank you all for your attention.<br>
<p>
--Jay++<br>
<p>
-------------------------------------------------------------------------------<br>
  American Non Sequitur Society: we don't make sense, but we do like pizza...<br>
<p>
Jay A Estabrook                         Alpha Migration Tools - LINUX Project<br>
Digital Equipment Corp.                 (508) 952-4202 or (DTN) 227-4202<br>
151 Taylor Street - TAY1-2              enet: <a href="mailto:jestabro@amt.tay1.dec.com">jestabro@amt.tay1.dec.com</a><br>
Littleton, MA 01460-1407                decnet: tallis::jestabro<br>
-------------------------------------------------------------------------------<br>
<p>
<p>
<p>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0094.html">jestabro@amt.tay1.dec.com: "Re: Several Questions Regarding Digital UDB &amp; RedHat 4.1/4.2"</a>
<li> <b>Previous message:</b> <a href="0092.html">Andreas Johansson: "Re: Real time MPEG encoding"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0098.html">tfreeman: "Re: Console Clock Setting, The Definitive Answer"</a>
<li> <b>Reply:</b> <a href="0098.html">tfreeman: "Re: Console Clock Setting, The Definitive Answer"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
