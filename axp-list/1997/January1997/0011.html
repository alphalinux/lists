<!-- received="Wed Jan  1 17:03:29 1997 " -->
<!-- sent="Wed, 1 Jan 1997 15:51:32 -0500 (EST)" -->
<!-- name="Jim Nance" -->
<!-- email="jlnance@avanticorp.com" -->
<!-- subject="Re: Your UDB Questions (new)" -->
<!-- id="9701012051.AA09887@halfpint.rtp.avanticorp.com" -->
<!-- inreplyto="199701011646.JAA19656@ellpspace.math.ualberta.ca" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: Your UDB Questions (new)</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: Your UDB Questions (new)</h2>

<b>Jim Nance</b> (<a href="mailto:jlnance@avanticorp.com"><i>jlnance@avanticorp.com</i></a>)<br>
<i>Wed, 1 Jan 1997 15:51:32 -0500 (EST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#11">[ date ]</a><a href="index.html#11">[ thread ]</a><a href="subject.html#11">[ subject ]</a><a href="author.html#11">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0012.html">RHS Linux User: "Re: Kernel Compiles"</a>
<li> <b>Previous message:</b> <a href="0010.html">Rich McClellan: "Re: Your UDB Questions"</a>
<li> <b>In reply to:</b> <a href="0005.html">Michal Jaegermann: "Re: Your UDB Questions (new)"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
<i>&gt; &gt; gcc:</i><br>
<i>&gt; &gt; 43.239u 3.444s 1:02.81 74.3% 1+21k 289+1744io 81pf+0w</i><br>
<i>&gt;                                        ^^^^^^^^^^^</i><br>
<i>&gt; &gt; cc:</i><br>
<i>&gt; &gt; 21.356u 1.841s 0:26.18 88.5% 0+56k 1+351io 1pf+0w</i><br>
<p>
<i>&gt; Hm, these numbers are highly significant, especially if you have</i><br>
<i>&gt; a slower controller/disk combo.  Your disk speed will affect</i><br>
<i>&gt; timings to a great degree.   I wonder why so many page faults</i><br>
<i>&gt; with gcc and so much of IO.  gcc is known to eat any amount of</i><br>
<i>&gt; memory in its optimizer :-), but these look high.</i><br>
<p>
OK, I should have been more explicit.  The these numbers come from<br>
running the command:<br>
<p>
time make<br>
<p>
and <br>
<p>
time make 'CC=cc -std1 -newc'<br>
<p>
With the gnuplot-3.5 source and an empty autoconfg file.<br>
I ran each test twice, and included both sets of numbers.  The one you<br>
are refering to was the first run so the caches were cold.  The line<br>
right under it was the next run which should have warm caches, and<br>
these numbers are lower.  I don't have my original post in front<br>
of me, but I think that it only ran 4 seconds faster the second time.<br>
<p>
<i>&gt; Were these tests run on a similarly loaded machine?  Multiple</i><br>
<i>&gt; times (caching may affect results)?  Did you try to use --pipe</i><br>
<i>&gt; option with gcc?  Does it has any effect?  How cc reacts if you</i><br>
<i>&gt; try deeper optimizations with it ('-O3 -tune host', say)?</i><br>
<p>
Yes, they were both run on the same machine in the same directory.<br>
Its running Digital Unix 4.0, 384 MB ram, fast/wide SCSI, 500 MHz<br>
processor.  I was the only person on the machine.  Unfortunatly I<br>
am using the Digital Unix assembler so I can't use -pipe.<br>
<p>
Here are some more results, all with warm caches:<br>
<p>
time make (defaults to gcc -O2):<br>
43.898u 3.504s 0:58.88 80.4% 1+21k 239+1752io 0pf+0w<br>
43.913u 3.531s 1:03.62 74.5% 1+21k 247+1767io 0pf+0w<br>
<p>
time make CC=cc CFLAGS='-std1 -newc -O3 -tune host':<br>
21.221u 2.007s 0:29.05 79.9% 0+56k 192+364io 0pf+0w<br>
21.192u 2.012s 0:29.15 79.5% 0+56k 192+364io 0pf+0w<br>
<p>
time make CC=gcc CFLAGS='':<br>
19.194u 3.801s 0:37.21 61.7% 1+15k 219+2180io 0pf+0w<br>
19.148u 3.815s 0:35.92 63.8% 1+15k 229+2179io 0pf+0w<br>
<p>
time make CC=cc CFLAGS='-std1 -newc -O0':<br>
11.483u 1.973s 0:18.75 71.7% 0+44k 221+424io 0pf+0w     <br>
11.384u 2.047s 0:17.37 77.2% 0+44k 196+406io 0pf+0w<br>
<p>
I wish I had some suggestions for making gcc better.  Unfortunatly<br>
all I can do is provide information.<br>
<p>
Let me know if you want me to time anything else.<br>
<p>
Jim<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0012.html">RHS Linux User: "Re: Kernel Compiles"</a>
<li> <b>Previous message:</b> <a href="0010.html">Rich McClellan: "Re: Your UDB Questions"</a>
<li> <b>In reply to:</b> <a href="0005.html">Michal Jaegermann: "Re: Your UDB Questions (new)"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
