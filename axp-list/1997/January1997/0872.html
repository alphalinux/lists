<!-- received="Mon Jan 27 17:45:03 1997 " -->
<!-- sent="Mon, 27 Jan 1997 15:41:26 -0700 (MST)" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="Re: compiler efficency" -->
<!-- id="199701272241.PAA08082@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="199701272037.VAA20864@servix.us.es" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: compiler efficency</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: compiler efficency</h2>

<b>Michal Jaegermann</b> (<a href="mailto:michal@ellpspace.math.ualberta.ca"><i>michal@ellpspace.math.ualberta.ca</i></a>)<br>
<i>Mon, 27 Jan 1997 15:41:26 -0700 (MST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#872">[ date ]</a><a href="index.html#872">[ thread ]</a><a href="subject.html#872">[ subject ]</a><a href="author.html#872">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0873.html">Craig Burley: "Re: compiler efficency"</a>
<li> <b>Previous message:</b> <a href="0871.html">Mikel Stous: "Re: 100MBit 21142"</a>
<li> <b>In reply to:</b> <a href="0853.html">Claus Denk: "compiler efficency"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0873.html">Craig Burley: "Re: compiler efficency"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
<i>&gt; </i><br>
<i>&gt; we just got a PC164 system and I did some benchmarks with our Fortran</i><br>
<i>&gt; programs over here. One of the test-programs is a simple loop</i><br>
<i>&gt; doing (output of f2c): </i><br>
<i>&gt; for (i = 2; i &lt;= i__1; ++i) {</i><br>
<i>&gt;         gam += 1. / (doublereal) i;</i><br>
<i>&gt; }</i><br>
<i>&gt; Now, the Fortran-program compiled with the Digital Unix (f77) compiler executes</i><br>
<i>&gt; TWICE as fast as the gcc executable</i><br>
<p>
Just a word of caution.  Benchmarking a quite complicated system on a loop<br>
like that (or something like the famous "sieve") has a value on par with<br>
the BogoMips indicator.  It tells you only that this loop runs faster or<br>
slower in some circumstances.  It might (note: MIGHT) indicate that<br>
an instruction scheduler and branch prediction in DEC compiler is better<br>
than in gcc (it is highly likely that this is the case :-) but without<br>
a detailed analysis even that cannot be concluded.  You even skipped an<br>
information what optimizer flags, if any, were used in both compilations.<br>
gcc without optimizations is **designed** to output a very simple-minded<br>
code.  DEC Fortran compiler is likely, for example, to unroll loops by<br>
default; you will not get that in gcc unless explicitely requested.<br>
<p>
<i>&gt; (I found this factor also in other programs).</i><br>
<p>
This is a bit more significant, although in an absence of what these<br>
programs were and how they were compiled is still of a limited value.<br>
<p>
It is known that gcc support for alpha, libraries and g77 (the next<br>
release apparently should be "alpha ready" - RSN) needs work.  But<br>
**they** - meaning developers - likely can use some help.  In any<br>
case boundaries between developers and users in FSF projects are not<br>
so well defined as in other circumstances. :-)<br>
<p>
There is also something which is a "porting bug" in f2c - IMHO.<br>
If you will look closer you will notice that basic Fortran types<br>
of REAL*4 and INTEGER*4 are really 8 bytes wide on Alpha.<br>
This may have some effect on speed and creates porting headaches -<br>
especially if a "legacy code" is a mixture of Fortran and C.<br>
The issue can be dealt with but is likely beyond a grasp of many<br>
Fortran programmers. :-)<br>
<p>
All in all, I would not mind seeing at last g77 running correctly on<br>
alpha. :-)<br>
<p>
  Michal<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0873.html">Craig Burley: "Re: compiler efficency"</a>
<li> <b>Previous message:</b> <a href="0871.html">Mikel Stous: "Re: 100MBit 21142"</a>
<li> <b>In reply to:</b> <a href="0853.html">Claus Denk: "compiler efficency"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0873.html">Craig Burley: "Re: compiler efficency"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
