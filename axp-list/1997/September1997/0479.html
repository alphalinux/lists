<!-- received="Wed Sep 24 13:35:25 1997 " -->
<!-- sent="Wed, 24 Sep 1997 14:39:39 -0700" -->
<!-- name="Kelvin Lunsford" -->
<!-- email="kelvin@qantel.com" -->
<!-- subject="RE: [Fwd: Bus arbitration on Alpha]" -->
<!-- id="9709242119.AA12453@us3rmc.pa.dec.com" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>RE: [Fwd: Bus arbitration on Alpha]</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>RE: [Fwd: Bus arbitration on Alpha]</h2>

<b>Kelvin Lunsford</b> (<a href="mailto:kelvin@qantel.com"><i>kelvin@qantel.com</i></a>)<br>
<i>Wed, 24 Sep 1997 14:39:39 -0700</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#479">[ date ]</a><a href="index.html#479">[ thread ]</a><a href="subject.html#479">[ subject ]</a><a href="author.html#479">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0480.html">Aaron: "UDB serial ports"</a>
<li> <b>Previous message:</b> <a href="0478.html">Digital, Customer Support Center/Colorado: "RE: AB Switch Boxes For UDBs"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
It is my understanding that all memory mapped PCI transfers <br>
on all but the very newest Alpha machines must be 32 bits or greater<br>
and aligned to a 32 bit boundry.  For doing 8 bit transfers it's better to <br>
have the device I/O mapped.  If you are stuck with memory mapping <br>
then use an intermediate buffer to align the transfers.<br>
<p>
The new Alpha chips when used with the new core logic chips on the new<br>
motherboards will allow byte/word accesses into memory mapped PCI <br>
space if the feature is enabled by the new software, so ...    don't count on it.<br>
<p>
Kelvin Lunsford, <a href="mailto:kelvin@qantel.com">kelvin@qantel.com</a><br>
<p>
Ivan Passos [SMTP:ivan@cyclades.com] wrote:<br>
<i>&gt;I am porting the Cyclades-Z multiport card driver to the Linux/Alpha </i><br>
<i>&gt;and I'm having several problems with that, due to the card mapping </i><br>
<i>&gt;(it's a memory-mapped card ...). Also, this card is an intelligent </i><br>
<i>&gt;card with an MIPS3000-compatible RISC processor.</i><br>
<i>&gt;</i><br>
<i>&gt;I finally got the board to receive data with no problems, but whenever </i><br>
<i>&gt;I uncomment the transmission code, the machine locks completely.</i><br>
<i>&gt;</i><br>
<i>&gt;The only thing I'm currently trying to do (in regards to transmission) </i><br>
<i>&gt;is read the tx_get, the tx_put and the tx_bufsize from the dual port </i><br>
<i>&gt;memory and doing some calculation (to check the available space in </i><br>
<i>&gt;the transmission buffer). If I comment out this line, the machine does </i><br>
<i>&gt;not halt. If I uncomment it, the machine locks completely. This is a </i><br>
<i>&gt;pretty basic operation and I don't understand why it is locking the</i><br>
<i>&gt;machine. </i><br>
<i>&gt;</i><br>
<i>&gt;Since the same code is working in the Intel platform, I thought about </i><br>
<i>&gt;bus arbitration problems between the MIPS3000 CPU and the Alpha </i><br>
<i>&gt;(because the firmware running in the Cyclades-Z on-board RAM keeps </i><br>
<i>&gt;accessing these pointers to see if there is any data to transmit and, </i><br>
<i>&gt;if there is any detail about bus arbitration in the Alpha that I don't </i><br>
<i>&gt;know, it would explain the machine lockups).</i><br>
<i>&gt;</i><br>
<i>&gt;Does anyone there know anything about this ??? I am in a deadlock </i><br>
<i>&gt;right now and I have no other idea on how to solve this.</i><br>
<p>
<i>&gt;If anyone willing to help needs some additional information, please</i><br>
<i>&gt;contact me directly at &lt;<a href="mailto:ivan@cyclades.com">ivan@cyclades.com</a>&gt; .</i><br>
<i>&gt;</i><br>
<i>&gt;Thank you very much in advance for all your help.</i><br>
<i>&gt;</i><br>
<i>&gt;Regards,</i><br>
<i>&gt;-- </i><br>
<i>&gt;*******************************************************************</i><br>
<i>&gt;Cyclades Corporation                   Tel.: (510)770-9727 ext. 202</i><br>
<i>&gt;Ivan Passos                       E-mail : <a href="mailto:ivan@cyclades.com">mailto:ivan@cyclades.com</a></i><br>
<i>&gt;Software Engineer                     WWW : <a href="http://www.cyclades.com">http://www.cyclades.com</a></i><br>
<i>&gt;*******************************************************************</i><br>
<p>
begin 600 WINMAIL.DAT<br>
M&gt;)\^(B&lt;5`0:0" `$```````!``$``0&gt;0!@`(````Y 0```````#H``$-@ 0`<br>
M`@````(``@`!!) &amp;`!P!```!````# ````,``# #````"P`/#@`````"`?\/<br>
M`0```$4`````````@2L?I+ZC$!F=;@#=`0]4`@````!A&gt;' M;&amp;ES=$!R961H<br>
M870N8V]M`%--5% `87AP+6QI&lt;W1 &lt;F5D:&amp;%T+F-O;0`````&gt;``(P`0````4`<br>
M``!33510`````!X``S !````% ```&amp;%X&lt;"UL:7-T0')E9&amp;AA="YC;VT``P`5<br>
M# $````#`/X/!@```!X``3 !````%@```"=A&gt;' M;&amp;ES=$!R961H870N8V]M<br>
M)P````(!"S !````&amp;0```%--5% Z05A0+4Q)4U1 4D5$2$%4+D-/30`````#<br>
M```Y``````L`0#H!`````@'V#P$````$`````````Y&lt;R`0B !P`8````25!-<br>
M+DUI8W)O&lt;V]F="!-86EL+DYO=&amp;4`,0@!!( !`"0```!213H@6T9W9#H@0G5S<br>
M(&amp;%R8FET&lt;F%T:6]N(&amp;]N($%L&lt;&amp;AA70`0# $%@ ,`#@```,T'"0`8``X`)P`G<br>
M``,`5 $!(( #``X```#-!PD`&amp; <a href="mailto:`.`!X``@`#`">`.`!X``@`#`</a>"8!`0F `0`A````-#8Y0S4P<br>
M,C-"-S,T1#$Q,3@Y1$0P,#8P.$,W.45$.3&lt;`"@&lt;!`Y &amp;`!P)```2````"P`C<br>
M```````#`"8```````L`*0```````P`V``````! `#D`(/I'7#+)O $&gt;`' `<br>
M`0```"0```!213H@6T9W9#H@0G5S(&amp;%R8FET&lt;F%T:6]N(&amp;]N($%L&lt;&amp;AA70`"<br>
M`7$``0```!8````!O,DR7$&lt;C4)Q+-+&lt;1T8G=`&amp;",&gt;&gt;V7```&gt;`!X,`0````4`<br>
M``!33510`````!X`'PP!````$@```&amp;ME;'9I;D!Q86YT96PN8V]M`````P`&amp;<br>
M$#4E(/@#``&lt;0M &lt;``!X`"! !````90```$E425--655.1$524U1!3D1)3D=4<br>
M2$%404Q,345-3U)934%04$5$4$-)5%)!3E-&amp;15)33TY!3$Q"55142$5615)9<br>
M3D5715-404Q02$%-04-(24Y%4TU54U1"13,R0DE44T]21U(``````@$)$ $`<br>
M``"7!P``DP&lt;``-82``!,6D9U,C;\'/\`"@$/`A4"J 7K`H,`4 +R"0(`8V@*<br>
MP'-E=#(W!@`&amp;PP*#,@/%`@!P&lt;D)Q$&gt;)S=&amp;5M`H,SMP+D!Q,"@S02S!3(-1$%<br>
M^Q-3#]U]"H (SPG9`H *@8,-L0M@;F&lt;Q,#,44+&lt;+"A5B# %C#&gt;$34&amp;\3T!IC<br>
M!4!)!4 $`"!M&gt;;@@=6X$@1/ `'!D"X#X9R!T$8 %0 = `R '@$T$8'(&gt;$ # <br>
M&lt;' )@""H4$-)'P!R`'%F'F'.( J%`B ?4V)U!4 ?$-AE('8$D!X0;@?0!Y#Q<br>
M!4!!;' 1@" !$7 +@*D'D6UU(U%B(J S$&gt;#X8FET!" %L0G!'S $D&amp;&lt;*A1ZA<br>
M'U%I9R,0(&amp;!T?F\?4"3E(C (8!Y '^ N2" @1@6Q9&amp;\&gt;TCCW)[,@R"4P)P0@<br>
M), "0 20/R&lt;R"H41@"+ (G,-L'9I8F,BH$DO3R %*'%)N&amp;8@&gt;0A@'U 9D" 3<br>
MP/!U8VL@`_ ?$!^:'M+_"H4B@0.@)( BH .1"X EX?\'@![ )=$B,0W0*M0F<br>
MPR)S[2#'+@J%"H54(I$C$2-U]20!&lt; 0@=S!%(&amp; N@R*"[S3"!:$BH!D@9RQ@<br>
M-54AT&gt;\VM0J%!&amp; B@7(&amp;X L1-:&amp;7`Q #(!]A;P?@8GD3T.PO=P6P)J%C+' $<br>
M$ &gt;1[S#Q)U ?KR%6&lt;PJP+'$&amp;D/\B&lt;R$0'S (&lt;#XA!" )\ &amp;@3FP@43K0-J=S<br>
M;P&amp; =^4MX2Q @2 N06 H@"B ^2C@;B&lt;%0 6@'C %0"'18R4P,YU+96PL4 .@<br>
M3"\&gt;,"$`.S%!$&amp;M#XT!QTP!P$]!L+@6@;3.L"O21)M Q-#0"T6DM1U,O#-!'<br>
M4QP,'2=V`Y%087T$$&amp;\3(!P/*(!(CQU$6T!33510.FE*`4!X8WEC"V -L#. <br>
M1&lt;%=ZTJO2[%W'3(Z"T86\4DZSPJ/"Y$440OQ(#Y2K!T8&lt;1]0;2!P&amp;3$&gt;U"*@<br>
M0^E.%2U:)&amp;%L59!58C50OPL1*- %$"+!)S(B@DP+@/AU&gt;"\CA%'G3O]3GQTU<br>
M^2:"22=50"NA'M(1L"+![P= 55 #8#^1;3H"-H,?,/U!$&amp;0*4%@F5W,O35G?<br>
M6N_='1&lt;H*D,CP3QC+2 55W/]06$I*' C@$"001 ?$!W1_U=S'=$PQ1]P)N )<br>
M\%')84\?8E\=-5=S+H,#D4U)4.A3,S!L0"U%P5(059#C/Y$'\$E30UWB.Y(%<br>
ML/\SEFA_:8]17VZO;[]4F$&gt;@]S]P'W &gt;$&amp;&lt;=0")S.;,G,G\9D"QP5^$HT!\P<br>
M(\ N@V[_)U!=]D$0(D(UPEV"&lt;3]R3W]S7R"@'C!%P0&gt; 0F$RQVW]! %I(=$%<br>
MH VP9B(BH"/E_S=Q+E!F&lt;6R1/Z!%@2A@&gt;-__&gt;&gt;]P3X /@1][#32"`B!TT?=F<br>
M01[A7,)C"' 9D (PAI)_'^ &gt;TR=0*.!CP0.@&amp;9!G]SG36#)]"2F##X0?A2\=<br>
MT&gt;&lt;EL2&lt;A,M)X7V&gt;P7P&amp;.1;YP(E$F@HY%,&lt;$`D'H^D?L#82OD=5W"5S**KXN_<br>
M&gt;OZ_/%4F@BCD0) '@%=A;(=@]PM@59 AT2@G01%P!9 N8/\B@BNP"W +8&amp;SR<br>
M/&gt;4#H)(?_Y,O&gt;OY\OS'$9;$M&lt;2"@?#;_"&amp; B8AW1)M C$'X,*. 'D?^9;YI_<br>
M&gt;OYW, 5 $8!6\)X%_WP8)3!^#W\&lt;-'$=T6;BH._?H?^C#Q-0*J$&gt;$&amp;)*4#&gt;Q<br>
M_F\@0"#0EP-&lt;@T'%'C@UL?\&gt;$"?1GU)^\56EJ&amp;^I?Y0__R/T*'"OO[#/@A^S<br>
M?[2/&gt;PWN4PN +'$B@G-5,%_!!''?'&lt;([(:\S1!$B@DE%&lt;E506Y;A1(%M01 @<br>
MH6@(8&amp;?^:!]!* &amp;V;[=_N(\B,601_SF@)3"LA5WW*I$C,#!1(H+S:_96$%!5<br>
MCZ=9#[Z_O\_?8X0DP%=P,((^&lt;VDQ,$#2OW8`'C #`+MH5BD"("UUA.A204U$<br>
MT64UD&lt;4OQC__6X\[@U6E,)%58##SB7,1L/\^)C\$`' &gt;$':3B9A&lt;8T$0_\Q_<br>
MS8^,S]&amp;N$&lt;"84;V5P2Y_NY4CA!\3K3;3_]4/&gt;OYK?7&lt;P=T$0)]$[(%;@(&amp;!E<br>
M]G@+4Z7?=3609;#;C]R?[[6/X7_BCWL-1*"RTE$"('\KTRWQWJ+20H;$O:1F<br>
M0S__ZE!5!$01(\ -L$Y IJ+D?__EC^:?!1"]8NC4K1(KHW&lt;Q_SEC'&lt;#K,2'"<br>
MO3 'X-$B!O#_*\,$`#.=[#_M3QT8+8#G]?\Z(H@U(I CD",!"8 $()9#_TY <br>
M'L"7`EW!"X"\HI;S01#_?W%*4*^O\]_T[P6@`C `T+^5$BC0R2 =8731'S$\<br>
M3;_^/D%0^B_[/^./`!\!+X5/?YS@+F MHB+#)' 1&lt;.K39/]*`2QQ1($?4RVA<br>
M*X'W4?__7P0O!3\)7PIO]/Y2B20LYPQ_#8_T_BTM#&amp;\1'Q(O_BH6CQ&gt;?&amp;*\9<br>
MK1-O%'_T_O]6)L/P*+!589;T'Q\T&lt;$61`CICP#4Q,"DW-^%L8#DW,C??@:2!<br>
M2V!^,AJ_&amp;\_T_TH('S\F-$7_9+'842" )V(R,$VO1&gt;8B?_\CC[D80*4G,*]0<br>
MIF%XH2V/'4&amp;15R[0)Z&amp;]&lt;'1P.OXO.Q OH$6P**\IORK/%&gt;^?-"\U/S9/-N&lt;Q<br>
M&amp;C$X2X(5"^Y]4&gt; `.E ``P`0$ `````#`!$0`````$ `!S `W'\$,&lt;F\`4 `<br>
@"# `W'\$,&lt;F\`1X`/0`!````!0```%)%.B `````7C8`<br>
`<br>
end<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0480.html">Aaron: "UDB serial ports"</a>
<li> <b>Previous message:</b> <a href="0478.html">Digital, Customer Support Center/Colorado: "RE: AB Switch Boxes For UDBs"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
