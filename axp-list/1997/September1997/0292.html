<!-- received="Mon Sep 15 11:00:58 1997 " -->
<!-- sent="Mon, 15 Sep 1997 13:58:15 -0500 (EST)" -->
<!-- name="Leslie F. Donaldson" -->
<!-- email="donaldlf@cs.rose-hulman.edu" -->
<!-- subject="Re: 164LX Ide driver" -->
<!-- id="199709151858.NAA01145@vulture.cs.rose-hulman.edu" -->
<!-- inreplyto="164LX Ide driver" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: 164LX Ide driver</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: 164LX Ide driver</h2>

<b>Leslie F. Donaldson</b> (<a href="mailto:donaldlf@cs.rose-hulman.edu"><i>donaldlf@cs.rose-hulman.edu</i></a>)<br>
<i>Mon, 15 Sep 1997 13:58:15 -0500 (EST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#292">[ date ]</a><a href="index.html#292">[ thread ]</a><a href="subject.html#292">[ subject ]</a><a href="author.html#292">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0293.html">Matthew Geier: "Re: Woohoo! overclocking!"</a>
<li> <b>Previous message:</b> <a href="0291.html">Ronny Ranerup: "Re: 164LX Ide driver"</a>
<li> <b>Maybe in reply to:</b> <a href="0285.html">Leslie F. Donaldson: "164LX Ide driver"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
It doesn't seem as if DMA is supported, which is sad as this gets me a transfer<br>
rate of over 9MB/s on our Intel boxes, which beats all drive/interface combos <br>
we've tested, including RAID0 on two Ultra-SCSI-Wide-and-the-kitchen-sink.<br>
<p>
Of course, I'm not sure about the DMA-thingy. hdparm says:<br>
RawCHS=4970/16/63, TrkSize=36540, SectSize=580, ECCbytes=4<br>
BuffType=3(DualPortCache), BuffSize=112kB, MaxMultSect=16, MultSect=16<br>
 DblWordIO=no,				Can not do (32 bit ?? word=16??)<br>
 maxPIO=2(fast),			Best Pio mode is 2 <br>
 DMA=yes,				Can do DMA<br>
 maxDMA=2(fast)				Best Dma mode 2<br>
 CurCHS=4970/16/63,<br>
 CurSects=5009760,<br>
 LBA=yes,<br>
 LBAsects=5009760<br>
 tDMA={min:120,rec:120},		Timing on DMA 120 MB/sec (across pci)<br>
 DMA modes: *mword0 mword1 mword2       3 types of dma<br>
 IORDY=yes,<br>
 tPIO={min:240,w/IORDY:120}<br>
 PIO modes: mode3 mode4 <br>
<p>
<i>&gt; It apears that it is running wit PIO Mode 2 and a limited form of DMA is</i><br>
<i>&gt; working. My best guesses are.</i><br>
<i>&gt;  - There is something about setting the PIO Mode that is Driver dependent</i><br>
<i>&gt;    but I can not rember details</i><br>
<i>&gt;  - Could try a kernel with CMD640 support compiled in (better support in</i><br>
<i>&gt;    newer kernels.</i><br>
<i>&gt;  - I think that the max pio modes and dma are set in the driver. however</i><br>
<i>&gt;    I don't have the kernel source here to look at.</i><br>
<p>
<i>&gt;</i><br>
<i>&gt;  Now there is a question .. is the kernel untareed anywhere on the net and ready</i><br>
<i>&gt; for html access????</i><br>
<i>&gt;</i><br>
<i>&gt;</i><br>
<p>
Can anybody decipher that? Is DMA supported? Is DMA dependant on which PIO mode<br>
is used? What is DblWordIO=no? Why can't I set PIO modes <br>
(HDIO_SET_PIO_MODE failed: Function not implemented)? Why can't I enable DMA <br>
(HDIO_SET_DMA failed: Operation not permitted)?<br>
<p>
/----------------------------\ Current Contractor: Oxford International<br>
<i>|    Leslie F. Donaldson     | Current Customer  : Entergy Inc. </i><br>
<i>|    Computer Contractor     | Skills: Unix/OS9/VMS/Linux/SUN-OS/C/C++/assembly</i><br>
<i>| Have Computer will travel. | Curr   : <a href="http://www.cs.rose-hulman.edu/~donaldlf">http://www.cs.rose-hulman.edu/~donaldlf</a></i><br>
\----------------------------/ Current Email  : <a href="mailto:donaldlf@cs.rose-hulman.edu">donaldlf@cs.rose-hulman.edu</a><br>
Goth Code V1.1: GoCS$$ TYg(T6,T9) B11Bk!^1 C6b-- P0(1,7) M+ a24 n--- b++:+<br>
                H6'11" g m---- w+ r+++ D--~!% h+ s10 k+++ R-- Ssw LusCA++<br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0293.html">Matthew Geier: "Re: Woohoo! overclocking!"</a>
<li> <b>Previous message:</b> <a href="0291.html">Ronny Ranerup: "Re: 164LX Ide driver"</a>
<li> <b>Maybe in reply to:</b> <a href="0285.html">Leslie F. Donaldson: "164LX Ide driver"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
