<!-- received="Fri Sep 26 06:40:38 1997 " -->
<!-- sent="Fri, 26 Sep 1997 10:35:57 -0400" -->
<!-- name="m. capel" -->
<!-- email="capel@crim12b.nsls.bnl.gov" -->
<!-- subject="tulip and ana6944a" -->
<!-- id="199709261435.KAA14548@crim12b.nsls.bnl.gov" -->
<!-- inreplyto="ео	@ео	@request@redh" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>tulip and ana6944a</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>tulip and ana6944a</h2>

<b>m. capel</b> (<a href="mailto:capel@crim12b.nsls.bnl.gov"><i>capel@crim12b.nsls.bnl.gov</i></a>)<br>
<i>Fri, 26 Sep 1997 10:35:57 -0400</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#520">[ date ]</a><a href="index.html#520">[ thread ]</a><a href="subject.html#520">[ subject ]</a><a href="author.html#520">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0521.html">Ka'Plaagh: "Re: Milo Source????"</a>
<li> <b>Previous message:</b> <a href="0519.html">Andreas Johansson: "Re: Two ethernet cards on PC164--Correction"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
folks:<br>
<p>
	i've made another stab at getting tulip.c to work<br>
	with the adaptec ANA-6944A quartet boards, on a DEC PC164<br>
	running RedHat 4.2, kernel 2.0.30<br>
<p>
	there's been some progess...now with reverse probe forced the<br>
	driver probes for IRQ and I/O assignments that are consistent<br>
	with those seen under /proc/pci and the srm hardware inventory.<br>
<p>
	i'm still having trouble getting anything but a successful ping<br>
	on eth0.  the media selection leds of the quartet board show<br>
	a 10-base-T medium resolution..but no port activity. also, the hub <br>
        that the four ports are presently attached to doesn't indicate LINK <br>
	success for any of the ports.  i've attached all the dmesg info<br>
	from a boot at the tail of this note...is the eeprom parsing<br>
	correct?<br>
	<br>
<p>
	could it be that the driver has successfully initiallized<br>
	the card but that we're failing at the level of ifup?  /proc/interrupts<br>
	has a record of all four DS21140's, with a small no. of interrupts (12)<br>
<p>
	could anyone who has one of these cards working under alpha or intel<br>
	RedHat please email me a copy of the following:<br>
	 		 /etc/sysconfig/network<br>
		         /etc/sysconfig/network-scripts/ifcfg-eth0<br>
			  "      "             "	ifcfg-eth1<br>
			  "      "             "  	ifcfg-eth2<br>
			  "      "             "	ifcfg-eth3<br>
<p>
<p>
					thanks,<br>
						m.c.<br>
						<a href="mailto:capel@crim12b.nsls.bnl.gov">capel@crim12b.nsls.bnl.gov</a><br>
<p>
<p>
<p>
dmesg for boot with ana6499a<br>
<p>
	forced debug = 3<br>
	       reverse_probe<br>
	       10-base-T<br>
<p>
	       by editing tulip-0.77.c<br>
<p>
<p>
Found DEC PCI Tulip at I/O 0xcc00 IRQ 17.<br>
tulip.c:v0.77 7/24/97 <a href="mailto:becker@cesdis.gsfc.nasa.gov">becker@cesdis.gsfc.nasa.gov</a><br>
eth0: DEC DS21140 Tulip at 0xcc00, 00 00 92 a7 41 9c, IRQ 17.<br>
<p>
 THIS IS AN ALPHA TEST DRIVER<br>
 The following verbose information is emitted for<br>
  bug reports on media selection.<br>
<p>
read_eeprom:<br>
1109 2400 0000 0000 0000 0000 0000 0000<br>
0005 0403 0000 a792 9c41 2804 0500 0028<br>
2806 0700 0028 0000 0800 013f 018e 0200<br>
0001 0000 e078 0001 0050 0018 0000 0000<br>
0000 0000 0000 0000 0000 0000 0000 0000<br>
0000 0000 0000 0000 0000 0000 0000 0000<br>
0000 0000 0000 0000 0000 0000 0000 0000<br>
0000 0000 0000 0000 0000 0000 0324 fde8<br>
eth0: EEPROM default media type Autosense.<br>
eth0:  MII interface PHY 0, setup/reset sequences 2/0 long, capabilities 00 00.<br>
eth0:  MII xcvr control registers: 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000.<br>
eth0: Index #0 - Media MII (#11) described by a 21140 MII PHY (1) block.<br>
  PCI latency timer (CFLT) is 0x20.<br>
Found DEC PCI Tulip at I/O 0xc800, IRQ 24.<br>
eth1: DEC DS21140 Tulip at 0xc800, EEPROM not present, 00 00 92 a7 41 9d, IRQ 17<br>
eth1: Controller 1 of multiport board.<br>
eth1: EEPROM default media type Autosense.<br>
eth1:  MII interface PHY 0, setup/reset sequences 2/0 long, capabilities 00 00.<br>
eth1:  MII xcvr control registers: 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000.<br>
eth1: Index #0 - Media MII (#11) described by a 21140 MII PHY (1) block.<br>
  PCI latency timer (CFLT) is 0x20.<br>
Found DEC PCI Tulip at I/O 0xc400, IRQ 28.<br>
eth2: DEC DS21140 Tulip at 0xc400, EEPROM not present, 00 00 92 a7 41 9e, IRQ 17<br>
eth2: Controller 2 of multiport board.<br>
eth2: EEPROM default media type Autosense.<br>
eth2:  MII interface PHY 0, setup/reset sequences 2/0 long, capabilities 00 00.<br>
eth2:  MII xcvr control registers: 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000<br>
 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000.<br>
eth2: Index #0 - Media MII (#11) described by a 21140 MII PHY (1) block.<br>
  PCI latency timer (CFLT) is 0x20.<br>
Found DEC PCI Tulip at I/O 0xc000, IRQ 32.<br>
eth3: DEC DS21140 Tulip at 0xc000, EEPROM not present, 00 00 92 a7 41 9f, IRQ 17<br>
eth3: Controller 3 of multiport board.<br>
eth3: EEPROM default media type Autosense.<br>
eth3:  MII interface PHY 0, setup/reset sequences 2/0 long, capabilities 00 00.<br>
:<br>
eth3:  MII xcvr control registers: 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000<br>
 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000.<br>
eth3: Index #0 - Media MII (#11) described by a 21140 MII PHY (1) block.<br>
  PCI latency timer (CFLT) is 0x20.<br>
Partition check:<br>
 sda: sda1 sda2 sda3<br>
VFS: Mounted root (ext2 filesystem) readonly.<br>
Adding Swap: 240960k swap-space (priority -1)<br>
eth0: tulip_open() irq 17.<br>
eth0:  Doing a reset sequence of length 0.<br>
eth0  Doing a transceiver setup sequence of length 2.<br>
eth0: Using media type MII, CSR12 is 00.<br>
eth0: Done tulip_open(), CSR0 fe20e000, CSR5 fc360000 CSR13 ffffffff.<br>
eth1: tulip_open() irq 17.<br>
eth1:  Doing a reset sequence of length 0.<br>
eth1  Doing a transceiver setup sequence of length 2.<br>
eth1: Using media type MII, CSR12 is 00.<br>
eth1: Done tulip_open(), CSR0 fe20e000, CSR5 fc360000 CSR13 ffffffff.<br>
eth2: tulip_open() irq 17.<br>
eth2:  Doing a reset sequence of length 0.<br>
eth2  Doing a transceiver setup sequence of length 2.<br>
eth2: Using media type MII, CSR12 is 00.<br>
eth2: Done tulip_open(), CSR0 fe20e000, CSR5 fc320000 CSR13 ffffffff.<br>
eth3: tulip_open() irq 17.<br>
eth3:  Doing a reset sequence of length 0.<br>
eth3  Doing a transceiver setup sequence of length 2.<br>
eth3: Using media type MII, CSR12 is 00.<br>
eth3: Done tulip_open(), CSR0 fe20e000, CSR5 fc360000 CSR13 ffffffff.<br>
 eth0: MII monitoring tick: CSR12 status ffffff00.<br>
 eth1: MII monitoring tick: CSR12 status ffffff00.<br>
 eth2: MII monitoring tick: CSR12 status ffffff00.<br>
 eth3: MII monitoring tick: CSR12 status ffffff00.<br>
<p>
<p>
<p>
       ********* /proc/pci  ************<br>
<p>
<p>
PCI devices found:<br>
  Bus  0, device  11, function  0:<br>
    IDE interface: CMD 646 (rev 1).<br>
      Medium devsel.  Fast back-to-back capable.  IRQ 21.  Master Capable.  Latency=32.  Min Gnt=2.Max Lat=4.<br>
      I/O at 0xb000.<br>
  Bus  0, device   9, function  0:<br>
    SCSI storage controller: Adaptec AIC-7881U (rev 0).<br>
      Medium devsel.  Fast back-to-back capable.  IRQ 19.  Master Capable.  Latency=32.  Min Gnt=8.Max Lat=8.<br>
      I/O at 0xb400.<br>
      Non-prefetchable 32 bit memory at 0x1000000.<br>
  Bus  0, device   8, function  0:<br>
    Non-VGA device: Intel 82378IB (rev 67).<br>
      Medium devsel.  Master Capable.  No bursts.  <br>
  Bus  1, device   7, function  0:<br>
    Ethernet controller: DEC DC21140 (rev 34).<br>
      Medium devsel.  Fast back-to-back capable.  IRQ 32.  Master Capable.  Latency=32.  Min Gnt=20.Max Lat=40.<br>
      I/O at 0xc000.<br>
      Non-prefetchable 32 bit memory at 0x2000000.<br>
  Bus  1, device   6, function  0:<br>
    Ethernet controller: DEC DC21140 (rev 34).<br>
      Medium devsel.  Fast back-to-back capable.  IRQ 28.  Master Capable.  Latency=32.  Min Gnt=20.Max Lat=40.<br>
      I/O at 0xc400.<br>
      Non-prefetchable 32 bit memory at 0x2001000.<br>
  Bus  1, device   5, function  0:<br>
    Ethernet controller: DEC DC21140 (rev 34).<br>
      Medium devsel.  Fast back-to-back capable.  IRQ 24.  Master Capable.  Latency=32.  Min Gnt=20.Max Lat=40.<br>
      I/O at 0xc800.<br>
      Non-prefetchable 32 bit memory at 0x2002000.<br>
  Bus  1, device   4, function  0:<br>
    Ethernet controller: DEC DC21140 (rev 34).<br>
      Medium devsel.  Fast back-to-back capable.  IRQ 17.  Master Capable.  Latency=32.  Min Gnt=20.Max Lat=40.<br>
      I/O at 0xcc00.<br>
      Non-prefetchable 32 bit memory at 0x2003000.<br>
  Bus  0, device   7, function  0:<br>
    PCI bridge: DEC DC21152 (rev 1).<br>
      Medium devsel.  Fast back-to-back capable.  Master Capable.  Latency=32.  Min Gnt=4.<br>
      Non-prefetchable 32 bit memory at 0x10100.<br>
      I/O at 0x2280c1c0.<br>
      Non-prefetchable 32 bit memory at 0x2000200.<br>
      I/O at 0x1fff0.<br>
  Bus  0, device   5, function  0:<br>
    VGA compatible controller: Matrox Millennium (rev 1).<br>
      Medium devsel.  Fast back-to-back capable.  IRQ 18.  <br>
      Non-prefetchable 32 bit memory at 0x1004000.<br>
      Prefetchable 32 bit memory at 0x1800000.<br>
<p>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0521.html">Ka'Plaagh: "Re: Milo Source????"</a>
<li> <b>Previous message:</b> <a href="0519.html">Andreas Johansson: "Re: Two ethernet cards on PC164--Correction"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
