<!-- received="Wed Sep 17 04:00:09 1997 " -->
<!-- sent="Wed, 17 Sep 1997 14:01:50 +0200" -->
<!-- name="Stefan Schroepfer" -->
<!-- email="scr@iis.fhg.de" -->
<!-- subject="Re: Problems with slow EIDE disk / slow system time" -->
<!-- id="341FC6AD.41C67EA6@iis.fhg.de" -->
<!-- inreplyto="Problems with slow EIDE disk / slow system time" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: Problems with slow EIDE disk / slow system time</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: Problems with slow EIDE disk / slow system time</h2>

<b>Stefan Schroepfer</b> (<a href="mailto:scr@iis.fhg.de"><i>scr@iis.fhg.de</i></a>)<br>
<i>Wed, 17 Sep 1997 14:01:50 +0200</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#314">[ date ]</a><a href="index.html#314">[ thread ]</a><a href="subject.html#314">[ subject ]</a><a href="author.html#314">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0315.html">John Jemiolo: "NFS mounted root served by Digital  UNIX"</a>
<li> <b>Previous message:</b> <a href="0313.html">Jo Hausmann: "Re: always trying to run DU exec under  Linux"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Stefan Illy wrote (Aug 20 1997):<br>
<i>&gt; </i><br>
<i>&gt; We use a 4 GByte EIDE harddisk in our PC164/21164 based system.</i><br>
<p>
Me too.<br>
<p>
<i>&gt; The throughput of the EIDE disk is quite slow (approx 1.5 MByte/sec).</i><br>
<i>&gt; With `/sbin/hdparm -c 1 -m 16 /dev/hdc' (32 bit mode, multicount=16),</i><br>
<i>&gt; we get a much better performance of approx 7 MByte/sec.</i><br>
<i>&gt; </i><br>
<i>&gt; According to the FAQ, one should also use the hdparm-flag `-u 1'</i><br>
<i>&gt; (unmask IRQ on), to avoid the system time running slow (this is the</i><br>
<i>&gt; case on our system).</i><br>
<i>&gt; Unfortunately, running `hdparm -u 1 -c 1 -m 16' slows the EIDE disk</i><br>
<i>&gt; down to approx. 1.7 MByte/sec :-(</i><br>
<p>
Yes: hdparm does report a higher read rate (using option '-t')<br>
after setting some flags.<br>
*BUT* simply counting seconds during a<br>
  $ hdparm -T /dev/hda       # to avoid caching artifacts<br>
  $ hdparm -t /dev/hda       # perform timings of device reads<br>
on an otherwise idle system will show you that disk throughput<br>
is not as fast as hdparm wants to tell you.<br>
In fact, only the OS's clock runs slower during disk I/O, as you<br>
can see if you do a<br>
  $ clock -u -A -r; date     # '-A' if ARC console<br>
before and after the two hdparm calls.<br>
<p>
<i>&gt; Is there a possibility to get both, a fast disk throughput and a</i><br>
<i>&gt; accurate system time?</i><br>
<p>
In my opinion: no. I think it is only possible to slow down system<br>
time, but not to get fast EIDE disk throughput.<br>
<p>
Cheers, Stefan Schroepfer<br>
<a href="mailto:scr@iis.fhg.de">scr@iis.fhg.de</a><br>
<p>
<pre>
--
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0315.html">John Jemiolo: "NFS mounted root served by Digital  UNIX"</a>
<li> <b>Previous message:</b> <a href="0313.html">Jo Hausmann: "Re: always trying to run DU exec under  Linux"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
