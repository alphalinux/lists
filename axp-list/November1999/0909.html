<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>AXP-List Hypermail Archive: Re: ccc and inline assembly...</TITLE>
<META NAME="Author" CONTENT="Uncle George (gatgul@voicenet.com)">
<META NAME="Subject" CONTENT="Re: ccc and inline assembly...">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: ccc and inline assembly...</H1>
<HR>
<P>
<!-- received="Mon Nov 29 05:03:42 1999" -->
<!-- isoreceived="19991129140342" -->
<!-- sent="Mon, 29 Nov 1999 08:00:57 -0500" -->
<!-- isosent="19991129130057" -->
<!-- name="Uncle George" -->
<!-- email="gatgul@voicenet.com" -->
<!-- subject="Re: ccc and inline assembly..." -->
<!-- id="38427909.EBD24E2E@voicenet.com" -->
<!-- inreplyto="19991128110412.J4572@radicalmedia.com" -->
<STRONG>Subject: </STRONG>Re: ccc and inline assembly...<BR>
<STRONG>From: </STRONG>Uncle George (<EM>gatgul@voicenet.com</EM>)<BR>
<STRONG>Date: </STRONG>Mon Nov 29 1999 - 04:00:57 AKST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#909">[ date ]</A>
<A HREF="index.html#909">[ thread ]</A>
<A HREF="subject.html#909">[ subject ]</A>
<A HREF="author.html#909">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0910.html">Ric Tibbetts: "Re: Red Hat Rawhide/Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0908.html">Stefan Reinauer: "Milo-2.2-12 ready."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0893.html">Mark Abene: "Re: ccc and inline assembly..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0896.html">Dan Frasnelli: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0893.html">Uncle George: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0909.html">Uncle George: "Re: ccc and inline assembly..."</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
</PRE>
<P>
Try:
<BR>
asm( &quot;.weak &quot; &quot;_some_extern_routine&quot;);
<BR>
<P>Mark Abene wrote:
<BR>
<P><EM>&gt; Maybe you could enlighten us on what you're trying to accomplish with
</EM><BR>
<EM>&gt; inline assembly, and I'll try to be more helpful.  :)
</EM><BR>
<EM>&gt; I can't say I've tried copying /usr/include/machine/pal.h from DU, but I
</EM><BR>
<EM>&gt; somehow doubt the GNU assembler in linux would know what a &quot;PAL_callsys&quot; was
</EM><BR>
<EM>&gt; supposed to do.  We don't have the benefit of DU's assembler macros.
</EM><BR>
<EM>&gt; But for simple user functions, a #define of an asm block of instructions
</EM><BR>
<EM>&gt; should work fine, as illustrated in the third example in c_asm.h.
</EM><BR>
<EM>&gt; I'm guessing you're trying to do something more complex?
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; -Mark
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; On Sun, Nov 28, 1999 at 07:47:08AM -0500, Uncle George wrote:
</EM><BR>
<EM>&gt; &gt; Tried the example from c-asm.h. No &lt;machine/pal.h&gt; :-/.
</EM><BR>
<EM>&gt; &gt; even with that i cannot do &quot;asm ( &quot;.weak &quot; &quot;__sigprocmask&quot;);
</EM><BR>
<EM>&gt; &gt; i cannot tell if .weak is a boo boo, or whatever options there are.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;     #include &lt;c_asm.h&gt;
</EM><BR>
<EM>&gt; &gt; #if 0
</EM><BR>
<EM>&gt; &gt;     #include &lt;machine/pal.h&gt;
</EM><BR>
<EM>&gt; &gt; #endif
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;    #define QUOTE(s) #s
</EM><BR>
<EM>&gt; &gt;    #define STR(s) QUOTE(s)
</EM><BR>
<EM>&gt; &gt;    #define WRUNIQ(uniq) asm(&quot;call_pal &quot; STR(PAL_wruniq), (uniq))
</EM><BR>
<EM>&gt; &gt;    #define RDUNIQ() asm(&quot;call_pal &quot; STR(PAL_rduniq))
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;    main()
</EM><BR>
<EM>&gt; &gt;        {
</EM><BR>
<EM>&gt; &gt;        int i = 123456;
</EM><BR>
<EM>&gt; &gt;        int j;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;           WRUNIQ(i);
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;           j = RDUNIQ();
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;           printf(&quot;i=%d; j=%d\n&quot;, i, j);
</EM><BR>
<EM>&gt; &gt;          }
</EM><BR>
<EM>&gt; &gt; ~
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Uncle George wrote:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; So, i suppose that there is no docs for it.
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; gat
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Mark Abene wrote:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; To whoever asked (I think it was Uncle George), the syntax for inline assembly
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; --
</EM><BR>
<EM>&gt; &gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; &gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0910.html">Ric Tibbetts: "Re: Red Hat Rawhide/Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0908.html">Stefan Reinauer: "Milo-2.2-12 ready."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0893.html">Mark Abene: "Re: ccc and inline assembly..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0896.html">Dan Frasnelli: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0893.html">Uncle George: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0909.html">Uncle George: "Re: ccc and inline assembly..."</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a23</A> 
: <EM>Mon Nov 29 1999 - 05:03:44 AKST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
