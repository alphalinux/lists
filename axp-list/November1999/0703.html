<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>AXP-List Hypermail Archive: Re: SCSI hangs at boot (NCR53c810,</TITLE>
<META NAME="Author" CONTENT="Christopher W. Curtis (ccurtis@aet-usa.com)">
<META NAME="Subject" CONTENT="Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)</H1>
<HR>
<P>
<!-- received="Fri Nov 19 16:02:22 1999" -->
<!-- isoreceived="19991120010222" -->
<!-- sent="Fri, 19 Nov 1999 22:34:02 +0000" -->
<!-- isosent="19991119223402" -->
<!-- name="Christopher W. Curtis" -->
<!-- email="ccurtis@aet-usa.com" -->
<!-- subject="Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)" -->
<!-- id="3835D05A.CDB874E5@aet-usa.com" -->
<!-- inreplyto="s8359480.021@EVV1NW04" -->
<STRONG>Subject: </STRONG>Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)<BR>
<STRONG>From: </STRONG>Christopher W. Curtis (<EM>ccurtis@aet-usa.com</EM>)<BR>
<STRONG>Date: </STRONG>Fri Nov 19 1999 - 13:34:02 AKST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#703">[ date ]</A>
<A HREF="index.html#703">[ thread ]</A>
<A HREF="subject.html#703">[ subject ]</A>
<A HREF="author.html#703">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0704.html">Wes Bauske: "Re: Alpha Linux in the UK?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0702.html">Calvin Coghlan: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0702.html">Calvin Coghlan: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0702.html">Christopher W. Curtis: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0703.html">Christopher W. Curtis: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
</PRE>
<P>
Calvin Coghlan wrote:
<BR>
<P><EM>&gt; &gt;From the information provided the most likely condition is the bus is too long.  Remember there are bus distance limitations.  You have a 6ft cable, a 3ft cable, the ribbon cable of the secondary case, the cable in the external CDR and the UDB internal bus distance.
</EM><BR>
<P>Yes, this is what I fear.  Dropping the 6ft cable to a 3ft should fix that if that is the case - it just seemed strange that it was able to detect it at all, but not when it did the summary.  I suppose that isn't necessarily that unusual, though, if it is trying to determine capabilities (speed, etc).
<BR>
<P><EM>&gt; Another possibility, is make sure the termination is on the last drive of the physical chain.  Personally, I prefer active termination, not the termination by a drive.  The SCSI bus must be terminated at both ends.  If the host adaptor is at one end then it can provide termination there.  If the host adaptor is in the middle then both chains must be terminated.
</EM><BR>
<P>Well, I gave the physical layout in the first message.  The adaptor is at one end, id4 at the other, TERM at id0 (in the middle).  All are internal devices (save the CDR) and I cannot practically do external termination (I assume that's what you mean by &quot;active&quot;, with the little plugger) since I cannot go from the ribbon cable back to an external connector (just not enough ports on the ribbon).
<BR>
<P>I didn't think the location of the terminator mattered as long as it was terminated _somewhere_, and the TERM has never been at the end of the chain (this chain has been unchanged for about 2 years now; any changes just pushed TERM closer to the middle).
<BR>
<P><EM>&gt; You did not specify whether you are using the UDB built in SCSI but I would assume so.
</EM><BR>
<P>Yes, I am.
<BR>
<P><EM>&gt; There are some particulars regarding this.  In the internals prior to the external connector there is a passive terminator.  This should be physically disabled.  Some folks have gotten around this by using active termination on the external chain.  The problem here is this can seriously short the bus length, along with some other potiential problems.
</EM><BR>
<P>I don't understand what you are saying here.  There's a jumper I have to remove inside the UDB?  Things have been working fine for a long time - it's just that the new drives act odd.
<BR>
<P><EM>&gt; I would also double check the ids on the drives.  It never hurts.
</EM><BR>
<P>This has already been done a few times.  I had no info in what the id jumpers were so I am 100% sure they are correct, a long and tedious process I don't want to go through again.  =)
<BR>
<P><EM>&gt; Calvin.
</EM><BR>
<P>thanks for the help.
<BR>
Know offhand the max length of the chain?
<BR>
I must be running it at 15 ft now ...
<BR>
Chris
<BR>
<P><EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt;&gt;&gt; &quot;Christopher W. Curtis&quot; &lt;ccurtis@aet-usa.com&gt; 11/19/99 05:59PM &gt;&gt;&gt;
</EM><BR>
<EM>&gt; Hi, apologies beforehand for the crosspost...
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; I have a UDB I am using for storage.  I am using the NCR810 driver,
</EM><BR>
<EM>&gt; assigned to SCSI id 7.  The device has been working properly with
</EM><BR>
<EM>&gt; the given configuration:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; id 0 - IBM DCAS-34330 (4.3GB HDD)
</EM><BR>
<EM>&gt; id 1 - Seagate STT8000N (8GB Travan-4 Tape)
</EM><BR>
<EM>&gt; id 2 - Plextor PX-R412C (4x24 CD-R)
</EM><BR>
<EM>&gt; id 3 - Seagate Medalist ST39140N (9 GB HDD)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; I recently acquired some new hardware
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; id 4 - Seagate ST4340... (~4GB? HDD)
</EM><BR>
<EM>&gt; id 5 - Seagate ST4340... (~4GB? HDD)
</EM><BR>
<EM>&gt; id 6 - Seagate ST410800N (~8GB HDD)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; The ARC BIOS is able to identify all 6 devices, and MILO is also
</EM><BR>
<EM>&gt; able to detect all six.  However, after the initial probe, the
</EM><BR>
<EM>&gt; system hangs.  It will go through the entire &quot;Detected scsi disk sdx
</EM><BR>
<EM>&gt; at scsi0, channel 0, id x, lun 0&quot; list, but will stop just before
</EM><BR>
<EM>&gt; the summary printout where it states &quot;ncr53c810-0-&lt;0,*&gt;: FAST-10
</EM><BR>
<EM>&gt; SCSI 10.0 MB/s (100 ns, offset 8)&quot; etc.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; I have removed ids 4 and 5 from the bus and the system will boot
</EM><BR>
<EM>&gt; with id 6 alone.  It will not boot with ids 5 and 6 attached; I did
</EM><BR>
<EM>&gt; not try ids 4 and 6, nor 4 and 5 alone.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Does anyone have any ideas of what may be going on?  Are there any
</EM><BR>
<EM>&gt; known problems with having a full bus?  The new hard drives came out
</EM><BR>
<EM>&gt; of existing UDB systems where they worked well (two in one system,
</EM><BR>
<EM>&gt; one in the other) so I can only assume that the drives themselves
</EM><BR>
<EM>&gt; are working.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; The SCSI chain is physically:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; UDB (adaptor - id7)
</EM><BR>
<EM>&gt; 3ft external HD50 cable to external CD-R (id2)
</EM><BR>
<EM>&gt; 6ft external HD50 cable to secondary case
</EM><BR>
<EM>&gt; secondary case to ribbon cable
</EM><BR>
<EM>&gt; cable:
</EM><BR>
<EM>&gt;  IBM HDD (id0, TERM)
</EM><BR>
<EM>&gt;  Seagate Tape (id1)
</EM><BR>
<EM>&gt;  Seagate HDD (id3)
</EM><BR>
<EM>&gt; (new stuff:)
</EM><BR>
<EM>&gt;  Seagate HDD (id6)
</EM><BR>
<EM>&gt;  Seagate HDD (id5)
</EM><BR>
<EM>&gt;  Seagate HDD (id4)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Thanks for any help!
</EM><BR>
<EM>&gt; Chris
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0704.html">Wes Bauske: "Re: Alpha Linux in the UK?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0702.html">Calvin Coghlan: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0702.html">Calvin Coghlan: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0702.html">Christopher W. Curtis: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0703.html">Christopher W. Curtis: "Re: SCSI hangs at boot (NCR53c810, Alpha/UDB Multia)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a23</A> 
: <EM>Fri Nov 19 1999 - 16:02:28 AKST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
