<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>AXP-List Hypermail Archive: binary data files</TITLE>
<META NAME="Author" CONTENT="David Covey (dnc@ruff.gi.alaska.edu)">
<META NAME="Subject" CONTENT="binary data files">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>binary data files</H1>
<HR>
<P>
<!-- received="Tue Nov 23 09:29:10 1999" -->
<!-- isoreceived="19991123182910" -->
<!-- sent="Mon, 22 Nov 1999 17:06:51 -0900" -->
<!-- isosent="19991123020651" -->
<!-- name="David Covey" -->
<!-- email="dnc@ruff.gi.alaska.edu" -->
<!-- subject="binary data files" -->
<!-- id="199911230206.RAA10766@ruff.gi.alaska.edu" -->
<STRONG>Subject: </STRONG>binary data files<BR>
<STRONG>From: </STRONG>David Covey (<EM>dnc@ruff.gi.alaska.edu</EM>)<BR>
<STRONG>Date: </STRONG>Mon Nov 22 1999 - 17:06:51 AKST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#760">[ date ]</A>
<A HREF="index.html#760">[ thread ]</A>
<A HREF="subject.html#760">[ subject ]</A>
<A HREF="author.html#760">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0761.html">Martin Giguere: "Alpha bios Serial key mapping"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0759.html">Larry Snyder: "Mouse Q"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0768.html">furio ercolessi: "Re: binary data files"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
</PRE>
<P>
Hi all,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;I've been using Linux/Alpha for a while now and slowly working on
<BR>
a problem I have with binary data files. I *think* I've figured it out
<BR>
and have a kludge but I'd like to know if someone has come up with a
<BR>
better explanation and/or solution.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Specifically I've been having problems reading binary data files 
<BR>
with 'variable-length record' format. The records in these files are
<BR>
prefixed and suffixed with a 4-byte integer with a count of the data
<BR>
bytes in the record (excluding the prefix and suffix). I often have
<BR>
data files using this format that have been written on other machines,
<BR>
and so the data may be byte-swapped. That much can be fixed with a
<BR>
compiler option, or a 'dd conv=swab...' command. The prefix/suffix
<BR>
byte-count has an additional twist though, in that it appears to be
<BR>
word-swapped. Hence a record of 13 bytes would have a 4-byte count
<BR>
that, on the Linux/Alpha box, looks like the byte sequence :
<BR>
&nbsp;&nbsp;13 0 0 0
<BR>
The same data generated on another type of (big-endian) workstation would
<BR>
have a count :
<BR>
&nbsp;&nbsp;0 0 0 13
<BR>
In the case I'm working on now, the actual binary data is byte-swapped
<BR>
but not word-swapped, only the leading and trailing record size count.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I've written a small C utility that reads a data file and word-swaps
<BR>
the count, and optionally byte-swaps the data. I'd be happy to make it
<BR>
available if it would help anyone else.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please let me know if this is a previously solved problem, if I've
<BR>
managed to re-invent the wheel, whatever...
<BR>
&nbsp;- Dave
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0761.html">Martin Giguere: "Alpha bios Serial key mapping"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0759.html">Larry Snyder: "Mouse Q"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0768.html">furio ercolessi: "Re: binary data files"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a23</A> 
: <EM>Tue Nov 23 1999 - 09:29:11 AKST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
