<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>AXP-List Hypermail Archive: Gimp/ccc patches</TITLE>
<META NAME="Author" CONTENT="Bibek Sahu (scorpio@dodds.net)">
<META NAME="Subject" CONTENT="Gimp/ccc patches">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Gimp/ccc patches</H1>
<HR>
<P>
<!-- received="Sun Nov 14 13:24:05 1999" -->
<!-- isoreceived="19991114222405" -->
<!-- sent="Sun, 14 Nov 1999 16:23:20 -0600 (CST)" -->
<!-- isosent="19991114222320" -->
<!-- name="Bibek Sahu" -->
<!-- email="scorpio@dodds.net" -->
<!-- subject="Gimp/ccc patches" -->
<!-- id="Pine.LNX.4.10.9911141552100.25641-501000@prophet.dodds.net" -->
<STRONG>Subject: </STRONG>Gimp/ccc patches<BR>
<STRONG>From: </STRONG>Bibek Sahu (<EM>scorpio@dodds.net</EM>)<BR>
<STRONG>Date: </STRONG>Sun Nov 14 1999 - 13:23:20 AKST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#504">[ date ]</A>
<A HREF="index.html#504">[ thread ]</A>
<A HREF="subject.html#504">[ subject ]</A>
<A HREF="author.html#504">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0505.html">mikeh@iuinc.com: "Help with udb"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0503.html">Stephen Williams: "Re: SCSI bus hangs PC164"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0514.html">Tuff Guy: "Re: Gimp/ccc patches"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
</PRE>
<P>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_Compiling Gimp 1.1.10 with ccc_
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(I submitted some of these a while ago, but there was some error and
<BR>
SmartList decided I didn't exist and kicked me off the list.)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In case anyone was wondering, here are some patches to gimp,
<BR>
ltconfig, bison.simple and /usr/include/alloca.h(*) to allow things to
<BR>
better compile with ccc.  In particular, they let me compile gimp with
<BR>
ccc... which is nice &amp; fast. ;-)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Actually, the patches to ltconfig and alloca.h are applicable to
<BR>
anything you want to compile with ccc.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Few programs that uses alloca will correctly compile under ccc
<BR>
without the alloca.h and bison.simple patches(*).
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The ltconfig patch tells ltconfig that yes, shared libraries /do/
<BR>
work if we compile them with ccc.  You can compile programs without this
<BR>
patch, but all internal libraries will be linked statically... this would
<BR>
cause a big memory (and, consequently, often performance) hit in gimp.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The patch to gimp just applies the ltconfig patch to the files that
<BR>
are already there.  For various technical reasons (relating to versions of
<BR>
ltconfig), this is easier than replacing files.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I've also included a [gzip'd] spec file, for those of you who'd like
<BR>
to make rpms.  I've had issues with RedHat's contrib area in the past, so I
<BR>
didn't want to deal with it here.  I'm currently arguing with
<BR>
ftp.alphalinux.org about uploading these files there and src/binary rpms. 
<BR>
I'm getting permission denied, so I wouldn't count on much.
<BR>
<P>- Bob
<BR>
<P>(*) If you don't want to change the default alloca.h for gcc, you /may/ be
<BR>
able to put alloca.h in /usr/lib/compaq/ccc-6.2/alpha-linux/include/ and
<BR>
apply the patch, or symlink
<BR>
/usr/lib/compaq/ccc-6.2/alpha-linux/include/alloca.h -&gt; alpha/builtins.h. 
<BR>
I've not tried either of these, and whether or not they work depends on the
<BR>
include path search order.  I think they'll both work.  YMMV.
<BR>
<P><P><HR>
<UL>
<LI>APPLICATION/octet-stream attachment: <A HREF="att-gimp.spec.gz">gimp.spec.gz</A>
</UL>
<!-- attachment="att-gimp.spec.gz" -->
<P><HR>
<UL>
<LI>TEXT/PLAIN attachment: <A HREF="att-gimp-ccc.patch">gimp-ccc.patch</A>
</UL>
<!-- attachment="att-gimp-ccc.patch" -->
<P><HR>
<UL>
<LI>TEXT/PLAIN attachment: <A HREF="att-alloca.h.patch">alloca.h.patch</A>
</UL>
<!-- attachment="att-alloca.h.patch" -->
<P><HR>
<UL>
<LI>TEXT/PLAIN attachment: <A HREF="att-gimp-ltconfig-ccc.patch">gimp-ltconfig-ccc.patch</A>
</UL>
<!-- attachment="att-gimp-ltconfig-ccc.patch" -->
<P><HR>
<UL>
<LI>TEXT/PLAIN attachment: <A HREF="att-bison.simple.patch">bison.simple.patch</A>
</UL>
<!-- attachment="att-bison.simple.patch" -->
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0505.html">mikeh@iuinc.com: "Help with udb"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0503.html">Stephen Williams: "Re: SCSI bus hangs PC164"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0514.html">Tuff Guy: "Re: Gimp/ccc patches"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a23</A> 
: <EM>Sun Nov 14 1999 - 13:24:06 AKST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
