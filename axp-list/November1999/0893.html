<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>AXP-List Hypermail Archive: Re: ccc and inline assembly...</TITLE>
<META NAME="Author" CONTENT="Mark Abene (phiber@radicalmedia.com)">
<META NAME="Subject" CONTENT="Re: ccc and inline assembly...">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: ccc and inline assembly...</H1>
<HR>
<P>
<!-- received="Sun Nov 28 06:57:50 1999" -->
<!-- isoreceived="19991128155750" -->
<!-- sent="Sun, 28 Nov 1999 11:04:12 -0500" -->
<!-- isosent="19991128160412" -->
<!-- name="Mark Abene" -->
<!-- email="phiber@radicalmedia.com" -->
<!-- subject="Re: ccc and inline assembly..." -->
<!-- id="19991128110412.J4572@radicalmedia.com" -->
<!-- inreplyto="3841244B.2ACF6EA6@voicenet.com" -->
<STRONG>Subject: </STRONG>Re: ccc and inline assembly...<BR>
<STRONG>From: </STRONG>Mark Abene (<EM>phiber@radicalmedia.com</EM>)<BR>
<STRONG>Date: </STRONG>Sun Nov 28 1999 - 07:04:12 AKST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#893">[ date ]</A>
<A HREF="index.html#893">[ thread ]</A>
<A HREF="subject.html#893">[ subject ]</A>
<A HREF="author.html#893">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0894.html">Michal Jaegermann: "Re: Red Hat Rawhide/Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0892.html">Uncle George: "Re: ccc and inline assembly..."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0892.html">Uncle George: "Re: ccc and inline assembly..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0909.html">Uncle George: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Next in thread:</STRONG> <A HREF="0896.html">Dan Frasnelli: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0892.html">Mark Abene: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0893.html">Mark Abene: "Re: ccc and inline assembly..."</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
</PRE>
<P>
Maybe you could enlighten us on what you're trying to accomplish with
<BR>
inline assembly, and I'll try to be more helpful.  :)
<BR>
I can't say I've tried copying /usr/include/machine/pal.h from DU, but I
<BR>
somehow doubt the GNU assembler in linux would know what a &quot;PAL_callsys&quot; was
<BR>
supposed to do.  We don't have the benefit of DU's assembler macros.
<BR>
But for simple user functions, a #define of an asm block of instructions
<BR>
should work fine, as illustrated in the third example in c_asm.h.
<BR>
I'm guessing you're trying to do something more complex?
<BR>
<P>-Mark
<BR>
<P>On Sun, Nov 28, 1999 at 07:47:08AM -0500, Uncle George wrote:
<BR>
<EM>&gt; Tried the example from c-asm.h. No &lt;machine/pal.h&gt; :-/.
</EM><BR>
<EM>&gt; even with that i cannot do &quot;asm ( &quot;.weak &quot; &quot;__sigprocmask&quot;);
</EM><BR>
<EM>&gt; i cannot tell if .weak is a boo boo, or whatever options there are.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;     #include &lt;c_asm.h&gt;
</EM><BR>
<EM>&gt; #if 0
</EM><BR>
<EM>&gt;     #include &lt;machine/pal.h&gt;
</EM><BR>
<EM>&gt; #endif
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;    #define QUOTE(s) #s
</EM><BR>
<EM>&gt;    #define STR(s) QUOTE(s)
</EM><BR>
<EM>&gt;    #define WRUNIQ(uniq) asm(&quot;call_pal &quot; STR(PAL_wruniq), (uniq))
</EM><BR>
<EM>&gt;    #define RDUNIQ() asm(&quot;call_pal &quot; STR(PAL_rduniq))
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;    main()
</EM><BR>
<EM>&gt;        {
</EM><BR>
<EM>&gt;        int i = 123456;
</EM><BR>
<EM>&gt;        int j;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;           WRUNIQ(i);
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;           j = RDUNIQ();
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;           printf(&quot;i=%d; j=%d\n&quot;, i, j);
</EM><BR>
<EM>&gt;          }
</EM><BR>
<EM>&gt; ~
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Uncle George wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; So, i suppose that there is no docs for it.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; gat
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Mark Abene wrote:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; To whoever asked (I think it was Uncle George), the syntax for inline assembly
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0894.html">Michal Jaegermann: "Re: Red Hat Rawhide/Alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0892.html">Uncle George: "Re: ccc and inline assembly..."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0892.html">Uncle George: "Re: ccc and inline assembly..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0909.html">Uncle George: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Next in thread:</STRONG> <A HREF="0896.html">Dan Frasnelli: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0892.html">Mark Abene: "Re: ccc and inline assembly..."</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0893.html">Mark Abene: "Re: ccc and inline assembly..."</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a23</A> 
: <EM>Sun Nov 28 1999 - 06:57:50 AKST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
