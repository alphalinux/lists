<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: USB on UP2000 with RH7 (2.2.19-7.0.1)</H1> 
	
<!-- received="Fri May 04 10:54:49 2001" -->
<!-- isoreceived="20010504175449" -->
<!-- sent="Fri, 04 May 2001 10:01:32 +0100" -->
<!-- isosent="20010504090132" -->
<!-- name="cetus@snowball.ucd.ie" -->
<!-- email="cetus@snowball.ucd.ie" -->
<!-- subject="Re: USB on UP2000 with RH7 (2.2.19-7.0.1)" -->
<!-- id="E14vbSu-000570-00@genie.ucd.ie" -->
<!-- inreplyto="200105031858.f43Iw0r29338@GTEDHCP-133.inetarena.com" -->
<STRONG>Subject: </STRONG>Re: USB on UP2000 with RH7 (2.2.19-7.0.1)<BR>
<EM>cetus@snowball.ucd.ie</EM><BR>
<STRONG>Date: </STRONG>Fri May  4 02:01:32 2001
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#624">[ date ]</A>
<A HREF="index.shtml#624">[ thread ]</A>
<A HREF="subject.shtml#624">[ subject ]</A>
<A HREF="author.shtml#624">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0625.shtml">jonas@detroit.johanneberg.com: "Re: MPEG4 or DivX"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0623.shtml">Helge Kreutzmann: "Re: MPEG4 or DivX"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0620.shtml">Robert M. Riches Jr.: "USB on UP2000 with RH7 (2.2.19-7.0.1)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0628.shtml">Ivan Kokshaysky: "Re: USB on UP2000 with RH7 (2.2.19-7.0.1)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0620.shtml">cetus@snowball.ucd.ie: "Re: USB on UP2000 with RH7 (2.2.19-7.0.1)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Thursday,  3 May, Robert M. Riches Jr. wrote:
<BR>
<EM>&gt;     usb-ohci.c: USB OHCI at membase 0x9010000, IRQ 255
</EM><BR>
<EM>&gt;     usb.c: new USB bus registered, assigned bus number 1
</EM><BR>
<EM>&gt;     usb-ohci.c: request interrupt 255 failed
</EM><BR>
<EM>&gt;     usb.c: USB bus 1 deregistered
</EM><BR>
<P>I've had similar experience on XP1000 under 2.4.4.  For some reason the
<BR>
interrupt number on PCI in the config space for USB is wrong/unconfigured
<BR>
(0 in my case).  I tried changing it with setpci but had no luck.
<BR>
<P>What I ended up with was checking the actual IRQ number from SRM (it
<BR>
happened to be 10) and hardcoding it into usb-ohci.c, function
<BR>
ohci_pci_probe, at the very beginning, just before the check
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!dev-&gt;irq)
<BR>
I just put dev-&gt;irq = 10; there and it worked.
<BR>
<P>Interestingly, after I insmoded all the USB modules I needed, interrupt
<BR>
number on PCI changed to 10!
<BR>
<P><EM>&gt; Is UP2000 actually an OHCI device, or might it be UHCI?
</EM><BR>
<P>Most likely it is.
<BR>
<P>Nikita
<BR>
<P><P><P>_______________________________________________
<BR>
Axp-list mailing list
<BR>
Axp-list@redhat.com
<BR>
https://listman.redhat.com/mailman/listinfo/axp-list
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0625.shtml">jonas@detroit.johanneberg.com: "Re: MPEG4 or DivX"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0623.shtml">Helge Kreutzmann: "Re: MPEG4 or DivX"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0620.shtml">Robert M. Riches Jr.: "USB on UP2000 with RH7 (2.2.19-7.0.1)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0628.shtml">Ivan Kokshaysky: "Re: USB on UP2000 with RH7 (2.2.19-7.0.1)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0620.shtml">cetus@snowball.ucd.ie: "Re: USB on UP2000 with RH7 (2.2.19-7.0.1)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Sat May  5 06:18:15 2001 PDT <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
