<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: Floppy less install (solved)</H1> 
	
<!-- received="Thu Apr 12 22:41:25 2001" -->
<!-- isoreceived="20010413054125" -->
<!-- sent="Thu, 12 Apr 2001 17:37:08 -0400" -->
<!-- isosent="20010412213708" -->
<!-- name="Peter Petrakis" -->
<!-- email="ppetrakis@alphalinux.org" -->
<!-- subject="Re: Floppy less install (solved)" -->
<!-- id="3AD62004.D54B5665@alphalinux.org" -->
<!-- inreplyto="200104122020.f3CKK1E10256@dymwsm10.mailwatch.com" -->
<STRONG>Subject: </STRONG>Re: Floppy less install (solved)<BR>
<STRONG>From: </STRONG>Peter Petrakis (<EM>ppetrakis@alphalinux.org</EM>)<BR>
<STRONG>Date: </STRONG>Thu Apr 12 14:37:08 2001
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#344">[ date ]</A>
<A HREF="index.shtml#344">[ thread ]</A>
<A HREF="subject.shtml#344">[ subject ]</A>
<A HREF="author.shtml#344">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0345.shtml">Michal Jaegermann: "Re: Alpha PC164, SRM, and Adaptec 2940UW"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0343.shtml">Mohan: "Re: Floppy less install (solved)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0343.shtml">Mohan: "Re: Floppy less install (solved)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0340.shtml">Soohoon Lee: "RE: Floppy less install"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0343.shtml">Peter Petrakis: "Re: Floppy less install (solved)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
:-)
<BR>
<P>If i knew you where doing this off a serial console I would have
<BR>
pointed you to this.  
<BR>
<P><A HREF="http://www.api-networks.com/products/downloads/customer_support/CS20/Kernels/api-cs20-rh70-install.bootp">http://www.api-networks.com/products/downloads/customer_support/CS20/Kernels/api-cs20-rh70-install.bootp</A>
<BR>
<P><P><A HREF="http://www.api-networks.com/products/downloads/customer_support/CS20/Kernels/README.txt">http://www.api-networks.com/products/downloads/customer_support/CS20/Kernels/README.txt</A>
<BR>
<P>Peter
<BR>
<P>Mohan wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Peter,
</EM><BR>
<EM>&gt;  It seems like &quot;root=/dev/ramdisk&quot; was what I needed. I am not sure
</EM><BR>
<EM>&gt;  why &quot;root=/dev/ram&quot; would not work? The machine is a DS20 with 1GB
</EM><BR>
<EM>&gt;  of RAM. I am testing the floppyless install setup on this so that
</EM><BR>
<EM>&gt;  i can do a lot more machines.
</EM><BR>
<EM>&gt;  As far as the Kernel, it is a custom 2.2.18 kernel with all the
</EM><BR>
<EM>&gt;  initrd , ramdisk stuff turned on. Here is the successfull launch
</EM><BR>
<EM>&gt;  screen:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 Red Hat install init version 7.0 using a serial
</EM><BR>
<EM>&gt; console
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 remember, cereal is an important part of a
</EM><BR>
<EM>&gt; nutritionally balanced brea
</EM><BR>
<EM>&gt; kfast.
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 could not set new controlling tty
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 checking for NFS root filesystem...no
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 trying to remount root filesystem read write... done
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 checking for writeable /tmp... yes
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 running install...
</EM><BR>
<EM>&gt; 12/Apr/2001 16:11:11 running /sbin/loader
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; When it used to fail, I think it could not mount a root filesystem.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;  Also, I tried Lee's netbootwrap executable, it seems cool, but I
</EM><BR>
<EM>&gt;  get this message when I try it:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; P00&gt;&gt;&gt;boot ewa0 -fi &quot;&quot; -fl &quot;&quot;
</EM><BR>
<EM>&gt; (boot ewa0.0.0.2002.1)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Trying BOOTP boot.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Broadcasting BOOTP Request...
</EM><BR>
<EM>&gt; Received BOOTP Packet File Name is: /tftpboot/y2k05/vmlinux.bootp
</EM><BR>
<EM>&gt; local inet address: 19.1.62.59
</EM><BR>
<EM>&gt; remote inet address: 19.1.62.39
</EM><BR>
<EM>&gt; TFTP Read File Name: /tftpboot/y2k05/vmlinux.bootp
</EM><BR>
<EM>&gt; netmask = 255.0.0.0
</EM><BR>
<EM>&gt; Server is on same subnet as client.
</EM><BR>
<EM>&gt; ..............................................
</EM><BR>
<EM>&gt; bootstrap code read in
</EM><BR>
<EM>&gt; base = 200000, image_start = 0, image_bytes = 2da000
</EM><BR>
<EM>&gt; initializing HWRPB at 2000
</EM><BR>
<EM>&gt; initializing page table at 3ff58000
</EM><BR>
<EM>&gt; initializing machine state
</EM><BR>
<EM>&gt; setting affinity to the primary CPU
</EM><BR>
<EM>&gt; jumping to bootstrap code
</EM><BR>
<EM>&gt; Removing from poll queue.
</EM><BR>
<EM>&gt; aboot: Linux/Alpha SRM bootloader version 0.7
</EM><BR>
<EM>&gt; aboot: switching to OSF/1 PALcode version 1.79
</EM><BR>
<EM>&gt; aboot: loading initrd (1474560 bytes/2880 blocks) at 0xfffffc003fdee000
</EM><BR>
<EM>&gt; inbuf fffffc003fc66000 window fffffc003fc5e000
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; unzip: unknown compression method
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; halted CPU 0
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; halt code = 2
</EM><BR>
<EM>&gt; kernel stack not valid halt
</EM><BR>
<EM>&gt; PC = 0
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;   Thanks again,
</EM><BR>
<EM>&gt;   Mohan
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Thu, 12 Apr 2001, Peter Petrakis wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; How much ram do you have in the system? If you have over 1G
</EM><BR>
<EM>&gt; &gt; you need BM support + robust initrd support or the initrd gets
</EM><BR>
<EM>&gt; &gt; overwriten. Could you possibly post the output of this thing booting?
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Peter
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Mohan wrote:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Rich,Peter,
</EM><BR>
<EM>&gt; &gt; &gt;  Thanks. It was INITRD indeed. Unfortunately, I still get the
</EM><BR>
<EM>&gt; &gt; &gt;  message &quot;creating 300k of ramdisk space... failed&quot;. At least
</EM><BR>
<EM>&gt; &gt; &gt;  it says correctly that it found the RAMDISK. I gave root=/dev/ram?
</EM><BR>
<EM>&gt; &gt; &gt;  Do I have to give it something else?
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt;  Thanks
</EM><BR>
<EM>&gt; &gt; &gt;  Mohan
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; On Thu, 12 Apr 2001, Peter Petrakis wrote:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; acually it's
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; INITRD = /path/to/ramdisk.img
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; You'll see that you did it right when you run a make bootpfile.
</EM><BR>
<EM>&gt; &gt; &gt; &gt; The ramdisk will be cat'd onto the end of the bootimage.
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Peter
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Rich Payne wrote:
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; On Thu, 12 Apr 2001, Mohan wrote:
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt; Greetings
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  I am trying to install RH70 floppyless, over the network.
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  I have a bootp kernel that I boot and then I loop mounted
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  the &quot;ramdisk.img&quot; on my install server. Everything works
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  fine, the rh install program starts but fails with
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  &quot;creating 300k ramdisk space... failed&quot;. I checked all the
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  permissions and they seemed to be ok.
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  Has anyone tried this with RH70. In previous versions of RH
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  they has the install root fs on the CD and it was not a problem,
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  with 70 they seemed to have removed that.
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  OR
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  Is there a way to tag the &quot;ramdisk.img&quot; to my bootp kernel? I know
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  this techniqe is used in the mips based decstation. Can this be done
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  for the alphas?
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; Yes, edit the top level kernel Makefile, add
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; RAMDISK=/path/to/ramdisk.img
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; then do a make bootpfile
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; I think that's right.
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; --rdp
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  Thanks
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;  Mo
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt; _______________________________________________
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt; Axp-list mailing list
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt; Axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt; https://listman.redhat.com/mailman/listinfo/axp-list
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; --
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; Rich Payne
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; rpayne@alphalinux.org                   www.alphalinux.org
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; _______________________________________________
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; Axp-list mailing list
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; Axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt; https://listman.redhat.com/mailman/listinfo/axp-list
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; _______________________________________________
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Axp-list mailing list
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt; &gt; &gt; https://listman.redhat.com/mailman/listinfo/axp-list
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; _______________________________________________
</EM><BR>
<EM>&gt; &gt; &gt; Axp-list mailing list
</EM><BR>
<EM>&gt; &gt; &gt; Axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt; &gt; https://listman.redhat.com/mailman/listinfo/axp-list
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; _______________________________________________
</EM><BR>
<EM>&gt; &gt; Axp-list mailing list
</EM><BR>
<EM>&gt; &gt; Axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt; https://listman.redhat.com/mailman/listinfo/axp-list
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; _______________________________________________
</EM><BR>
<EM>&gt; Axp-list mailing list
</EM><BR>
<EM>&gt; Axp-list@redhat.com
</EM><BR>
<EM>&gt; https://listman.redhat.com/mailman/listinfo/axp-list
</EM><BR>
<P><P><P>_______________________________________________
<BR>
Axp-list mailing list
<BR>
Axp-list@redhat.com
<BR>
https://listman.redhat.com/mailman/listinfo/axp-list
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0345.shtml">Michal Jaegermann: "Re: Alpha PC164, SRM, and Adaptec 2940UW"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0343.shtml">Mohan: "Re: Floppy less install (solved)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0343.shtml">Mohan: "Re: Floppy less install (solved)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0340.shtml">Soohoon Lee: "RE: Floppy less install"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0343.shtml">Peter Petrakis: "Re: Floppy less install (solved)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Sat May  5 06:18:13 2001 PDT <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
