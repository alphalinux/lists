<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Strange Network Hang</TITLE>
<META NAME="Author" CONTENT="Gavin Woodhatch (gavin@space4u.com)">
<META NAME="Subject" CONTENT="Strange Network Hang">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Strange Network Hang</H1>
<HR>
<P>
<!-- received="Thu Mar 11 11:29:02 1999 PST" -->
<!-- sent="Thu, 11 Mar 1999 12:23:05 +0100" -->
<!-- name="Gavin Woodhatch" -->
<!-- email="gavin@space4u.com" -->
<!-- subject="Strange Network Hang" -->
<!-- id="002401be6bb1$b33d6040$dc5a14ac@3020.csz.also.ch" -->
<!-- inreplyto="" -->
<STRONG>Gavin Woodhatch</STRONG> (<A HREF="mailto:gavin@space4u.com?subject=Re:%20Strange%20Network%20Hang"><EM>gavin@space4u.com</EM></A>)<BR>
<EM>Thu, 11 Mar 1999 12:23:05 +0100</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#582">[ date ]</A>
<A HREF="index.html#582">[ thread ]</A>
<A HREF="subject.html#582">[ subject ]</A>
<A HREF="author.html#582">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0583.html">Uncle George: "dlopen() et al loads multiple copies of same shared lib"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0581.html">Hirsim{ki Mika: "164LX and Adaptec 2940U2W"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>I am having strange problems with my Alphastation 500, now running Kernel
<BR>
2.2.3 (the problem turned up with kernel 2.0.35 and 2.2.2ac7). That when the
<BR>
maschine gets attacked, the network interface (eth0) stops working. What
<BR>
happens : I can ping my own eth0 from the console, but pinging the network
<BR>
times out. Likewise an other host on the internet cannot ping my Server.
<BR>
<P>The fact that this accured with 2.2.2ac7 and 2.0.35 leads me to belive  it
<BR>
may  not be kerrnel problem. But what i found strange was the server was up
<BR>
the whole day. syn_cookie support was in the kernel, but not enabled. at
<BR>
about 22:00 CET i enabled that with &quot;echo 1 &gt;
<BR>
/proc/sys/net/ipv4/tcp_syncookies&quot; and while later (about 20 min - 30 min)
<BR>
the connection died on me ( i was logged in with telnet) .. and after that
<BR>
there was no more answer till i reset the server this morning.
<BR>
<P>The Server is Running :
<BR>
<P>Kernel 2.2.3 (was 2.2.2ac7 yesterday)
<BR>
Apache 1.3.4 &amp; PHP 3.07 &amp; Ben-SSL 1.3.1
<BR>
Sendmail 8.9.3
<BR>
<P>I compiled thease programs with egcs 1.1.1
<BR>
<P>/var/log/messages shows :
<BR>
<P>Mar 10 22:54:38 sigi kernel: possible SYN flooding on port 80. Sending
<BR>
cookies.
<BR>
Mar 10 22:55:39 sigi kernel: possible SYN flooding on port 80. Sending
<BR>
cookies.
<BR>
Mar 10 22:56:39 sigi kernel: possible SYN flooding on port 80. Sending
<BR>
cookies.
<BR>
Mar 10 22:57:39 sigi kernel: possible SYN flooding on port 80. Sending
<BR>
cookies.
<BR>
&lt;snip&gt;
<BR>
Mar 11 02:13:13 sigi kernel: possible SYN flooding on port 80. Sending
<BR>
cookies.
<BR>
<P>One other wierd thing : named was not running .. and there were no hourly
<BR>
stats in the log file ..
<BR>
hmm wonder if thats got anything to do with it...
<BR>
<P>no other strange log messages ..
<BR>
<P>Update : i just had an other telnet session open ( this time 2.2.3) and the
<BR>
network I/F died again :((
<BR>
I booted the alpha about 1,5 hours ago ..
<BR>
and again . in /var/log/messages
<BR>
<P>Mar 11 11:45:13 sigi kernel: possible SYN flooding on port 80. Sending
<BR>
cookies
<BR>
&lt;snip&gt;
<BR>
Mar 11 11:55:08 sigi kernel: possible SYN flooding on port 80. Sending
<BR>
cookies.
<BR>
<P><P><P>I will update BIND, inetd , and net-tools , but if that doesn't help .. i am
<BR>
clueless
<BR>
<P>and disable syn_cookie support . .(could it be buggy ?)
<BR>
<P>and boy are my customers unhappy
<BR>
<P><P><P>Regards
<BR>
<P>Gavin Woodhatch
<BR>
<P><P><P><P><P><P><P><P><P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Strange%20Network%20Hang">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Strange%20Network%20Hang">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0583.html">Uncle George: "dlopen() et al loads multiple copies of same shared lib"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0581.html">Hirsim{ki Mika: "164LX and Adaptec 2940U2W"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Thu Mar 11 1999 - 04:00:16 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
