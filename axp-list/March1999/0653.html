<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: 21064A D-cache is 8KB under Linux (fwd)</TITLE>
<META NAME="Author" CONTENT="B. James Phillippe (bryan@terran.org)">
<META NAME="Subject" CONTENT="Re: 21064A D-cache is 8KB under Linux (fwd)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: 21064A D-cache is 8KB under Linux (fwd)</H1>
<HR>
<P>
<!-- received="Fri Mar 12 20:41:33 1999 PST" -->
<!-- sent="Fri, 12 Mar 1999 12:38:56 -0800 (PST)" -->
<!-- name="B. James Phillippe" -->
<!-- email="bryan@terran.org" -->
<!-- subject="Re: 21064A D-cache is 8KB under Linux (fwd)" -->
<!-- id="Pine.LNX.4.05.9903121238250.3596-100000@earth.terran.org" -->
<!-- inreplyto="21064A D-cache is 8KB under Linux (fwd)" -->
<STRONG>B. James Phillippe</STRONG> (<A HREF="mailto:bryan@terran.org?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)"><EM>bryan@terran.org</EM></A>)<BR>
<EM>Fri, 12 Mar 1999 12:38:56 -0800 (PST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#653">[ date ]</A>
<A HREF="index.html#653">[ thread ]</A>
<A HREF="subject.html#653">[ subject ]</A>
<A HREF="author.html#653">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0654.html">Arkadiy Chapkis - Arc: "RE: Memory problems during install"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0652.html">Ron Farrer: "Strage lockup yet again..."</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Can an Alpha expert comment on this?  I'd like to know more.
<BR>
<P>-bp
<BR>
<PRE>
--
B. James Phillippe		. <A HREF="mailto:bryan@terran.org?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">bryan@terran.org</A>
Software Engineer, WGT Inc.	. <A HREF="http://www.terran.org/~bryan">http://www.terran.org/~bryan</A>
<P>---------- Forwarded message ----------
Subject: Re: 21064A D-cache is 8KB under Linux
Date: 12 Mar 1999 16:12:49 GMT
From: Anton Ertl &lt;<A HREF="mailto:anton@mips.complang.tuwien.ac.at?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">anton@mips.complang.tuwien.ac.at</A>&gt;
Newsgroups: comp.os.linux.alpha
<P>In article &lt;7c8oqm$a9r$<A HREF="mailto:1@news.tuwien.ac.at?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">1@news.tuwien.ac.at</A>&gt;,
 <A HREF="mailto:anton@mips.complang.tuwien.ac.at?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">anton@mips.complang.tuwien.ac.at</A> (Anton Ertl) writes:
&gt; In article &lt;7c6ps1$up3$<A HREF="mailto:1@prince.dataforce.net?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">1@prince.dataforce.net</A>&gt;,
&gt;  Solar Designer &lt;<A HREF="mailto:solar@cannabis.dataforce.net?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">solar@cannabis.dataforce.net</A>&gt; writes:
&gt; &gt; Anton Ertl &lt;<A HREF="mailto:anton@mips.complang.tuwien.ac.at?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">anton@mips.complang.tuwien.ac.at</A>&gt; wrote:
&gt; &gt; &gt; Would simply setting the DC_16K bit be enough?  I doubt it; OSs
&gt; &gt; &gt; typically need special magic to deal with virtually-indexed caches.
<P>Ok, I have tried to think up a case where the virtually indexed cache
could be a problem; I wrote a program to exercise this case
(<A HREF="http://www.complang.tuwien.ac.at/anton/toggle_dc_16k/mapcheck.c">http://www.complang.tuwien.ac.at/anton/toggle_dc_16k/mapcheck.c</A>), and
it turns out that everything works well.  I guess that the cache
consistency issues are handled in hardware. I just wonder why there is
an 8KB mode at all.
<P>So, I think it is safe to switch the D-cache to 16K.  You are invited
to try it (all the material is available at
<A HREF="http://www.complang.tuwien.ac.at/anton/toggle_dc_16k/">http://www.complang.tuwien.ac.at/anton/toggle_dc_16k/</A>), and report
results to me.
<P>IMO this should go into the Linux startup code for EV45-based Alphas.
Does anyone know whom I should contact for these kernel patches (the
MAINTAINERS file does not list an Alpha maintainer).
<P>- anton
<PRE>
-- 
M. Anton Ertl                    Some things have to be seen to be believed
<A HREF="mailto:anton@mips.complang.tuwien.ac.at?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">anton@mips.complang.tuwien.ac.at</A> Most things have to be believed to be seen
<A HREF="http://www.complang.tuwien.ac.at/anton/home.html">http://www.complang.tuwien.ac.at/anton/home.html</A>
<P><P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%2021064A%20D-cache%20is%208KB%20under%20Linux%20(fwd)">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0654.html">Arkadiy Chapkis - Arc: "RE: Memory problems during install"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0652.html">Ron Farrer: "Strage lockup yet again..."</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Fri Mar 12 1999 - 13:07:08 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
