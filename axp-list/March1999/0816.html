<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Newbie to port-IO programming on Alpha</TITLE>
<META NAME="Author" CONTENT="Martin Ostermann (ost@comnets.rwth-aachen.de)">
<META NAME="Subject" CONTENT="Re: Newbie to port-IO programming on Alpha">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Newbie to port-IO programming on Alpha</H1>
<HR>
<P>
<!-- received="Mon Mar 15 09:38:13 1999 PST" -->
<!-- sent="15 Mar 1999 10:35:39 +0100" -->
<!-- name="Martin Ostermann" -->
<!-- email="ost@comnets.rwth-aachen.de" -->
<!-- subject="Re: Newbie to port-IO programming on Alpha" -->
<!-- id="437lsjw0wk.fsf@comnets.rwth-aachen.de" -->
<!-- inreplyto="Sun, 14 Mar 1999 14:42:31 -0800 (PST)&quot;" -->
<STRONG>Martin Ostermann</STRONG> (<A HREF="mailto:ost@comnets.rwth-aachen.de?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha"><EM>ost@comnets.rwth-aachen.de</EM></A>)<BR>
<EM>15 Mar 1999 10:35:39 +0100</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#816">[ date ]</A>
<A HREF="index.html#816">[ thread ]</A>
<A HREF="subject.html#816">[ subject ]</A>
<A HREF="author.html#816">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0815.html">Andreas Krebs: "Re: Alpha too slow?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0810.html">Vignaud Jean-Baptiste: "RE: Alpha too slow?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0695.html">Bart Warmerdam: "Re: Newbie to port-IO programming on Alpha"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
On Sun, 14 Mar 1999 14:42:31 -0800 (PST), &quot;B. James Phillippe&quot; &lt;<A HREF="mailto:bryan@terran.org?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">bryan@terran.org</A>&gt; said:
<BR>
<EM>&gt; The kernel IO functions are the only IO functions, unless you write your
</EM><BR>
<EM>&gt; own architecture-dependent version for every CPU you plan to support in
</EM><BR>
<EM>&gt; your code.  
</EM><BR>
<P>Well, that was already done some years ago. I helped to wipe some
<BR>
bugs out of it... 
<BR>
<P>Anyway, the CPU isn't the problem, but the glue logic, which is
<BR>
different on about any Alpha system type. After all, that's the reason
<BR>
we speak of different system types at all.
<BR>
<P><EM>&gt; There are no IO definitions in the standard library, and it
</EM><BR>
<P>This is wrong, there are IO functions in (g)libc for Linux/Alpha. The
<BR>
Xservers (XFree) use them, for example. Clock as well. I don't know 
<BR>
about glibc on other systems, including Linux/x86, though.
<BR>
<P>Your right, if you mean that i/o is not defined in Posix, and you
<BR>
cannot expect that you problem will work on any Unix system. But I
<BR>
what I was talking about was to ensure that it will work on any
<BR>
Linux/Alpha system!
<BR>
<P><EM>&gt; doesn't make sense for there to be any; IO is inherently
</EM><BR>
<EM>&gt; architecture-dependent. 
</EM><BR>
<P>Yes, IO is architecture dependent, this is exactly the reason you don't 
<BR>
wont to compile for just one type. This is a good reason to have it in
<BR>
the library. Note again, we're talking about the Alpha system type,
<BR>
not any issues between different CPU architectures. 
<BR>
<P>Glibc on Linux/Alpha looks upon first use at  /proc/cpuinfo, or
<BR>
/etc/systype to determine the type of the system, and than uses a
<BR>
specific function for the type it determines. Well, it would also make
<BR>
sense if would be possible to install a HW specific version of the
<BR>
library, but most people believe it's not worth the trouble, so it
<BR>
wasn't done that way. 
<BR>
<P><EM>&gt; And what do you mean &quot;if they compile at all&quot;?
</EM><BR>
<P>Just what I said. There are '#ifdef KERNEL' constructs in those
<BR>
files. Architecture dependend files get included too, and not every
<BR>
architecture was tested to compile outside the kernel. Maybe they all
<BR>
do compile knowadays, but that would be luck, IMHO.
<BR>
<P>I don't have access to my Alpha right know, thus I cannot point to the
<BR>
exact location of those definitions in (g)libc, but I guess you'll
<BR>
find them if you look hard enough. 
<BR>
<P>Martin
<BR>
<PRE>
-- 
Martin Ostermann                | mailto:ost+<A HREF="mailto:sig0@comnets.rwth-aachen.de?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">sig0@comnets.rwth-aachen.de</A>
Communication Networks          | <A HREF="http://www.comnets.rwth-aachen.de/~ost">http://www.comnets.rwth-aachen.de/~ost</A>
Aachen University of Technology | phone: ++49/241/807917
Germany                         | fax: ++49/241/8890378
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0815.html">Andreas Krebs: "Re: Alpha too slow?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0810.html">Vignaud Jean-Baptiste: "RE: Alpha too slow?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0695.html">Bart Warmerdam: "Re: Newbie to port-IO programming on Alpha"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Mon Mar 15 1999 - 02:00:25 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
