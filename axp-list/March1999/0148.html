<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: MVI with gcc</TITLE>
<META NAME="Author" CONTENT="Robert Harley (Robert.Harley@inria.fr)">
<META NAME="Subject" CONTENT="MVI with gcc">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>MVI with gcc</H1>
<HR>
<P>
<!-- received="Wed Mar 03 17:07:08 1999 PST" -->
<!-- sent="Wed, 3 Mar 1999 18:05:03 +0100 (MET)" -->
<!-- name="Robert Harley" -->
<!-- email="Robert.Harley@inria.fr" -->
<!-- subject="MVI with gcc" -->
<!-- id="199903031705.SAA17636@pauillac.inria.fr" -->
<!-- inreplyto="" -->
<STRONG>Robert Harley</STRONG> (<A HREF="mailto:Robert.Harley@inria.fr?subject=Re:%20MVI%20with%20gcc"><EM>Robert.Harley@inria.fr</EM></A>)<BR>
<EM>Wed, 3 Mar 1999 18:05:03 +0100 (MET)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#148">[ date ]</A>
<A HREF="index.html#148">[ thread ]</A>
<A HREF="subject.html#148">[ subject ]</A>
<A HREF="author.html#148">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0149.html">Mark Conway Wirt: "Re: Dead Alpha/Corrupted SRM (QSNVR)?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0147.html">Andreas Krebs: "Re: Alpha too slow?"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
In thread &quot;Alpha too slow?&quot;, Andreas Krebs (<A HREF="mailto:krebs@qkal.sap-ag.de?subject=Re:%20MVI%20with%20gcc">krebs@qkal.sap-ag.de</A>) wrote:
<BR>
<P><EM>&gt;under digital unix you need to following code in me.c:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;#include &lt;c_asm.h&gt;
</EM><BR>
<EM>&gt;#define perr(v1, v2) (asm(&quot;perr %a0, %a1, %v0&quot;, (v1), (v2)))
</EM><BR>
<P><P>With gcc and friends you can do something like this:
<BR>
<P>#if defined(__GNUC__) &amp;&amp; defined(__alpha)
<BR>
<P>#define perr(v1, v2) \
<BR>
&nbsp;({ u64 tmp;                                                            \
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;asm (&quot;umulh %1,%2,%0&quot; : &quot;=r&quot; (tmp) : &quot;%rJ&quot; (v1), &quot;rI&quot; (v2));        \
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;tmp;                                                                \
<BR>
&nbsp;})
<BR>
<P>#else
<BR>
<P>#error Bogosity detected.
<BR>
<P>#endif
<BR>
<P><P>At least I think so!  Perhaps someone who knows a bit about asm()'s
<BR>
can chime in to confirm or deny...
<BR>
<P>Bye,
<BR>
&nbsp;&nbsp;Rob.
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20MVI%20with%20gcc">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20MVI%20with%20gcc">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0149.html">Mark Conway Wirt: "Re: Dead Alpha/Corrupted SRM (QSNVR)?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0147.html">Andreas Krebs: "Re: Alpha too slow?"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Mar 03 1999 - 10:00:10 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
