<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: FS errors -&gt; time problem</TITLE>
<META NAME="Author" CONTENT="Dan Morrill (morrildl@nycap.rr.com)">
<META NAME="Subject" CONTENT="FS errors -&gt; time problem">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>FS errors -&gt; time problem</H1>
<HR>
<P>
<!-- received="Wed Mar 10 04:45:15 1999 PST" -->
<!-- sent="Tue, 9 Mar 1999 23:43:22 -0500 (EST)" -->
<!-- name="Dan Morrill" -->
<!-- email="morrildl@nycap.rr.com" -->
<!-- subject="FS errors -&gt; time problem" -->
<!-- id="Pine.LNX.4.04.9903092328120.1247-100000@toshiba-179-24.nycap.rr.com" -->
<!-- inreplyto="" -->
<STRONG>Dan Morrill</STRONG> (<A HREF="mailto:morrildl@nycap.rr.com?subject=Re:%20FS%20errors%20-&gt;%20time%20problem"><EM>morrildl@nycap.rr.com</EM></A>)<BR>
<EM>Tue, 9 Mar 1999 23:43:22 -0500 (EST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#512">[ date ]</A>
<A HREF="index.html#512">[ thread ]</A>
<A HREF="subject.html#512">[ subject ]</A>
<A HREF="author.html#512">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0511.html">Matthew Geier: "Re: Howto remove /proc/kcore?"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I have a SCSI CD drive in my SX164, so I suffer from the kernel oops that results
<BR>
if you attempt to load sr_mod as a module.
<BR>
<P>I built 2.2.3 to see if it had been fixed, and did a test modprobe, and
<BR>
discovered that it is, in fact, not fixed yet.
<BR>
<P>My problem is that, like an idiot, I forgot to sync before doing the modprobe.
<BR>
The next reboot (after the kernel oops and subsequent power cycle), fsck turned
<BR>
up a bunch of bad/duplicate blocks and dropped into single-user mode.  I ran
<BR>
fsck manually, answered yes to all the questions about fixing bad blocks, watched
<BR>
a bunch of files go by (mostly in /var/run, so I wasn't *too* worried), and
<BR>
rebooted.
<BR>
<P>The system comes back up fine.  The only permanent problem I've found is that
<BR>
my clock now thinks it's 2019 (a la Red Hat 5.1).  The AlphaBIOS (v5.62) says
<BR>
it's 1999, and if I do an `rdate -s time.gmt.org` and run `clock` from a prompt,
<BR>
clock gives the correct date.
<BR>
<P>I poked around some and discovered that /sbin/clock is dying whenever it gets
<BR>
the -a option (which instructs it to actually change the CMOS) with a floating
<BR>
point exception.  This, needless to say, strikes me as a rather weird result of
<BR>
a filesystem recovery.  I reinstalled the clock .rpm from my RH 5.2 CD, to no
<BR>
avail.  I've checked, and &quot;-a -A -u&quot; is actually getting passed to clock from
<BR>
/etc/rc.d/rc.sysinit, so I guess that I've somehow broken clock so that it is
<BR>
dying on the &quot;-a&quot; during startup, thereby failing to set my clock.
<BR>
<P>So, does anyone have any idea what the fsck happened to my clock?  More
<BR>
importantly, does anyone know how I can clean my clock?  (Sorry, I couldn't
<BR>
resist. ;)
<BR>
<P><P>The moral of the story, of course, is &quot;Always sync.  Sync is your friend.&quot;
<BR>
<P><P><P>Dan Morrill
<BR>
Computer Scientist, Physicist
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20FS%20errors%20-&gt;%20time%20problem">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20FS%20errors%20-&gt;%20time%20problem">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0511.html">Matthew Geier: "Re: Howto remove /proc/kcore?"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Mar 09 1999 - 21:00:18 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
