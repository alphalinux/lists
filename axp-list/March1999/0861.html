<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Newbie to port-IO programming on Alpha</TITLE>
<META NAME="Author" CONTENT="B. James Phillippe (bryan@terran.org)">
<META NAME="Subject" CONTENT="Re: Newbie to port-IO programming on Alpha">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Newbie to port-IO programming on Alpha</H1>
<HR>
<P>
<!-- received="Mon Mar 15 17:27:13 1999 PST" -->
<!-- sent="Mon, 15 Mar 1999 09:18:27 -0800 (PST)" -->
<!-- name="B. James Phillippe" -->
<!-- email="bryan@terran.org" -->
<!-- subject="Re: Newbie to port-IO programming on Alpha" -->
<!-- id="Pine.LNX.4.05.9903150855120.15396-100000@earth.terran.org" -->
<!-- inreplyto="437lsjw0wk.fsf@comnets.rwth-aachen.de" -->
<STRONG>B. James Phillippe</STRONG> (<A HREF="mailto:bryan@terran.org?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha"><EM>bryan@terran.org</EM></A>)<BR>
<EM>Mon, 15 Mar 1999 09:18:27 -0800 (PST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#861">[ date ]</A>
<A HREF="index.html#861">[ thread ]</A>
<A HREF="subject.html#861">[ subject ]</A>
<A HREF="author.html#861">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0862.html">Peter Petrakis: "Re: KDE Requirements?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0860.html">Peter Petrakis: "Re: Alpha Multia question...."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0855.html">William Woods: "Re: Alpha Multia question...."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0695.html">Bart Warmerdam: "Re: Newbie to port-IO programming on Alpha"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
On 15 Mar 1999, Martin Ostermann wrote:
<BR>
<P><EM>&gt; On Sun, 14 Mar 1999 14:42:31 -0800 (PST), &quot;B. James Phillippe&quot; &lt;<A HREF="mailto:bryan@terran.org?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">bryan@terran.org</A>&gt; said:
</EM><BR>
<EM>&gt; &gt; The kernel IO functions are the only IO functions, unless you write your
</EM><BR>
<EM>&gt; &gt; own architecture-dependent version for every CPU you plan to support in
</EM><BR>
<EM>&gt; &gt; your code.  
</EM><BR>
...
<BR>
<EM>&gt; Anyway, the CPU isn't the problem, but the glue logic, which is
</EM><BR>
<EM>&gt; different on about any Alpha system type. After all, that's the reason
</EM><BR>
<P>You're right.  I thought you were talking about IO in general, and not
<BR>
just between Alpha systems.  My mistake.
<BR>
<P><EM>&gt; &gt; There are no IO definitions in the standard library, and it
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; This is wrong, there are IO functions in (g)libc for Linux/Alpha. The
</EM><BR>
...
<BR>
<EM>&gt; Glibc on Linux/Alpha looks upon first use at  /proc/cpuinfo, or
</EM><BR>
<EM>&gt; /etc/systype to determine the type of the system, and than uses a
</EM><BR>
<P>..Ack... this sounds bogus.  Seems like there must be a better way (not
<BR>
using the macro or inline version, and having the IO functions call into
<BR>
the kernel where they would always DTRT for that platform/system type).
<BR>
<P><EM>&gt; &gt; And what do you mean &quot;if they compile at all&quot;?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Just what I said. There are '#ifdef KERNEL' constructs in those
</EM><BR>
<P>The point I made was the &lt;sys/io.h&gt; includes &lt;asm/io.h&gt; right away.  I
<BR>
don't see how then the glibc header file is platform-independant then.
<BR>
<P><EM>&gt; I don't have access to my Alpha right know, thus I cannot point to the
</EM><BR>
<EM>&gt; exact location of those definitions in (g)libc, but I guess you'll
</EM><BR>
<EM>&gt; find them if you look hard enough. 
</EM><BR>
<P>I've looked, before and after receiving your email.  I could not find them
<BR>
anywhere in glibc.  When I compile a one-line program that includes
<BR>
&lt;sys/io.h&gt; and returns inb, nm shows the symbol unresolved (though the
<BR>
program compiles and executes normally).  All that I can see in &lt;sys/io.h&gt;
<BR>
is that ioperm and iopl are declared as extern.  This doesn't even make
<BR>
sense for Alpha, so I assume if those functions are defined in the glibc
<BR>
that they're noops geared only to aid in porting(?)
<BR>
<P>cheers,
<BR>
-bp
<BR>
<PRE>
--
B. James Phillippe		. <A HREF="mailto:bryan@terran.org?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">bryan@terran.org</A>
Software Engineer, WGT Inc.	. <A HREF="http://www.terran.org/~bryan">http://www.terran.org/~bryan</A>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Newbie%20to%20port-IO%20programming%20on%20Alpha">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0862.html">Peter Petrakis: "Re: KDE Requirements?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0860.html">Peter Petrakis: "Re: Alpha Multia question...."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0855.html">William Woods: "Re: Alpha Multia question...."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0695.html">Bart Warmerdam: "Re: Newbie to port-IO programming on Alpha"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Mon Mar 15 1999 - 10:00:29 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
