<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: SCSI BUS running out of stream? (HD performance)</TITLE>
<META NAME="Author" CONTENT="Bob McElrath (mcelrath@draal.physics.wisc.edu)">
<META NAME="Subject" CONTENT="Re: SCSI BUS running out of stream? (HD performance)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: SCSI BUS running out of stream? (HD performance)</H1>
<HR>
<P>
<!-- received="Wed Mar 17 16:35:37 1999 PST" -->
<!-- sent="Wed, 17 Mar 1999 10:33:12 -0600 (CST)" -->
<!-- name="Bob McElrath" -->
<!-- email="mcelrath@draal.physics.wisc.edu" -->
<!-- subject="Re: SCSI BUS running out of stream? (HD performance)" -->
<!-- id="Pine.LNX.4.04.9903171030550.15590-100000@draal.physics.wisc.edu" -->
<!-- inreplyto="19990316045403.A1064@top.worldcontrol.com" -->
<STRONG>Bob McElrath</STRONG> (<A HREF="mailto:mcelrath@draal.physics.wisc.edu?subject=Re:%20SCSI%20BUS%20running%20out%20of%20stream?%20(HD%20performance)"><EM>mcelrath@draal.physics.wisc.edu</EM></A>)<BR>
<EM>Wed, 17 Mar 1999 10:33:12 -0600 (CST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#983">[ date ]</A>
<A HREF="index.html#983">[ thread ]</A>
<A HREF="subject.html#983">[ subject ]</A>
<A HREF="author.html#983">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0984.html">Peter Howell: "Newbie MILO question"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0982.html">Tuff Guy: "Re: about the environment variable &quot;LD_PRELOAD&quot;"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0978.html">ward liao: "about the environment variable &quot;LD_PRELOAD&quot;"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Tue, 16 Mar 1999 <A HREF="mailto:brian@worldcontrol.com?subject=Re:%20SCSI%20BUS%20running%20out%20of%20stream?%20(HD%20performance)">brian@worldcontrol.com</A> wrote:
<BR>
<P><EM>&gt; I've been reading the posts regarding HD performace (hdparm -t/-T)
</EM><BR>
<EM>&gt; and I have had a nagging question on the back burning, which is
</EM><BR>
<EM>&gt; why isn't my SCSI BUS' performance up to snuff?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I wrote some performance analysis software to examine SCSI
</EM><BR>
<EM>&gt; performance, to manipulate the SCSI HD cache and to program
</EM><BR>
<EM>&gt; some of the mode page info (local HD characteristic info).
</EM><BR>
<EM>&gt; I'm using the scsi-generic interface rather than the
</EM><BR>
<EM>&gt; sd device.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; With the the SCSI drives I'm testing with an Adaptec Ultra-Wide
</EM><BR>
<EM>&gt; (not 2) controller I get the following
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; sequential reads:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; no cache read ahead :  2.9MBs
</EM><BR>
<EM>&gt; cache read ahead    : 12.5MBs (same as comes out of hdparm)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I also did a test just reading from the drives preloaded cache:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; preloaded cache only: 22.0MBs
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; So what happened to the 40MBs synchronous transfers of my 
</EM><BR>
<EM>&gt; ultra wide SCSI BUS?
</EM><BR>
<P>The BUS can transfer at 40MB/s, but that doesn't mean the drive can read
<BR>
that fast.  The drives probably aren't designed to use all 40MB/s under any
<BR>
circumstances, since the engineers know the heads can't read that fast
<BR>
anyway.
<BR>
<P><EM>&gt; And what would happen if I put in an U2W controller?
</EM><BR>
<P>It'd still transfer at 12.5 MB/s.  But you could put 7 of them on the same
<BR>
SCSI bus and read them all at the same time.  ;)
<BR>
<P>(This is what RAID is for...)
<BR>
<P><EM>&gt; The drives are identified as sync 40MBs.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I have to admit that SCSI generic (without futzing with the kernel)
</EM><BR>
<EM>&gt; only allows 32KB reads (kindof).  However, experimintation with the
</EM><BR>
<EM>&gt; block size did not affect performance adversly enough to account
</EM><BR>
<EM>&gt; for 18 MBs of lost transfer efficiency.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The drives are actually U2W so I can't imagine they are running out
</EM><BR>
<EM>&gt; of steam on cache only transfers at 22MBs, but will recheck their
</EM><BR>
<EM>&gt; specs just in case.
</EM><BR>
<P>-- Bob
<BR>
<P>Bob McElrath (<A HREF="mailto:rsmcelrath@students.wisc.edu?subject=Re:%20SCSI%20BUS%20running%20out%20of%20stream?%20(HD%20performance)">rsmcelrath@students.wisc.edu</A>) Univ. of Wisconsin at Madison
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20SCSI%20BUS%20running%20out%20of%20stream?%20(HD%20performance)">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20SCSI%20BUS%20running%20out%20of%20stream?%20(HD%20performance)">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0984.html">Peter Howell: "Newbie MILO question"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0982.html">Tuff Guy: "Re: about the environment variable &quot;LD_PRELOAD&quot;"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0978.html">ward liao: "about the environment variable &quot;LD_PRELOAD&quot;"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Mar 17 1999 - 09:00:24 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
