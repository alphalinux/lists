<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: Alpha SCSI error on 2.4.0-test11</H1> 
	
<!-- received="Fri Dec 01 00:31:42 2000" -->
<!-- isoreceived="20001201083142" -->
<!-- sent="Thu, 30 Nov 2000 15:37:25 -0500" -->
<!-- isosent="20001130203725" -->
<!-- name="Peter Rival" -->
<!-- email="frival@zk3.dec.com" -->
<!-- subject="Re: Alpha SCSI error on 2.4.0-test11" -->
<!-- id="3A26BA85.1060805@zk3.dec.com" -->
<!-- inreplyto="Pine.OSF.3.96.1001130145721.15171B-100000@perf.zko.dec.com" -->
<STRONG>Subject: </STRONG>Re: Alpha SCSI error on 2.4.0-test11<BR>
<STRONG>From: </STRONG>Peter Rival (<EM>frival@zk3.dec.com</EM>)<BR>
<STRONG>Date: </STRONG>Thu Nov 30 12:37:25 2000
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#715">[ date ]</A>
<A HREF="index.shtml#715">[ thread ]</A>
<A HREF="subject.shtml#715">[ subject ]</A>
<A HREF="author.shtml#715">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0716.shtml">Ivan Kokshaysky: "Re: Alpha SCSI error on 2.4.0-test11"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0714.shtml">Zufar Mulyukov: "scsi HD performance?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0720.shtml">Phillip Ezolt: "Alpha SCSI error on 2.4.0-test11"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0742.shtml">Ivan Kokshaysky: "Re: Alpha SCSI error on 2.4.0-test11"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0720.shtml">Peter Rival: "Re: Alpha SCSI error on 2.4.0-test11"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi Phil,
<BR>
<P>Phillip Ezolt wrote:
<BR>
<P><EM>&gt; Hi All,
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Qlogic SCSI support seems broken on 2.4.0-test11 on a Miata (Digital Personal WorkStation 600au).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; When starting up, we get a machine check after initialing the qlogic SCSI code. 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Using the Alpha kgdb, we figured out that the code is dying in scsi_wait_request().
</EM><BR>
<P>Wow, I'm impressed!  I didn't realize that kgdb worked on Alpha...Were 
<BR>
you using the remote kgdb?  (You can answer me offline to save 
<BR>
bandwidth.)  This would be a _huge_ help in trying to figure out why my 
<BR>
Wildfire^WGS160 is crashing with the DISCONTIGMEM code that I stole from 
<BR>
Jay and have been hacking on.
<BR>
<P>Speaking of that system, it has two QLogic adapters in it (both 1040Bs, 
<BR>
like the Miata), and they are working just fine under 2.4.0-test11 
<BR>
(obviously, without my changes ;).  It looks like it's probably the 
<BR>
platform code that's busted.  I can't remember...are those Pyxis or 
<BR>
CIA?  Anyway, could this have something to do with the PCI &amp; PCI bridge 
<BR>
work that Richard and Ivan just submitted?
<BR>
<P>- Pete
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; Here's the backtrace: 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; scsi_wait_req (SRpnt=0xfffffc0001f9b480, cmnd=0xfffffc890000a078, 
</EM><BR>
<EM>&gt;     buffer=0x100, bufflen=2, timeout=17891584, retries=6144)
</EM><BR>
<EM>&gt;     at /usr/src/linux/include/asm/atomic.h:85
</EM><BR>
<EM>&gt; (gdb) where
</EM><BR>
<EM>&gt; #0  scsi_wait_req (SRpnt=0xfffffc0001f9b480, cmnd=0xfffffc890000a078, 
</EM><BR>
<EM>&gt;     buffer=0x100, bufflen=2, timeout=17891584, retries=6144)
</EM><BR>
<EM>&gt;     at /usr/src/linux/include/asm/atomic.h:85
</EM><BR>
<EM>&gt; #1  0xfffffc00004107f0 in scan_scsis_single (channel=0, dev=41080, lun=0, 
</EM><BR>
<EM>&gt;     max_dev_lun=0xfffffc00001efa30, sparse_lun=0xfffffc00001efa34, 
</EM><BR>
<EM>&gt;     SDpnt2=0xfffffc00001efa38, shpnt=0xfffffc00005ff800, 
</EM><BR>
<EM>&gt;     scsi_result=0xfffffc00001ef930 &quot;\001&quot;) at scsi_scan.c:516
</EM><BR>
<EM>&gt; #2  0xfffffc0000410548 in scan_scsis (shpnt=0xfffffc00005ff800, hardcoded=1, 
</EM><BR>
<EM>&gt;     hchannel=0, hid=0, hlun=0) at scsi_scan.c:403
</EM><BR>
<EM>&gt; #3  0xfffffc0000404f58 in scsi_register_host (tpnt=0xfffffc000058fb80)
</EM><BR>
<EM>&gt;     at scsi.c:1904
</EM><BR>
<EM>&gt; #4  0xfffffc00004dac50 in init_this_scsi_driver ()
</EM><BR>
<EM>&gt; #5  0xfffffc00004c2bec in do_initcalls ()
</EM><BR>
<EM>&gt; #6  0xfffffc00004c2c6c in do_basic_setup ()
</EM><BR>
<EM>&gt; #7  0xfffffc0000310078 in init (unused=0x0) at init/main.c:775
</EM><BR>
<EM>&gt;   
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Note: On the working kernels, the two controllers are 0x800 apart, but
</EM><BR>
<EM>&gt; on the broken kernels, they are only 0x400.  Could the overlap
</EM><BR>
<EM>&gt; cause problems? 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><P><P>_______________________________________________
<BR>
Axp-list mailing list
<BR>
Axp-list@redhat.com
<BR>
https://listman.redhat.com/mailman/listinfo/axp-list
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0716.shtml">Ivan Kokshaysky: "Re: Alpha SCSI error on 2.4.0-test11"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0714.shtml">Zufar Mulyukov: "scsi HD performance?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0720.shtml">Phillip Ezolt: "Alpha SCSI error on 2.4.0-test11"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0742.shtml">Ivan Kokshaysky: "Re: Alpha SCSI error on 2.4.0-test11"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0720.shtml">Peter Rival: "Re: Alpha SCSI error on 2.4.0-test11"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Fri Dec  1 08:00:09 2000 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
