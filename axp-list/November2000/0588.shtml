<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: Tekram DC-390U3W on an alpha (Miata)</H1> 
	
<!-- received="Mon Nov 27 03:42:10 2000" -->
<!-- isoreceived="20001127114210" -->
<!-- sent="Sun, 26 Nov 2000 19:52:00 -0500 (EST)" -->
<!-- isosent="20001127005200" -->
<!-- name="Rich Payne" -->
<!-- email="rdp@talisman.alphalinux.org" -->
<!-- subject="Re: Tekram DC-390U3W on an alpha (Miata)" -->
<!-- id="Pine.LNX.4.21.0011261949270.14426-100000@talisman.mv.com" -->
<!-- inreplyto="3A206B1F.85F54E7D@chello.nl" -->
<STRONG>Subject: </STRONG>Re: Tekram DC-390U3W on an alpha (Miata)<BR>
<STRONG>From: </STRONG>Rich Payne (<EM>rdp@talisman.alphalinux.org</EM>)<BR>
<STRONG>Date: </STRONG>Sun Nov 26 16:52:00 2000
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#588">[ date ]</A>
<A HREF="index.shtml#588">[ thread ]</A>
<A HREF="subject.shtml#588">[ subject ]</A>
<A HREF="author.shtml#588">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0589.shtml">Rich Payne: "Re: DRI, Glide, and 2+ days of hacktivity (fixed!)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0587.shtml">Peter Petrakis: "Re: UP1100"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0558.shtml">Stefan van der Eijk: "Tekram DC-390U3W on an alpha (Miata)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0592.shtml">Michal Jaegermann: "Re: Tekram DC-390U3W on an alpha (Miata)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0558.shtml">Rich Payne: "Re: Tekram DC-390U3W on an alpha (Miata)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
OK, the SYM1010 SCSI chip is new, you must patch the Linux kernel for it
<BR>
to
<BR>
see and use the card. I think the patches come from LSI Logic:
<BR>
<A HREF="http://www.lsilogic.com/support/support+drivers/scsi/linux.html">http://www.lsilogic.com/support/support+drivers/scsi/linux.html</A>
<BR>
<P>SRM will not see this card, and even though AlphaBIOS might see it,
<BR>
AlphaBIOS will at best only try to use a generic SYM53c8xx driver so
<BR>
you'll get mixed results. I wouldn't expect MILO to see it either.
<BR>
<P>--rdp
<BR>
<P>On Sun, 26 Nov 2000, Stefan van der Eijk wrote:
<BR>
<P><EM>&gt; Hi,
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Has anyone had any luck with Symbios SYM53C1010 based SCSI adaptors?
</EM><BR>
<EM>&gt; I've just purchased one of those (I'm starting to regret it --&gt; read
</EM><BR>
<EM>&gt; on). It's a Tekram DC-390UW3 (see:
</EM><BR>
<EM>&gt; <A HREF="http://www.tekram.com/Hot_Products.asp?Product=DC-390U3_Series">http://www.tekram.com/Hot_Products.asp?Product=DC-390U3_Series</A>), a
</EM><BR>
<EM>&gt; really nice card...
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; What I've tried is the following:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I've put it into a 32bit slot in my Miata (7.2-1 SRM, 5.70 Alphabios),
</EM><BR>
<EM>&gt; putting it into a 64bit (unbridged) PCI slot is &quot;not supported in a
</EM><BR>
<EM>&gt; primary (non-bridged) slot&quot; according to AlphaBios. The SCSI bios
</EM><BR>
<EM>&gt; detects the disk that is connected to it, but not the CDrom drive. On
</EM><BR>
<EM>&gt; the disk it can also see the partitions. At this point my 16bit chain
</EM><BR>
<EM>&gt; (with 2 harddisks) is on my Qlogic controller, my 8bit chain (one hdd +
</EM><BR>
<EM>&gt; cdrom) is on channel 2 of the Tekram. I boot linux (through milo), but
</EM><BR>
<EM>&gt; milo (
</EM><BR>
<EM>&gt; <A HREF="http://www.freiburg.linux.de/~stepan/Milo/binaries/2.2-17/milo-2.2-17-miata">http://www.freiburg.linux.de/~stepan/Milo/binaries/2.2-17/milo-2.2-17-miata</A>
</EM><BR>
<EM>&gt; ) doesn't see the Tekram controller, only the Qlogic. When Linux has
</EM><BR>
<EM>&gt; booted it can see the controller in /proc/pci, but not in /proc/scsi.
</EM><BR>
<EM>&gt; There only the Qlogic shows up. 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; /proc/pci of the tekram:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;  Bus  1, device  10, function  0:
</EM><BR>
<EM>&gt;     SCSI storage controller: NCR Unknown device (rev 1).
</EM><BR>
<EM>&gt;       Vendor id=1000. Device id=20.
</EM><BR>
<EM>&gt;       Medium devsel.  IRQ 44.  Master Capable.  Latency=32.  Min
</EM><BR>
<EM>&gt; Gnt=17.Max Lat=18.
</EM><BR>
<EM>&gt;       I/O at 0x9800 [0x9801].
</EM><BR>
<EM>&gt;       Non-prefetchable 32 bit memory at 0xc001000 [0xc001000].
</EM><BR>
<EM>&gt;       Non-prefetchable 32 bit memory at 0xc002000 [0xc002000].
</EM><BR>
<EM>&gt;   Bus  1, device  10, function  1:
</EM><BR>
<EM>&gt;     SCSI storage controller: NCR Unknown device (rev 1).
</EM><BR>
<EM>&gt;       Vendor id=1000. Device id=20.
</EM><BR>
<EM>&gt;       Medium devsel.  IRQ 44.  Master Capable.  Latency=32.  Min
</EM><BR>
<EM>&gt; Gnt=17.Max Lat=18.
</EM><BR>
<EM>&gt;       I/O at 0xa000 [0xa001].
</EM><BR>
<EM>&gt;       Non-prefetchable 32 bit memory at 0xc004000 [0xc004000].
</EM><BR>
<EM>&gt;       Non-prefetchable 32 bit memory at 0xc006000 [0xc006000].
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I think that the kernel I compiled has got support in it for the tekram
</EM><BR>
<EM>&gt; (stock 2.2.17):
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; CONFIG_SCSI_SYM53C8XX=y
</EM><BR>
<EM>&gt; CONFIG_SCSI_NCR53C8XX_DEFAULT_TAGS=8
</EM><BR>
<EM>&gt; CONFIG_SCSI_NCR53C8XX_MAX_TAGS=32
</EM><BR>
<EM>&gt; CONFIG_SCSI_NCR53C8XX_SYNC=40
</EM><BR>
<EM>&gt; # CONFIG_SCSI_NCR53C8XX_PROFILE is not set
</EM><BR>
<EM>&gt; # CONFIG_SCSI_NCR53C8XX_IOMAPPED is not set
</EM><BR>
<EM>&gt; CONFIG_SCSI_NCR53C8XX_PQS_PDS=y
</EM><BR>
<EM>&gt; # CONFIG_SCSI_NCR53C8XX_SYMBIOS_COMPAT is not set
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; So... even if I boot from another controller, the tekram is not seen. Is
</EM><BR>
<EM>&gt; this normal?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; When I also put the 16bit chain on the tekram and remove the qlogic
</EM><BR>
<EM>&gt; controller, milo sees no controllers.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Then I tried SRM (just to check if the devices show up), but the devices
</EM><BR>
<EM>&gt; didn't show up. What kind of magic is needed to let the devices show up
</EM><BR>
<EM>&gt; in SRM? New SRM firmware from Compaq? (not very likely for an obselete
</EM><BR>
<EM>&gt; machine like the Miata, is it?)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Or is my best bet to try to compile a new milo and try through there? My
</EM><BR>
<EM>&gt; goal is to only have the tekram controller in that system (I've got the
</EM><BR>
<EM>&gt; Qlogic planned for another box). I'd also prefer to use SRM over
</EM><BR>
<EM>&gt; AlphaBios.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Help / idea's are very much apreciated,
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Stefan van der Eijk
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; _______________________________________________
</EM><BR>
<EM>&gt; Axp-list mailing list
</EM><BR>
<EM>&gt; Axp-list@redhat.com
</EM><BR>
<EM>&gt; https://listman.redhat.com/mailman/listinfo/axp-list
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><PRE>
-- 
Rich Payne
rpayne@alphalinux.org			www.alphalinux.org
<P><P><P>_______________________________________________
Axp-list mailing list
Axp-list@redhat.com
https://listman.redhat.com/mailman/listinfo/axp-list
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0589.shtml">Rich Payne: "Re: DRI, Glide, and 2+ days of hacktivity (fixed!)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0587.shtml">Peter Petrakis: "Re: UP1100"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0558.shtml">Stefan van der Eijk: "Tekram DC-390U3W on an alpha (Miata)"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0592.shtml">Michal Jaegermann: "Re: Tekram DC-390U3W on an alpha (Miata)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0558.shtml">Rich Payne: "Re: Tekram DC-390U3W on an alpha (Miata)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Fri Dec  1 08:00:08 2000 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
