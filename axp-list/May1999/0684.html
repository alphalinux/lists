<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: RE: Converting time (since 01-01-1970) to Epoch</TITLE>
<META NAME="Author" CONTENT="Tom King (Tom.King@asx.com.au)">
<META NAME="Subject" CONTENT="RE: Converting time (since 01-01-1970) to Epoch">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>RE: Converting time (since 01-01-1970) to Epoch</H1>
<HR>
<P>
<!-- received="Thu May 20 01:29:02 1999" -->
<!-- isoreceived="19990520082902" -->
<!-- sent="Thu, 20 May 1999 10:14:39 +1000" -->
<!-- isosent="19990520001439" -->
<!-- name="Tom King" -->
<!-- email="Tom.King@asx.com.au" -->
<!-- subject="RE: Converting time (since 01-01-1970) to Epoch" -->
<!-- id="93ABDBC61612D211A3700000F80623EF0CDB91@ASX032.asx.com.au" -->
<!-- inreplyto="Converting time (since 01-01-1970) to Epoch" -->
<STRONG>Subject: </STRONG>RE: Converting time (since 01-01-1970) to Epoch<BR>
<STRONG>From: </STRONG>Tom King (<EM>Tom.King@asx.com.au</EM>)<BR>
<STRONG>Date: </STRONG>Wed May 19 1999 - 17:14:39 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#684">[ date ]</A>
<A HREF="index.html#684">[ thread ]</A>
<A HREF="subject.html#684">[ subject ]</A>
<A HREF="author.html#684">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0685.html">Michal Jaegermann: "Re: Running DEC binaries on alphalinux"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0683.html">Ray Kiesbrink \(ETM\): "RE: www.alphalinux.org down?"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0587.html">Franco Tassone: "Converting time (since 01-01-1970) to Epoch"</A>
<!-- nextthread="start" -->
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0587.html">Tom King: "RE: Converting time (since 01-01-1970) to Epoch"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Is it possible that the  SGI box is big-endian . The strings would be o.k.
<BR>
but the number would be
<BR>
byte reversed ( usually) I think MIPS have a mode setting where they can
<BR>
either act big-or little endian
<BR>
<P>e.g
<BR>
little endian bytes for one would be 0 0 0 1
<BR>
big endian bytes for one would be  1 0 0 0
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From:  Franco Tassone
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sent:  Wednesday, 19 May 1999 19:52
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To:  axp-list@redhat.com
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject:  Re: Converting time (since 01-01-1970) to Epoch
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On May 18, 10:13am, Michal Jaegermann wrote:
<BR>
<EM>	&gt; Every Unix (and Linux) machine starts its epoch for time keeping
</EM><BR>
<EM>	&gt; at that date.  Watch this:
</EM><BR>
<EM>	&gt;
</EM><BR>
<EM>	&gt; perl -e 'print scalar gmtime 0, &quot;\n&quot;;'
</EM><BR>
<EM>	&gt; Thu Jan  1 00:00:00 1970
</EM><BR>
<EM>	&gt;
</EM><BR>
<EM>	&gt; &gt; Does anybody can help me in doing this, please ?
</EM><BR>
<EM>	&gt;
</EM><BR>
<EM>	&gt; What is really the problem?
</EM><BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perfect, here is the details:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I have a binary file with record fixed lenght, it has been written
<BR>
on an SGI
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;box (Irix 6.2) using the following structure:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/usr/include/rpcsvc/rusers.h)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct rusers_utmp {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char    ut_line[8];             /* tty name */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char    ut_name[8];             /* user id */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char    ut_host[16];            /* host name, if remote */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long    ut_time;                /* time on */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For the SGI box, sizeof(long) = 4.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;So I've converted the file, rewriting all the records on an
<BR>
Alpha-Linux box
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(kernel 2.2.7) using the following structure:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/usr/include/rpcsvc/rusers.h)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct ru_utmp {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char    ut_line[8];             /* tty name */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char    ut_name[8];             /* user id */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char    ut_host[16];            /* host name, if remote */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long    ut_time;                /* time on */
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For Alpha-Linux box, sizeof(long) = 8.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My conversion program does only a field's level assignments, and
<BR>
rewrites the
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new file, due to different sizeof(long).
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The resulting dates (ut_time in ru_utmp) are all garbled.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Any ideas ?
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franco Tassone                       Tel: +39-085-4510954
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RGNetWork Internet Service Provider  Fax: +39-085-64070
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Via G. D'Annunzio, 162               e-mail: admin@rgn.it
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65127 PESCARA (ITALY)                URL: <A HREF="http://www.rgn.it">http://www.rgn.it</A>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-------------------------------------------------------------
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To unsubscribe: send e-mail to axp-list-request@redhat.com with
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0685.html">Michal Jaegermann: "Re: Running DEC binaries on alphalinux"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0683.html">Ray Kiesbrink \(ETM\): "RE: www.alphalinux.org down?"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0587.html">Franco Tassone: "Converting time (since 01-01-1970) to Epoch"</A>
<!-- nextthread="start" -->
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0587.html">Tom King: "RE: Converting time (since 01-01-1970) to Epoch"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Jun 01 1999 - 09:56:25 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
