<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: RE: Converting time (since 01-01-1970) to Epoch</TITLE>
<META NAME="Author" CONTENT="Wessels, Hans (H.Wessels@energie-delfland.nl)">
<META NAME="Subject" CONTENT="RE: Converting time (since 01-01-1970) to Epoch">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>RE: Converting time (since 01-01-1970) to Epoch</H1>
<HR>
<P>
<!-- received="Wed May 19 10:53:08 1999" -->
<!-- isoreceived="19990519175308" -->
<!-- sent="Wed, 19 May 1999 11:54:52 +0200" -->
<!-- isosent="19990519095452" -->
<!-- name="Wessels, Hans" -->
<!-- email="H.Wessels@energie-delfland.nl" -->
<!-- subject="RE: Converting time (since 01-01-1970) to Epoch" -->
<!-- id="c=US%a=_%p=delfland%l=MSMAIL-990519095452Z-2396@msmail.energie-delfland.nl" -->
<!-- inreplyto="Converting time (since 01-01-1970) to Epoch" -->
<STRONG>Subject: </STRONG>RE: Converting time (since 01-01-1970) to Epoch<BR>
<STRONG>From: </STRONG>Wessels, Hans (<EM>H.Wessels@energie-delfland.nl</EM>)<BR>
<STRONG>Date: </STRONG>Wed May 19 1999 - 02:54:52 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#643">[ date ]</A>
<A HREF="index.html#643">[ thread ]</A>
<A HREF="subject.html#643">[ subject ]</A>
<A HREF="author.html#643">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0644.html">Uncle George: "Re: Y RH 6.0 is $80.00"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0642.html">Phil Carmody: "Re: Converting time (since 01-01-1970) to Epoch"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0587.html">Franco Tassone: "Converting time (since 01-01-1970) to Epoch"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0684.html">Tom King: "RE: Converting time (since 01-01-1970) to Epoch"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0587.html">Wessels, Hans: "RE: Converting time (since 01-01-1970) to Epoch"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi Franco,
<BR>
<P><EM>&gt;I have a binary file with record fixed lenght, it has been written on an SGI
</EM><BR>
<EM>&gt;box (Irix 6.2) using the following structure:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;(/usr/include/rpcsvc/rusers.h)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;struct rusers_utmp {
</EM><BR>
<EM>&gt;	char    ut_line[8];             /* tty name */
</EM><BR>
<EM>&gt;	char    ut_name[8];             /* user id */
</EM><BR>
<EM>&gt;	char    ut_host[16];            /* host name, if remote */
</EM><BR>
<EM>&gt;	long    ut_time;                /* time on */
</EM><BR>
<EM>&gt;};
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;For the SGI box, sizeof(long) = 4.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;So I've converted the file, rewriting all the records on an Alpha-Linux box
</EM><BR>
<EM>&gt;(kernel 2.2.7) using the following structure:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;(/usr/include/rpcsvc/rusers.h)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;struct ru_utmp {
</EM><BR>
<EM>&gt;        char    ut_line[8];             /* tty name */
</EM><BR>
<EM>&gt;        char    ut_name[8];             /* user id */
</EM><BR>
<EM>&gt;        char    ut_host[16];            /* host name, if remote */
</EM><BR>
<EM>&gt;        long    ut_time;                /* time on */
</EM><BR>
<EM>&gt;};
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;For Alpha-Linux box, sizeof(long) = 8.
</EM><BR>
<EM>&gt;My conversion program does only a field's level assignments, and rewrites the
</EM><BR>
<EM>&gt;new file, due to different sizeof(long).
</EM><BR>
<EM>&gt;The resulting dates (ut_time in ru_utmp) are all garbled.
</EM><BR>
<EM>&gt;Any ideas ?
</EM><BR>
<P>Is there maybe a big-little endian problem here? Alpha is little endian,
<BR>
but I am not sure about the SGI box.
<BR>
<P>Hans
<BR>
----------------------------------------------------------------------
<BR>
&nbsp;&nbsp;&nbsp;/|   /\/\/\   |\      ir. Hans Wessels
<BR>
&nbsp;&nbsp;/ |  / /\/\ \  | \     H.Wessels@Energie-Delfland.nl
<BR>
&nbsp;/  | / / /\ \ \ |  \    tel.: 015 251 4397
<BR>
/   |/ / /  \ \ \|   \   
<BR>
\   |\ \ \  / / /|   /   prive:
<BR>
&nbsp;\  | \ \ \/ / / |  /    mr_ni@mbh.org
<BR>
&nbsp;&nbsp;\ |  \ \/\/ /  | /     Fidelus Bittus et Fuckus Clockcyclus!
<BR>
&nbsp;&nbsp;&nbsp;\|   \/\/\/   |/      
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0644.html">Uncle George: "Re: Y RH 6.0 is $80.00"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0642.html">Phil Carmody: "Re: Converting time (since 01-01-1970) to Epoch"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0587.html">Franco Tassone: "Converting time (since 01-01-1970) to Epoch"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0684.html">Tom King: "RE: Converting time (since 01-01-1970) to Epoch"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0587.html">Wessels, Hans: "RE: Converting time (since 01-01-1970) to Epoch"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Jun 01 1999 - 09:56:24 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
