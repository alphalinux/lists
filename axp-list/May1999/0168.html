<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: A guru problem (shared libs)</TITLE>
<META NAME="Author" CONTENT="Christopher Curtis (ccurtis@aet-usa.com)">
<META NAME="Subject" CONTENT="Re: A guru problem (shared libs)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: A guru problem (shared libs)</H1>
<HR>
<P>
<!-- received="Thu May 06 16:28:30 1999" -->
<!-- isoreceived="19990506232830" -->
<!-- sent="Thu, 6 May 1999 11:35:57 -0400 (EDT)" -->
<!-- isosent="19990506153557" -->
<!-- name="Christopher Curtis" -->
<!-- email="ccurtis@aet-usa.com" -->
<!-- subject="Re: A guru problem (shared libs)" -->
<!-- id="Pine.LNX.4.10.9905051237520.11895-100000@spanky.aet-usa.com" -->
<!-- inreplyto="19990505015545.B23427@twiddle.net" -->
<STRONG>Subject: </STRONG>Re: A guru problem (shared libs)<BR>
<STRONG>From: </STRONG>Christopher Curtis (<EM>ccurtis@aet-usa.com</EM>)<BR>
<STRONG>Date: </STRONG>Thu May 06 1999 - 08:35:57 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#168">[ date ]</A>
<A HREF="index.html#168">[ thread ]</A>
<A HREF="subject.html#168">[ subject ]</A>
<A HREF="author.html#168">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0169.html">Lar Kaufman: "Re: 32-bit card in 64-bit slots on ruffuan"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0167.html">Lar Kaufman: "Re: FIREPORT 40"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0199.html">Christopher Curtis: "Re: A guru problem (shared libs)"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0089.html">Christopher Curtis: "Re: A guru problem (shared libs)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Wed, 5 May 1999, Richard Henderson wrote:
<BR>
<P><EM>&gt; On Wed, May 05, 1999 at 01:32:55AM -0500, Christopher W. Curtis wrote:
</EM><BR>
<EM>&gt; &gt; /usr/local/cdrom/yummy/installed/binutils-2.9.1.0.15-1.alpha.rpm
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; which should be the same as the one from the CD-ROM (I downloaded it off the
</EM><BR>
<EM>&gt; &gt; 'net, though, so I can't say for sure).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; That's probably your problem -- _dl_initial_searchlist comes from
</EM><BR>
<EM>&gt; glibc 2.1, and rawhide has been using glibc 2.1 for a while.
</EM><BR>
<P>This is from ftp.cdrom.com:
<BR>
<P>/.4/linux/redhat/old-releases/redhat-5.2/alpha/RedHat/RPMS
<BR>
-r--r--r--  1 root  wheel  2540552 Oct 14  1998 binutils-2.9.1.0.15-1.alpha.rpm
<BR>
<P>And this is what I have installed:
<BR>
<P>-r--r--r--   1 root root   2540552 Feb 25 22:16 binutils-2.9.1.0.15-1.alpha.rpm
<BR>
<P>I looked in the &quot;updates&quot; section for the alpha, but there's no binutils.
<BR>
This is very puzzling.  Evidently there's *something* left over from my
<BR>
botched glibc 2.1 install, but I absolutely cannot find it.  I've rebuilt
<BR>
the RPM database and it says I have glibc-2.0.7-29 installed and *I* can't
<BR>
find any 2.1 files laying around.  Everything in /lib is linked to 2.0.7
<BR>
versions.  The only possible vestages left are extra files that don't show
<BR>
up in 'ldd's.
<BR>
<P>(...time passes...)
<BR>
<P>I just downloaded glibc2.1 from rawhide and did an &quot;rpm -qvfp glibc*&quot; and
<BR>
looked at its contents, and removed the only file left (libSegFault.so)
<BR>
from its install.  I then forced a reinstallation of binutils and tried to
<BR>
run it, but with the same erroneous results.
<BR>
<P><EM>&gt;From /lib, I did:
</EM><BR>
for file in * ; do rpm -q --file $file ; done 2&gt;/dev/null |sort -u
<BR>
e2fsprogs-1.12-2
<BR>
egcs-1.0.3a-14
<BR>
filesystem-1.3.2-3
<BR>
glibc-2.0.7-29
<BR>
libtermcap-2.0.8-10
<BR>
pam-0.64-4
<BR>
procps-1.2.9-2
<BR>
pwdb-0.55-1
<BR>
<P>Comparing these against what I have for the CDROM, pam-0.64-4 was upgraded
<BR>
from pam-0.64-3, but everything else is correct.  As far as I can tell,
<BR>
there is nothing left of glibc2.1 and something else *must* be wrong.
<BR>
<P>The problem to me seems to point to libbfd; the only odd thing there is
<BR>
that libbfd comes with the binutils package, and nobody else seems to be
<BR>
having problems with it.
<BR>
<P>Here are my filesizes if someone would be so kind to check theirs:
<BR>
4462177 Oct 12  1998 /lib/libc-2.0.7.so
<BR>
&nbsp;301815 Oct 12  1998 /lib/ld-2.0.7.so
<BR>
1454276 Oct 13  1998 /usr/lib/libbfd-2.9.1.0.15.so.0.0.0
<BR>
&nbsp;277168 May  6 11:19 /usr/bin/as
<BR>
<P>This is a redhat 5.2 system, of course...
<BR>
<P>Thanks again,
<BR>
Christopher
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0169.html">Lar Kaufman: "Re: 32-bit card in 64-bit slots on ruffuan"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0167.html">Lar Kaufman: "Re: FIREPORT 40"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0199.html">Christopher Curtis: "Re: A guru problem (shared libs)"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0089.html">Christopher Curtis: "Re: A guru problem (shared libs)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Jun 01 1999 - 09:56:19 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
