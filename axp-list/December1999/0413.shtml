<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> UPDATE: DATETIME fields incorrect on alpha</H1> 
	
<!-- received="Mon Dec 13 03:31:47 1999" -->
<!-- isoreceived="19991213113147" -->
<!-- sent="Sun, 12 Dec 1999 21:11:14 -0500 (EST)" -->
<!-- isosent="19991213021114" -->
<!-- name="ppetrakis@firestorm.tzo.org" -->
<!-- email="ppetrakis@firestorm.tzo.org" -->
<!-- subject="UPDATE: DATETIME fields incorrect on alpha" -->
<!-- id="Pine.LNX.4.10.9912122024370.18582-100000@voodoo.alphalinux.org" -->
<STRONG>Subject: </STRONG>UPDATE: DATETIME fields incorrect on alpha<BR>
<EM>ppetrakis@firestorm.tzo.org</EM><BR>
<STRONG>Date: </STRONG>Sun Dec 12 18:11:14 1999
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#413">[ date ]</A>
<A HREF="index.shtml#413">[ thread ]</A>
<A HREF="subject.shtml#413">[ subject ]</A>
<A HREF="author.shtml#413">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0414.shtml">Nikolaos Ntarmos: "Re: UPDATE: DATETIME fields incorrect on alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0412.shtml">Uncle George: "a CVTST/s of +INF doesn't work :-{"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0414.shtml">Nikolaos Ntarmos: "Re: UPDATE: DATETIME fields incorrect on alpha"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
First let me apoligize for the cross-posting.
<BR>
<P>Picking up where this gentleman left off...
<BR>
<A HREF="http://www.geocrawler.com/search/?config=8&words=Alpha+DATETIME">http://www.geocrawler.com/search/?config=8&words=Alpha+DATETIME</A>
<BR>
<P>I'm experencing the same problem with both the stable and 'alpha' versions
<BR>
of MySQL. I tried the suggestion of upgrading to glibc-2.1.2-17 (obtained
<BR>
from redhat's rawhide dist) with no change. I then tried compiling the
<BR>
stable and 'alpha' versions against the newer glibc. Now mysqld SEGV's at
<BR>
startup. 
<BR>
<P>This SEGV is accomplished by using the 'alpha' SRPM with it's default
<BR>
flags. gdb output of the core dump with a back trace is below:
<BR>
<P>[root@voodoo:/usr/src/redhat/RPMS/alpha]$ gdb mysqld core
<BR>
GNU gdb 4.17.0.11 with Linux support
<BR>
Copyright 1998 Free Software Foundation, Inc.
<BR>
GDB is free software, covered by the GNU General Public License, and you
<BR>
are
<BR>
welcome to change it and/or distribute copies of it under certain
<BR>
conditions.
<BR>
Type &quot;show copying&quot; to see the conditions.
<BR>
There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for
<BR>
details.
<BR>
This GDB was configured as &quot;alpha-redhat-linux&quot;...
<BR>
Core was generated by `mysqld core'.
<BR>
Program terminated with signal 11, Segmentation fault.
<BR>
#0  0x120119ae8 in pthread_setcanceltype (type=1, oldtype=0x11ffffa70)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;at cancel.c:42
<BR>
42        if (oldtype != NULL) *oldtype = THREAD_GETMEM(self,
<BR>
p_canceltype);
<BR>
(gdb) bt
<BR>
#0  0x120119ae8 in pthread_setcanceltype (type=1, oldtype=0x11ffffa70)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;at cancel.c:42
<BR>
#1  0x120118c48 in fcntl (fd=0, cmd=1) at wrapsyscall.c:77
<BR>
#2  0x120123624 in check_standard_fds () at
<BR>
../sysdeps/generic/libc-start.c:99
<BR>
#3  0x120123810 in __libc_start_main (main=0x12004bfa0 &lt;main&gt;, argc=2,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;argv=0x11ffffb58, init=0x120000120 &lt;_init&gt;, fini=0x120183c40 &lt;_fini&gt;,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;rtld_fini=0, stack_end=0x11ffffb40) at
<BR>
../sysdeps/generic/libc-start.c:60
<BR>
Current language:  auto; currently c
<BR>
<P>If I try to compile the 'alpha' version according to the alpha-linux
<BR>
compile time flags specified at
<BR>
<A HREF="http://www.mysql.com/Manual_chapter/manual_Installing.html#Linux-Alpha">http://www.mysql.com/Manual_chapter/manual_Installing.html#Linux-Alpha</A> .
<BR>
It will fail at compiling. To reiterate  the flags i used where: 
<BR>
<P>(syntax is from modified spec file in the 'alpha' SRPM)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CC=\&quot;${MYSQL_BUILD_CC:-gcc}\&quot; \
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CFLAGS=\&quot;${MYSQL_BUILD_CFLAGS:- -Dalpha_linux_port }\&quot; \
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CXX=\&quot;${MYSQL_BUILD_CXX:-gcc}\&quot; \
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CXXFLAGS=\&quot;${MYSQL_BUILD_CXXFLAGS:- -O3 -Dalpha_linux_port
<BR>
-felide-constructors -fno-exceptions -fno-rtti  }\&quot; \
<BR>
<P>The error message is:
<BR>
<P>egcs -DUNDEF_THREADS_HACK -I./../include -I../include -I./.. -I.. -I..
<BR>
-D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -O6
<BR>
-DDBUG_OFF -O3 -Dalpha_linux_port -DDONT_USE_THR_ALARM -c  -fPIC -DPIC
<BR>
net.c -o .libs/net.lo
<BR>
net.c: In function `my_net_init':
<BR>
net.c:150: `TCP_NODELAY' undeclared (first use in this function)
<BR>
net.c:150: (Each undeclared identifier is reported only once
<BR>
net.c:150: for each function it appears in.)
<BR>
make[2]: *** [net.lo] Error 1
<BR>
make[2]: Leaving directory
<BR>
`/usr/src/redhat/BUILD/mysql-3.23.7-alpha/client'
<BR>
make[1]: *** [all-recursive] Error 1
<BR>
make[1]: Leaving directory `/usr/src/redhat/BUILD/mysql-3.23.7-alpha'
<BR>
make: *** [all-recursive-am] Error 2
<BR>
Bad exit status from /var/tmp/rpm-tmp.2003 (%build)
<BR>
[1]+  Done                    emacs mysql-3.23.7-alpha.spec
<BR>
<P>Any ideas? Thank you.
<BR>
<P>Peter
<BR>
<PRE>
--
www.alphalinux.org
Peter Petrakis         Warrior/Engineer        ppetrakis@alphalinux.org
&quot;Oh my God! They killed Xena! You bastards!!&quot;
&quot;&lt;BLAM!!&gt; Who the hell are you!? Name's Ash &lt;click clock&gt; Housewares...&quot;
<P>-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0414.shtml">Nikolaos Ntarmos: "Re: UPDATE: DATETIME fields incorrect on alpha"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0412.shtml">Uncle George: "a CVTST/s of +INF doesn't work :-{"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0414.shtml">Nikolaos Ntarmos: "Re: UPDATE: DATETIME fields incorrect on alpha"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Mon Jan  3 11:15:10 2000 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
