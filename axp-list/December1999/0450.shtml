<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> RE: Big drives and Mylex?</H1> 
	
<!-- received="Tue Dec 14 06:48:27 1999" -->
<!-- isoreceived="19991214144827" -->
<!-- sent="Mon, 13 Dec 1999 08:56:30 -0800" -->
<!-- isosent="19991213165630" -->
<!-- name="Kirk R. Erichsen" -->
<!-- email="kirke@inteli-home.com" -->
<!-- subject="RE: Big drives and Mylex?" -->
<!-- id="3.0.6.32.19991213085630.007e9eb0@206.109.55.189" -->
<!-- inreplyto="07E164D341EED111ADCD0000F8662F4A07F753C3@pioushqntmail2.pi os.com" -->
<STRONG>Subject: </STRONG>RE: Big drives and Mylex?<BR>
<STRONG>From: </STRONG>Kirk R. Erichsen (<EM>kirke@inteli-home.com</EM>)<BR>
<STRONG>Date: </STRONG>Mon Dec 13 08:56:30 1999
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#450">[ date ]</A>
<A HREF="index.shtml#450">[ thread ]</A>
<A HREF="subject.shtml#450">[ subject ]</A>
<A HREF="author.shtml#450">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0451.shtml">Chris Kloiber: "Re: Kernel fixes"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0449.shtml">Christopher E. Brown: "Re: UP2000 running out of files _very_ fast!"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0459.shtml">Vanco, Donald: "RE: Big drives and Mylex?"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0096.shtml">Kirk R. Erichsen: "RE: Big drives and Mylex?"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Even the &quot;Smart&quot; Array 3200 is little more than a Compaq OEM of the DAC960
<BR>
PG with 2.x class firmware.  
<BR>
It is for this reason that many consultants like myself may be tempted to
<BR>
flash the EEPROM up to a higher Mylex &quot;retail&quot; version when there is a
<BR>
second EEPROM seated in the second EEPROM chip seat.  Of course, this will
<BR>
end your warranty when done, though in certain very specific circumstances
<BR>
(or when you are at the end of your warranty), this can get you support for
<BR>
the 18.2, 24 and even 36 GB drive capacities that you may require.  Of
<BR>
course, remember the old water cooler anaology when building RAID arrays:
<BR>
the more spigots you have on your water cooler the faster you can drain (or
<BR>
fill) the water cooler.  Having a REALLY LARGE water cooler with only a few
<BR>
spigots gets you a high capacity per cm but not much in the way of
<BR>
read/write performance.  Somewhere in the middle is the right
<BR>
price/performance/capacity which can vary wildly with system or applicaiton
<BR>
requirements.  It is still preferable to build an array with 9GB building
<BR>
blocks (particularly the newer IBM Enterprise or Seagate Cheetah 2 drives). 
<BR>
<P>As a simple example, I have found that for large sequential read/write and
<BR>
random uncached read/write, the fastest RAID level by far is RAID &quot;6&quot; (in
<BR>
Mylex speak), also called RAID level 0/1 by the RAB (RAID Advisory Board).
<BR>
&nbsp;RAID level 0/1, sometimes called RAID &quot;10&quot; is the RAID level in which you
<BR>
have two identical RAID 0 stripped arrays (consisting of two or more drives
<BR>
per RAID level 0 array), which is by definition a &quot;mirrored stripe set&quot;
<BR>
which is very different from a stripped mirror (you can research this at
<BR>
the RAB, if you wish).  At this RAID level, you do not use parity
<BR>
information which means there is no real performance hit when a drive is
<BR>
lost since parity isn't being used to generate missing data and there is an
<BR>
ENTIRE copy of the data stripped across the other array.  The effect of
<BR>
RAID 10 is high performance through multiplexing two RAID 0 arrays (RAID 0
<BR>
has a high read/write performance due to stripped data across multiple
<BR>
disks with no parity generation overhead).  A properly configured RAID 10
<BR>
can be as much as 50% faster than a RAID 0 array of the same size, though
<BR>
you need twice as many disks to achieve the same capacity.
<BR>
<P>Large stripe block sizes (say 128 KB) produce the best sequential
<BR>
read/write performance by &quot;chunking&quot; more data per write (and therefore
<BR>
fewer transactions are required) while smaller stripe blocks (say 8KB) are
<BR>
ideal for random access to such things as databases.  I turn write-back
<BR>
cache ON on the controller in all installations since the UPS that is
<BR>
installed is always more than enough for a 15 minute run, more than long
<BR>
enough to shutdown the system and commit to disk.  I don't bother stuffing
<BR>
more than about 32MB of memory (which is pretty cheap these days) since the
<BR>
performance difference between 8 MB of cache and 32 MB in most cases is
<BR>
less than 6%.   
<BR>
<P>Where sequential read/write of large files is the design for the RAID, use
<BR>
read-ahead caching.  Most new RAID controllers have Adaptive cache
<BR>
configurations in which the cache can reconfigure itself into several
<BR>
smaller caches in order to take better advantage of the available cache for
<BR>
smaller more random traffic.  I am also pretty hellbent on getting even
<BR>
more performance by ENABLING the write cache on the drives themselves.  By
<BR>
default, most hard drives ship with their mode pages for write cache
<BR>
DISABLED to make them &quot;safer.&quot;  If you are using a newer drive with a
<BR>
large, smart cache, take advantage of it in the the critical area of write
<BR>
performance and turn them on.  Note you will see NO performance increase in
<BR>
situations where the ratio of read to write time is greater than 75% (which
<BR>
is most of the time) but you will see a slight (5%) difference if your RAID
<BR>
spends most of its time being hit by a steady stream of write requests (say
<BR>
in log generation for a database with a long sequential stream of data
<BR>
writes).  
<BR>
<P>StorageWorks kits with a duplexer (adds channels to the stock backplane)
<BR>
can produce the ideal result though you may be able to buy a less expensive
<BR>
unit from the industrial computing market with similar or even greater
<BR>
capacity.  
<BR>
<P><P>Good luck,
<BR>
<P>--Kirk
<BR>
<P><EM>&gt;	Per Compaq's docs and config tools, the Mylex controllers will not
</EM><BR>
<EM>&gt;support drives in excess of 9GB - in other words, Compaq will not sell 36GB
</EM><BR>
<EM>&gt;drives spec'd into a system with the Myles RAID controllers.  I'm trying to
</EM><BR>
<EM>&gt;set up RAID using 36GB drives and was wondering why they are not supported
</EM><BR>
<EM>&gt;by Compaq on that controller.  
</EM><BR>
<EM>&gt;	This is the only viable solution I can use, as we are a Compaq
</EM><BR>
<EM>&gt;reseller and need to demo a &quot;fully supported&quot; config that can be ordered
</EM><BR>
<EM>&gt;direct.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;thanx
</EM><BR>
<EM>&gt;Don
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;-- 
</EM><BR>
<EM>&gt;To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt;'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0451.shtml">Chris Kloiber: "Re: Kernel fixes"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0449.shtml">Christopher E. Brown: "Re: UP2000 running out of files _very_ fast!"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0459.shtml">Vanco, Donald: "RE: Big drives and Mylex?"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0096.shtml">Kirk R. Erichsen: "RE: Big drives and Mylex?"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Mon Jan  3 11:15:10 2000 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
