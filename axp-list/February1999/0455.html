<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Miata and Kernel Recompile</TITLE>
<META NAME="Author" CONTENT="Michael Choong (ratboy@intrex.net)">
<META NAME="Subject" CONTENT="Re: Miata and Kernel Recompile">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Miata and Kernel Recompile</H1>
<HR>
<P>
<!-- received="Sat Feb 13 17:48:33 1999 PST" -->
<!-- sent="Sat, 13 Feb 1999 12:39:53 -0500" -->
<!-- name="Michael Choong" -->
<!-- email="ratboy@intrex.net" -->
<!-- subject="Re: Miata and Kernel Recompile" -->
<!-- id="3.0.6.32.19990213123953.00925660@mail.intrex.net" -->
<!-- inreplyto="3.0.6.32.19990213023045.0093d650@mail.intrex.net" -->
<STRONG>Michael Choong</STRONG> (<A HREF="mailto:ratboy@intrex.net?subject=Re:%20Miata%20and%20Kernel%20Recompile"><EM>ratboy@intrex.net</EM></A>)<BR>
<EM>Sat, 13 Feb 1999 12:39:53 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#455">[ date ]</A>
<A HREF="index.html#455">[ thread ]</A>
<A HREF="subject.html#455">[ subject ]</A>
<A HREF="author.html#455">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0454.html">Ken Hansen: "Re: Multia woes"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0389.html">Thatcher Hubbard: "Multia woes"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0453.html">Joakim Roubert: "Re: Miata and Kernel Recompile"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
Well, I took my working kernel configuration (again on the AS 200 4/233 -
<BR>
Avanti) and rebuilt with ext2 fs as a module.  When I booted that kernel, I
<BR>
got the last part of your error message:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kernel Panic: VFS Unable to mount root fs on 08:02
<BR>
<P>but not the earlier messages.  I suspect that these earlier messages mean
<BR>
that the physical drive can't be accessed, likely due to SCSI or IDE
<BR>
(depending on your configuration for the drive where your root partition
<BR>
resides) drivers needing to be built into the kernel.  So, I would look
<BR>
there.    When you try to boot, before you get to the kernel panic stage,
<BR>
you should see messages regarding your drives being located (and defined as
<BR>
sda,sdb,... or hda,hdb,...).  If you don't see any messages like this, then
<BR>
double-check the kernel configuration for your drive.
<BR>
<P>Good Luck!
<BR>
<P>Michael Choong
<BR>
<A HREF="mailto:ratboy@intrex.net?subject=Re:%20Miata%20and%20Kernel%20Recompile">ratboy@intrex.net</A>
<BR>
<P><P><P><P><P>At 02:30 AM 2/13/99 -0500, you wrote:
<BR>
<EM>&gt;I seem to recall getting a similar message a few weeks back with 2.2.x on
</EM><BR>
<EM>&gt;my AS 200 4/233 (Avanti).  If I remember correctly, I had set up all my
</EM><BR>
<EM>&gt;file systems as modules in the kernel configuration.  I dug around a bit
</EM><BR>
<EM>&gt;and discovered that the root fs type can't be compiled as a module - it
</EM><BR>
<EM>&gt;must be built into the kernel.  
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;My guess is that the root fs must be mounted before kerneld is started,
</EM><BR>
<EM>&gt;which makes sense in retrospect (since kerneld must be loaded off the root
</EM><BR>
<EM>&gt;fs ;-).  I think the RedHat 5.2 noname boot image builds the fs into the
</EM><BR>
<EM>&gt;kernel.  
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;It may be worth a glance at the /usr/src/linux/.config file to make sure
</EM><BR>
<EM>&gt;that you have a line like &quot;CONFIG_EXT2_FS=y&quot;.  Also, I would make sure that
</EM><BR>
<EM>&gt;your SCSI (or IDE) parameters for your boot disk are set to &quot;y&quot; and not
</EM><BR>
&quot;m&quot;.  
<BR>
<EM>&gt;
</EM><BR>
<EM>&gt;Good Luck!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;Michael Choong
</EM><BR>
<EM>&gt;<A HREF="mailto:ratboy@intrex.net?subject=Re:%20Miata%20and%20Kernel%20Recompile">ratboy@intrex.net</A>
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;At 01:18 AM 2/13/99 -0500, you wrote:
</EM><BR>
<EM>&gt;&gt;I've had similar bad experience with 2.2.1 on my Multia.  In fact, I can't
</EM><BR>
<EM>&gt;&gt;seem to get any kernel to compile and install correctly, following the
</EM><BR>
<EM>&gt;&gt;same exact procedure.  I get the same exact error message with the
</EM><BR>
<EM>&gt;&gt;2.2.x type kernels, and a hung display with the earlier type kernels.  :/
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;I am entirely baffled as to why the Redhat 5.2 noname boot image
</EM><BR>
<EM>&gt;&gt;works just fine.
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;Derrick Shearer
</EM><BR>
<EM>&gt;&gt;<A HREF="mailto:dls2@Lehigh.EDU?subject=Re:%20Miata%20and%20Kernel%20Recompile">dls2@Lehigh.EDU</A>
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;Hi!
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;I am having some fun!  I am trying to compile 2.2.1 on my Miata with
</EM><BR>
<EM>&gt;&gt;&gt;module support.  I have been unable to get past a certain point in the
</EM><BR>
<EM>&gt;&gt;&gt;kernel boot:
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;I get to:
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;request_module{block-major-8]: Root fs not mounted
</EM><BR>
<EM>&gt;&gt;&gt;VFS: Cannot open root device 08:02
</EM><BR>
<EM>&gt;&gt;&gt;Kernel Panic: VFS Unable to mount root fs on 08:02
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;and there she sits.
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;To get to this point, I downloaded the Kernel source from
</EM><BR>
<EM>&gt;&gt;&gt;ftp.kernel.org, untarred and did the make config; make dep; make clean;
</EM><BR>
<EM>&gt;&gt;&gt;make boot; make modules: make modules_install.  Moved the vmlinux.gz
</EM><BR>
<EM>&gt;&gt;&gt;from /usr/src/linux/arch/alpha/boot to / and rebooted.
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;I even tried specifying the root file system from Milo with:
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;boot sda2:vmlinux.gz root=/dev/sda2
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;Any other ideas?
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;Thanks
</EM><BR>
<EM>&gt;&gt;&gt;
</EM><BR>
<EM>&gt;&gt;&gt;Geoff
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;-- 
</EM><BR>
<EM>&gt;To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Miata%20and%20Kernel%20Recompile">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt;'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Miata%20and%20Kernel%20Recompile">axp-list@redhat.com</A>
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Miata%20and%20Kernel%20Recompile">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Miata%20and%20Kernel%20Recompile">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0454.html">Ken Hansen: "Re: Multia woes"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0389.html">Thatcher Hubbard: "Multia woes"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0453.html">Joakim Roubert: "Re: Miata and Kernel Recompile"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sat Feb 13 1999 - 10:00:26 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
