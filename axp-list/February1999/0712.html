<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: [patches] patch-2.2.2-nonx86,patch-2.2.2-filter</TITLE>
<META NAME="Author" CONTENT="Michal Jaegermann (michal@ellpspace.math.ualberta.ca)">
<META NAME="Subject" CONTENT="Re: [patches] patch-2.2.2-nonx86,patch-2.2.2-filter">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [patches] patch-2.2.2-nonx86,patch-2.2.2-filter</H1>
<HR>
<P>
<!-- received="Wed Feb 24 06:28:35 1999 PST" -->
<!-- sent="Tue, 23 Feb 1999 23:26:32 -0700 (MST)" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="Re: [patches] patch-2.2.2-nonx86,patch-2.2.2-filter" -->
<!-- id="199902240626.XAA07002@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="19990224001055.D927@op.net" -->
<STRONG>Michal Jaegermann</STRONG> (<A HREF="mailto:michal@ellpspace.math.ualberta.ca?subject=Re:%20[patches]%20patch-2.2.2-nonx86,patch-2.2.2-filter"><EM>michal@ellpspace.math.ualberta.ca</EM></A>)<BR>
<EM>Tue, 23 Feb 1999 23:26:32 -0700 (MST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#712">[ date ]</A>
<A HREF="index.html#712">[ thread ]</A>
<A HREF="subject.html#712">[ subject ]</A>
<A HREF="author.html#712">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0713.html">Michal Jaegermann: "Re: 2.2.2ac2 (Re: [patches] :))"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0711.html">Daniel J. Frasnelli: "2.2.2ac2 (Re: [patches] :))"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0710.html">Robert Bowles: "Re: [patches] :)"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Robert Bowles wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Changes/Observations
</EM><BR>
<EM>&gt; - Socket Filtering Code
</EM><BR>
<EM>&gt; 	This alone should be a showstopper.
</EM><BR>
<EM>&gt; 	I don't see where this could work on any platform.
</EM><BR>
<EM>&gt; 	'struct sk_filter' is referenced but not defined _anywhere_.
</EM><BR>
<EM>&gt; 	The only solution is to build w/o socket filtering code.
</EM><BR>
<P>Patch for that was already postes five or six times (maybe more,
<BR>
I lost count) on linux-kernel list.  Half of an original patch
<BR>
was lost in a shuffle. 2.2.2-ac1 has this few lines already applied.
<BR>
<P><EM>&gt; - Semaphore Code
</EM><BR>
<EM>&gt; 	All seems well, except for the whole new
</EM><BR>
<EM>&gt; 	'__down_trylock() / waking_non_zero_trylock()' bit.
</EM><BR>
<P>This bit is for the moment &quot;Intel only&quot;.  Linus says that he
<BR>
did that on purpose to force the issue and get people to bring
<BR>
other platforms in sync instead of causing some subtle breakage.
<BR>
Daniel J. Frasnelli posted a temporary patch for that already;
<BR>
both on axp-list and on linux-kernel list.  And also actually
<BR>
a few times.
<BR>
<P>It is quite likely that the patch causes this &quot;subtle breakage&quot; mentioned
<BR>
above as it backs off __down_trylock() and some races may show up -
<BR>
infrequently.  I am running 2.2.2-ac1 patched that way right now.
<BR>
Cross your fingers. :-)
<BR>
<P><EM>&gt; On the minus, socket filtering is broken.
</EM><BR>
<P>Yes, I did compile with socket filtering on - just to be sure.
<BR>
But this is 'ac1' and not &quot;pure&quot; 2.2.2.
<BR>
<P>&nbsp;&nbsp;Michal
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20[patches]%20patch-2.2.2-nonx86,patch-2.2.2-filter">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20[patches]%20patch-2.2.2-nonx86,patch-2.2.2-filter">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0713.html">Michal Jaegermann: "Re: 2.2.2ac2 (Re: [patches] :))"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0711.html">Daniel J. Frasnelli: "2.2.2ac2 (Re: [patches] :))"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0710.html">Robert Bowles: "Re: [patches] :)"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Feb 23 1999 - 23:00:24 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
