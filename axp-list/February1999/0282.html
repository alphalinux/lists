<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: nfs/udp performance problem</TITLE>
<META NAME="Author" CONTENT="Reid van Melle (reid@sask.trlabs.ca)">
<META NAME="Subject" CONTENT="nfs/udp performance problem">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>nfs/udp performance problem</H1>
<HR>
<P>
<!-- received="Mon Feb 08 20:20:52 1999 PST" -->
<!-- sent="Mon, 8 Feb 1999 14:19:11 -0600 (CST)" -->
<!-- name="Reid van Melle" -->
<!-- email="reid@sask.trlabs.ca" -->
<!-- subject="nfs/udp performance problem" -->
<!-- id="Pine.LNX.3.96.990208111003.8240A-100000@funnel.sask.trlabs.ca" -->
<!-- inreplyto="" -->
<STRONG>Reid van Melle</STRONG> (<A HREF="mailto:reid@sask.trlabs.ca?subject=Re:%20nfs/udp%20performance%20problem"><EM>reid@sask.trlabs.ca</EM></A>)<BR>
<EM>Mon, 8 Feb 1999 14:19:11 -0600 (CST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#282">[ date ]</A>
<A HREF="index.html#282">[ thread ]</A>
<A HREF="subject.html#282">[ subject ]</A>
<A HREF="author.html#282">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0281.html">Matti Aarnio: "Re: My 2940uw doesnt work on a Dec Alpha"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Does anybody have any ideas/observations, before we bring out the network
<BR>
analyzer and do some painful debuggin?:
<BR>
<P>*********************
<BR>
<P>Mind boggling!!!  I have two LX164 machines with 10/100 cards connected
<BR>
via a fast ethernet switch and both running 2.1.122.  There is a fair bit
<BR>
of nfs sharing going on between the two hosts.  And suddenly, for no
<BR>
apparent reason (nothing relevant has changed that I can think of), the
<BR>
nfs/udp performance has gone down the tubes.  Obviously something HAS
<BR>
changed, but what !?!.  Here are some performance stats: 
<BR>
<P>1) copying 55 MB file via nfs (machine #1 network drive to machine #2
<BR>
local drive): 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;approx 15 minutes
<BR>
<P>2) netperf TCP stream test:  approx 60 Mbps (in either direction)
<BR>
<P>3) ftp 55 MB file (machine #1 remote drive to machine #2 local drive): 23
<BR>
seconds
<BR>
<P>4) netperf UDP stream test: (in either direction)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;recv_response: partial response received: 0 bytes&quot;
<BR>
<P>FACTS:
<BR>
- the performance problems started recently without any updated kernels or
<BR>
relevant(?) rpm updates
<BR>
- all of the problems seem to only occur between these two machines.  In
<BR>
particular, copying a file via nfs from machine #1 to machine #2 seems to
<BR>
be OK, but vice versa is a unbelievable slow
<BR>
- I also got dismal UDP request/response transaction rates between the
<BR>
machines
<BR>
- machine #1:  nfs-server-2.2beta29-2
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reid van Melle
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TRLabs Network Administrator
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20nfs/udp%20performance%20problem">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20nfs/udp%20performance%20problem">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0281.html">Matti Aarnio: "Re: My 2940uw doesnt work on a Dec Alpha"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Mon Feb 08 1999 - 13:00:18 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
