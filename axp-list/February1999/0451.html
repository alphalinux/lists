<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Miata and Kernel Recompile</TITLE>
<META NAME="Author" CONTENT="Michael Choong (ratboy@intrex.net)">
<META NAME="Subject" CONTENT="Re: Miata and Kernel Recompile">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Miata and Kernel Recompile</H1>
<HR>
<P>
<!-- received="Sat Feb 13 07:39:18 1999 PST" -->
<!-- sent="Sat, 13 Feb 1999 02:30:45 -0500" -->
<!-- name="Michael Choong" -->
<!-- email="ratboy@intrex.net" -->
<!-- subject="Re: Miata and Kernel Recompile" -->
<!-- id="3.0.6.32.19990213023045.0093d650@mail.intrex.net" -->
<!-- inreplyto="03c101be5718$abc998e0$5b6fb480@me.here" -->
<STRONG>Michael Choong</STRONG> (<A HREF="mailto:ratboy@intrex.net?subject=Re:%20Miata%20and%20Kernel%20Recompile"><EM>ratboy@intrex.net</EM></A>)<BR>
<EM>Sat, 13 Feb 1999 02:30:45 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#451">[ date ]</A>
<A HREF="index.html#451">[ thread ]</A>
<A HREF="subject.html#451">[ subject ]</A>
<A HREF="author.html#451">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0450.html">Michal Jaegermann: "Re: Miata and Kernel Recompile"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0448.html">dls2: "Re: Miata and Kernel Recompile"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I seem to recall getting a similar message a few weeks back with 2.2.x on
<BR>
my AS 200 4/233 (Avanti).  If I remember correctly, I had set up all my
<BR>
file systems as modules in the kernel configuration.  I dug around a bit
<BR>
and discovered that the root fs type can't be compiled as a module - it
<BR>
must be built into the kernel.  
<BR>
<P>My guess is that the root fs must be mounted before kerneld is started,
<BR>
which makes sense in retrospect (since kerneld must be loaded off the root
<BR>
fs ;-).  I think the RedHat 5.2 noname boot image builds the fs into the
<BR>
kernel.  
<BR>
<P>It may be worth a glance at the /usr/src/linux/.config file to make sure
<BR>
that you have a line like &quot;CONFIG_EXT2_FS=y&quot;.  Also, I would make sure that
<BR>
your SCSI (or IDE) parameters for your boot disk are set to &quot;y&quot; and not &quot;m&quot;.  
<BR>
<P>Good Luck!
<BR>
<P>Michael Choong
<BR>
<A HREF="mailto:ratboy@intrex.net?subject=Re:%20Miata%20and%20Kernel%20Recompile">ratboy@intrex.net</A>
<BR>
<P><P><P>At 01:18 AM 2/13/99 -0500, you wrote:
<BR>
<EM>&gt;I've had similar bad experience with 2.2.1 on my Multia.  In fact, I can't
</EM><BR>
<EM>&gt;seem to get any kernel to compile and install correctly, following the
</EM><BR>
<EM>&gt;same exact procedure.  I get the same exact error message with the
</EM><BR>
<EM>&gt;2.2.x type kernels, and a hung display with the earlier type kernels.  :/
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;I am entirely baffled as to why the Redhat 5.2 noname boot image
</EM><BR>
<EM>&gt;works just fine.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;Derrick Shearer
</EM><BR>
<EM>&gt;<A HREF="mailto:dls2@Lehigh.EDU?subject=Re:%20Miata%20and%20Kernel%20Recompile">dls2@Lehigh.EDU</A>
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;&gt;Hi!
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;I am having some fun!  I am trying to compile 2.2.1 on my Miata with
</EM><BR>
<EM>&gt;&gt;module support.  I have been unable to get past a certain point in the
</EM><BR>
<EM>&gt;&gt;kernel boot:
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;I get to:
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;request_module{block-major-8]: Root fs not mounted
</EM><BR>
<EM>&gt;&gt;VFS: Cannot open root device 08:02
</EM><BR>
<EM>&gt;&gt;Kernel Panic: VFS Unable to mount root fs on 08:02
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;and there she sits.
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;To get to this point, I downloaded the Kernel source from
</EM><BR>
<EM>&gt;&gt;ftp.kernel.org, untarred and did the make config; make dep; make clean;
</EM><BR>
<EM>&gt;&gt;make boot; make modules: make modules_install.  Moved the vmlinux.gz
</EM><BR>
<EM>&gt;&gt;from /usr/src/linux/arch/alpha/boot to / and rebooted.
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;I even tried specifying the root file system from Milo with:
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;boot sda2:vmlinux.gz root=/dev/sda2
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;Any other ideas?
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;Thanks
</EM><BR>
<EM>&gt;&gt;
</EM><BR>
<EM>&gt;&gt;Geoff
</EM><BR>
<EM>&gt;
</EM><BR>
<P><P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Miata%20and%20Kernel%20Recompile">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Miata%20and%20Kernel%20Recompile">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0450.html">Michal Jaegermann: "Re: Miata and Kernel Recompile"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0448.html">dls2: "Re: Miata and Kernel Recompile"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sat Feb 13 1999 - 00:00:26 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
