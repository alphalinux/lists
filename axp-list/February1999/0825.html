<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: time accuracy question</TITLE>
<META NAME="Author" CONTENT="Larry Snyder (larrys@lexis-nexis.com)">
<META NAME="Subject" CONTENT="Re: time accuracy question">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: time accuracy question</H1>
<HR>
<P>
<!-- received="Sat Feb 27 01:52:52 1999 PST" -->
<!-- sent="Fri, 26 Feb 1999 20:50:41 -0500 (EST)" -->
<!-- name="Larry Snyder" -->
<!-- email="larrys@lexis-nexis.com" -->
<!-- subject="Re: time accuracy question" -->
<!-- id="199902270150.UAA05836@ra.lexis-nexis.com" -->
<!-- inreplyto="19990226182339.B3413@execpc.com" -->
<STRONG>Larry Snyder</STRONG> (<A HREF="mailto:larrys@lexis-nexis.com?subject=Re:%20time%20accuracy%20question"><EM>larrys@lexis-nexis.com</EM></A>)<BR>
<EM>Fri, 26 Feb 1999 20:50:41 -0500 (EST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#825">[ date ]</A>
<A HREF="index.html#825">[ thread ]</A>
<A HREF="subject.html#825">[ subject ]</A>
<A HREF="author.html#825">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0826.html">Larry Snyder: "Re: 2.2.2-ac4 NFS wierdness"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0824.html">norvierk@muohio.edu: "TV card in an alpha"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Thanx --
<BR>
It's been nearly a year since I set it up, so I had forgotten entirely
<BR>
about the drift file.  And yeah, my biggest worry is kicking off
<BR>
a call home when xntp wants some assurances from mom....
<BR>
-ls-
<BR>
<P><A HREF="mailto:lars@execpc.com?subject=Re:%20time%20accuracy%20question">lars@execpc.com</A> wrote:
<BR>
<EM>&gt; On Fri, Feb 26, 1999 at 06:33:19PM -0500, Larry Snyder wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I'm no xntpd god, but I think I might be able to lend some advice.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; Chris, I set up xntp on our network at work.  I like the amount of
</EM><BR>
<EM>&gt; &gt; intelligence built into the protocol.  What I'm dealing with here is
</EM><BR>
<EM>&gt; &gt; my net at home, and I want to reduce the amount of error to a minimum
</EM><BR>
<EM>&gt; &gt; before I dial in and get ntp updates. 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; In this case, just configure xntpd to use a driftfile. From the xntp
</EM><BR>
<EM>&gt; documentation:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &quot; One of the things the NTP daemon does when it is first started is to
</EM><BR>
<EM>&gt; compute the error in the intrinsic frequency of the clock on the
</EM><BR>
<EM>&gt; computer it is running on. It usually takes about a day or so after
</EM><BR>
<EM>&gt; the daemon is started to compute a good estimate of this (and it needs
</EM><BR>
<EM>&gt; a good estimate to synchronize closely to its server). Once the
</EM><BR>
<EM>&gt; initial value is computed, it will change only by relatively small
</EM><BR>
<EM>&gt; amounts during the course of continued operation. The driftfile
</EM><BR>
<EM>&gt; declaration indicates to the daemon the name of a file where it may
</EM><BR>
<EM>&gt; store the current value of the frequency error so that, if the daemon
</EM><BR>
<EM>&gt; is stopped and restarted, it can reinitialize itself to the previous
</EM><BR>
<EM>&gt; estimate and avoid the day's worth of time it will take to recompute
</EM><BR>
<EM>&gt; the frequency estimate. &quot;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; So basically.. set it up with a driftfile parameter in the ntp.conf
</EM><BR>
<EM>&gt; and then do your best to keep the machine online for a long period of
</EM><BR>
<EM>&gt; time. Once it has a good estimate of how much drift is in your
</EM><BR>
<EM>&gt; machine's clock written there.. xntpd will be able to keep your clock
</EM><BR>
<EM>&gt; in sync pretty reliably, even without network connectivity.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; I also need to dig through the
</EM><BR>
<EM>&gt; &gt; pppd docs to make sure port 123 calls aren't considered 'interesting'
</EM><BR>
<EM>&gt; &gt; enough to kick off a phone call...  This may be a good project for this
</EM><BR>
<EM>&gt; &gt; evening if I don't get derailed :-)  I'll report results.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; More importantly, make sure pppd isn't going to try to automagically
</EM><BR>
<EM>&gt; log you in any time xntpd feels lonely. Unfortunately
</EM><BR>
<EM>&gt; (well.. actually, not so unfortunately) I haven't had to use pppd for
</EM><BR>
<EM>&gt; network access, so I can't help ya there.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; Ryan Schaefer
</EM><BR>
<EM>&gt; <A HREF="mailto:lars@execpc.com?subject=Re:%20time%20accuracy%20question">lars@execpc.com</A>
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20time%20accuracy%20question">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20time%20accuracy%20question">axp-list@redhat.com</A>
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20time%20accuracy%20question">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20time%20accuracy%20question">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0826.html">Larry Snyder: "Re: 2.2.2-ac4 NFS wierdness"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0824.html">norvierk@muohio.edu: "TV card in an alpha"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Fri Feb 26 1999 - 18:00:35 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
