<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: [patches] :)</TITLE>
<META NAME="Author" CONTENT="Robert Bowles (rbowles@op.net)">
<META NAME="Subject" CONTENT="Re: [patches] :)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [patches] :)</H1>
<HR>
<P>
<!-- received="Wed Feb 24 05:38:35 1999 PST" -->
<!-- sent="Wed, 24 Feb 1999 00:51:25 -0500" -->
<!-- name="Robert Bowles" -->
<!-- email="rbowles@op.net" -->
<!-- subject="Re: [patches] :)" -->
<!-- id="19990224005125.A777@op.net" -->
<!-- inreplyto="19990224001055.D927@op.net" -->
<STRONG>Robert Bowles</STRONG> (<A HREF="mailto:rbowles@op.net?subject=Re:%20[patches]%20:)"><EM>rbowles@op.net</EM></A>)<BR>
<EM>Wed, 24 Feb 1999 00:51:25 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#710">[ date ]</A>
<A HREF="index.html#710">[ thread ]</A>
<A HREF="subject.html#710">[ subject ]</A>
<A HREF="author.html#710">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0709.html">Randy Carpenter: "Re: Good deal on a PWS 433a spotted"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0707.html">Daniel J. Frasnelli: "Good deal on a PWS 433a spotted"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Running it with the patch right now... :)
<BR>
Thanks again to Daniel for isolating the &quot;offending sections&quot;.
<BR>
<P>As for the socket filtering, I stumbled across this
<BR>
message on the LKML. The theory here seems to hold water...
<BR>
(think I'll cram it in tomorrow, time permitting)
<BR>
<P>Dr. Werner Fink (<A HREF="mailto:werner@suse.de?subject=Re:%20[patches]%20:)">werner@suse.de</A>) Tue, 23 Feb 1999 15:54:09 +0100 
<BR>
<EM>&gt; [2.2.2] The difference between sk_filter and sock_filter?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Hi,
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; there is trouble with the option CONFIG_FILTER. The structure
</EM><BR>
<EM>&gt; sk_filter used with patch 2.2.2 isn't defined in any header. Only the
</EM><BR>
<EM>&gt; struct sock_filter is given in include/linux/filter.h.
</EM><BR>
<EM>&gt; It looks like sk_filter and sock_filter are different structures because
</EM><BR>
<EM>&gt; the sk_run_filter call in include/net/sock.h uses the entries insns and
</EM><BR>
<EM>&gt; len of that new structure. That means something like
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; struct sk_filter {
</EM><BR>
<EM>&gt;	unsigned short len;
</EM><BR>
<EM>&gt;	atomic_t refcnt;
</EM><BR>
<EM>&gt;	struct sock_filter *insns;
</EM><BR>
<EM>&gt; }
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Besides this the change of sk_run_filter() in net/core/filter.c
</EM><BR>
<EM>&gt; wasn't ported to include/linux/filter.h.
</EM><BR>
<EM>&gt; The (inlined) function sk_filter_len() is missed (calculate the
</EM><BR>
<EM>&gt; real length out of the numbers of blocks used??).
</EM><BR>
<EM>&gt; And some macros are missed: SKF_NET_OFF, SKF_LL_OFF, SKF_AD_OFF,
</EM><BR>
<EM>&gt; SKF_AD_PROTOCOL, SKF_AD_PKTTYPE, and SKF_AD_IFINDEX.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Werner
</EM><BR>
<P>Looks like Alpha isn't the only arch with problems.
<BR>
<PRE>
--
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20[patches]%20:)">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20[patches]%20:)">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0709.html">Randy Carpenter: "Re: Good deal on a PWS 433a spotted"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0707.html">Daniel J. Frasnelli: "Good deal on a PWS 433a spotted"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Feb 23 1999 - 22:00:26 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
