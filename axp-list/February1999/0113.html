<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Tape drive problems</TITLE>
<META NAME="Author" CONTENT="J (sundiver@discordia.org)">
<META NAME="Subject" CONTENT="Tape drive problems">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Tape drive problems</H1>
<HR>
<P>
<!-- received="Wed Feb 03 01:15:16 1999 PST" -->
<!-- sent="Tue, 2 Feb 1999 20:15:39 -0500" -->
<!-- name="J" -->
<!-- email="sundiver@discordia.org" -->
<!-- subject="Tape drive problems" -->
<!-- id="001701be4f12$b699f020$2be008cf@goliath.discordia.org" -->
<!-- inreplyto="" -->
<STRONG>J</STRONG> (<A HREF="mailto:sundiver@discordia.org?subject=Re:%20Tape%20drive%20problems"><EM>sundiver@discordia.org</EM></A>)<BR>
<EM>Tue, 2 Feb 1999 20:15:39 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#113">[ date ]</A>
<A HREF="index.html#113">[ thread ]</A>
<A HREF="subject.html#113">[ subject ]</A>
<A HREF="author.html#113">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0114.html">J.W. Pennington: "Re: Speed and price...update"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0112.html">Ross A. Knepper: "Re: Speed and price"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I have a DSS tape drive connected to a UDB. I can read and write
<BR>
test files to and from it just fine. I have a backup script that runs
<BR>
each night which uses tar to dump a bunch of file systems to tape.
<BR>
After the backup runs for a while, I get...
<BR>
<P>tar: Cannot write to /dev/tape: Input/output error
<BR>
tar: Error is not recoverable: exiting now
<BR>
<P>Thinking there was a problem with the tape drive, I got another one
<BR>
(similar, but not exaclty the same model) and some new tapes. And it does
<BR>
exaclty the same thing. I'm not running out of space on the tape and I
<BR>
have used a cleaning tape on the drives. So now I'm wondering if there is
<BR>
some bug in the tape driver or tar. Has anyone seen something like this?
<BR>
And is there a way to get more error information that just Input/output
<BR>
error?
<BR>
<P>The details...
<BR>
<P>166Mhz UDB
<BR>
Redhat 5.1
<BR>
Kernel 2.0.35
<BR>
Tape drive:
<BR>
&nbsp;&nbsp;Host: scsi0 Channel: 00 Id: 05 Lun: 00
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Vendor: ARCHIVE  Model: Python 28388-XXX Rev: 4.98
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Type:   Sequential-Access                ANSI SCSI revision: 02
<BR>
<P>Backup script:
<BR>
mt -f /dev/tape rewind
<BR>
mt -f /dev/tape datcompression 1
<BR>
mt -f /dev/tape status
<BR>
date &gt; /dev/tape
<BR>
cat /etc/fstab &gt; /dev/tape
<BR>
awk '{ if ($3==&quot;ext2&quot;) { cmd = &quot;echo &quot; $2 &quot;&gt; /dev/tape ; tar clf /dev/tape
<BR>
&quot; $2; print cmd; system(cmd)}}' &lt; /etc/fstab
<BR>
date &gt; /dev/tape
<BR>
mt -f /dev/tape rewind
<BR>
mt -f /dev/tape status
<BR>
mt -f /dev/tape offline
<BR>
<P>Results from backup script:
<BR>
Compression on.
<BR>
SCSI 2 tape drive:
<BR>
File number=0, block number=0, partition=0.
<BR>
Tape block size 512 bytes. Density code 0x13 (DDS (61000 bpi)).
<BR>
Soft error count since last status=0
<BR>
General status bits on (41010000):
<BR>
BOT ONLINE IM_REP_EN
<BR>
echo /&gt; /dev/tape ; tar clf /dev/tape /
<BR>
tar: Removing leading `/' from absolute path names in the archive
<BR>
tar: Removing leading `/' from absolute links
<BR>
echo /usr&gt; /dev/tape ; tar clf /dev/tape /usr
<BR>
tar: Removing leading `/' from absolute path names in the archive
<BR>
tar: Removing leading `/' from absolute links
<BR>
tar: Cannot write to /dev/tape: Input/output error
<BR>
tar: Error is not recoverable: exiting now
<BR>
echo /var&gt; /dev/tape ; tar clf /dev/tape /var
<BR>
tar: Removing leading `/' from absolute path names in the archive
<BR>
tar: Cannot write to /dev/tape: Input/output error
<BR>
tar: Error is not recoverable: exiting now
<BR>
...
<BR>
<P><P>So, does anyone have any ideas? Please help, before I go insane trying
<BR>
to figure this out.
<BR>
<P>- J
<BR>
<P><P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Tape%20drive%20problems">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Tape%20drive%20problems">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0114.html">J.W. Pennington: "Re: Speed and price...update"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0112.html">Ross A. Knepper: "Re: Speed and price"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Feb 02 1999 - 18:00:17 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
