<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: A fix for what ails you (fpe with Mesa/OpenGL demos f</TITLE>
<META NAME="Author" CONTENT="Daniel J. Frasnelli (dfrasnel@csee.wvu.edu)">
<META NAME="Subject" CONTENT="A fix for what ails you (fpe with Mesa/OpenGL demos fixed)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>A fix for what ails you (fpe with Mesa/OpenGL demos fixed)</H1>
<HR>
<P>
<!-- received="Thu Feb 18 23:49:43 1999 PST" -->
<!-- sent="Thu, 18 Feb 1999 18:44:55 -0500" -->
<!-- name="Daniel J. Frasnelli" -->
<!-- email="dfrasnel@csee.wvu.edu" -->
<!-- subject="A fix for what ails you (fpe with Mesa/OpenGL demos fixed)" -->
<!-- id="19990218184455.Y16253@csee.wvu.edu" -->
<!-- inreplyto="" -->
<STRONG>Daniel J. Frasnelli</STRONG> (<A HREF="mailto:dfrasnel@csee.wvu.edu?subject=Re:%20A%20fix%20for%20what%20ails%20you%20(fpe%20with%20Mesa/OpenGL%20demos%20fixed)"><EM>dfrasnel@csee.wvu.edu</EM></A>)<BR>
<EM>Thu, 18 Feb 1999 18:44:55 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#583">[ date ]</A>
<A HREF="index.html#583">[ thread ]</A>
<A HREF="subject.html#583">[ subject ]</A>
<A HREF="author.html#583">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0582.html">Tom Browder: "Order of SCSI Hosts in MILO"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You could say I'm a very happy hacker at the moment :-)
<BR>
Took a look at the replies on axp-list regarding use of -mieee and 
<BR>
libffm, made some changes to the Makefiles from Mesa-3.1beta1, rebuilt and
<BR>
installed.  To make a long moment of elation shorter, all the GL demos and
<BR>
modes of xlockmore work perfectly now.
<BR>
<P>Here's the method to my madness:
<BR>
1) Modified the linux-alpha-elf CFLAGS entry in Mesa-3.1/Make-config to
<BR>
&nbsp;read: 
<BR>
&quot;CFLAGS = -mieee -pipe -mcpu=ev56 -Wa,-m21164a -g -ansi -pedantic -fPIC 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-D_XOPEN_SOURCE -DSHM&quot; 
<BR>
Obviously the debug flag and optimizations are at your own discretion.
<BR>
<P>2) Wrote a small script to place '-lffm' before '-lm' in the Makefiles.
<BR>
&nbsp;Fairly straightforward - e-mail me in private if you need some help here :-)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I've not analyzed it enough to determine whether the success lay
<BR>
in -mieee, -lffm, or both.  
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I rebuilt FlightGear with similar CFLAGS and ld preloading of
<BR>
libffm; with the fixed Mesa libs installed, the characteristic splash 
<BR>
screen now loads (it did not previously) but I still encounter a fpe at 
<BR>
the same place as before.  I will try to go in-depth with the error
<BR>
over the next couple days.
<BR>
<P>Best regards,
<BR>
Daniel   
<BR>
<P><PRE>
---
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20A%20fix%20for%20what%20ails%20you%20(fpe%20with%20Mesa/OpenGL%20demos%20fixed)">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20A%20fix%20for%20what%20ails%20you%20(fpe%20with%20Mesa/OpenGL%20demos%20fixed)">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0582.html">Tom Browder: "Order of SCSI Hosts in MILO"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Thu Feb 18 1999 - 16:00:14 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
