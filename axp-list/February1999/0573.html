<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: OffTopic: PovRay3 for AlphaLinux ?</TITLE>
<META NAME="Author" CONTENT="Phillip Ezolt (ezolt@perf.zko.dec.com)">
<META NAME="Subject" CONTENT="Re: OffTopic: PovRay3 for AlphaLinux ?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: OffTopic: PovRay3 for AlphaLinux ?</H1>
<HR>
<P>
<!-- received="Thu Feb 18 18:44:34 1999 PST" -->
<!-- sent="Thu, 18 Feb 1999 13:21:29 -0500 (EST)" -->
<!-- name="Phillip Ezolt" -->
<!-- email="ezolt@perf.zko.dec.com" -->
<!-- subject="Re: OffTopic: PovRay3 for AlphaLinux ?" -->
<!-- id="Pine.OSF.3.96.990218130328.21221A-100000@perf.zko.dec.com" -->
<!-- inreplyto="19990218124753.R16253@csee.wvu.edu" -->
<STRONG>Phillip Ezolt</STRONG> (<A HREF="mailto:ezolt@perf.zko.dec.com?subject=Re:%20OffTopic:%20PovRay3%20for%20AlphaLinux%20?"><EM>ezolt@perf.zko.dec.com</EM></A>)<BR>
<EM>Thu, 18 Feb 1999 13:21:29 -0500 (EST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#573">[ date ]</A>
<A HREF="index.html#573">[ thread ]</A>
<A HREF="subject.html#573">[ subject ]</A>
<A HREF="author.html#573">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0572.html">Jeff Lessem: "Re: DU 4.0 under Linux."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0564.html">Jochen Kuepper: "Re: DU 4.0 under Linux."</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hmm. 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a very interesting problem.   I have seen similar unexplained
<BR>
FPEs.  One case in particular is very strange.  The binary runs fine on
<BR>
one EV5, but it core dumps (becuase of an FPE) on another EV5.  
<BR>
<P>The system types are different, (Noritake vs. alcor) (Both EV5s)
<BR>
The kernel version is different, (v2.0.30 vs v2.2.1) 
<BR>
And The math libraries are different. (glibc-2.0.7-17 vs glibc-2.0.7-29) (The 
<BR>
only difference is the Redhat patches)
<BR>
<P>However, the binary is the same.  Compiled with egcs 1.1.1. 
<BR>
<P>Could it possibly be an error in the way the the new kernel handles FPE 
<BR>
errors? 
<BR>
<P>Maybe it doesn't do a fixup when it should? 
<BR>
<P>--Phil
<BR>
<P>Digital/Compaq: High Performance Servers/Benchmark Performance Engineering
<BR>
<A HREF="mailto:Phillip.Ezolt@compaq.com?subject=Re:%20OffTopic:%20PovRay3%20for%20AlphaLinux%20?">Phillip.Ezolt@compaq.com</A>                            <A HREF="mailto:ezolt@perf.zko.dec.com?subject=Re:%20OffTopic:%20PovRay3%20for%20AlphaLinux%20?">ezolt@perf.zko.dec.com</A>
<BR>
<P><P>On Thu, 18 Feb 1999, Daniel J. Frasnelli wrote:
<BR>
<P><EM>&gt; &gt; I'd suggest to check carefully that the code is never doing anything
</EM><BR>
<EM>&gt; &gt; wrong with &quot;subnormalized&quot; numbers. I found that -mieee option is
</EM><BR>
<EM>&gt; &gt; useless with my compiler and whenever my numbers are around
</EM><BR>
<EM>&gt; &gt; ...e-310 I'm getting Floating point exception.
</EM><BR>
<EM>&gt; Andrei,
</EM><BR>
<EM>&gt; 	I am working with Curtis Olson (lead developer, FlightGear flight
</EM><BR>
<EM>&gt; simulator(FGFS) &lt;<A HREF="http://www.flightgear.org">http://www.flightgear.org</A>&gt;) on a similar problem.  Both he and
</EM><BR>
<EM>&gt; I are beginning to suspect bugs in the AXP port of egcs.  For example, 
</EM><BR>
<EM>&gt; part of the graphics initialization routines in FGFS set up coordinates for
</EM><BR>
<EM>&gt; a 640x480 window.  As you might have read already, FGFS crashes with a
</EM><BR>
<EM>&gt; fpe upon startup.  Going through the code stepwise and watching the 
</EM><BR>
<EM>&gt; variable values, there is a point where the following happens:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 1) Some of the coordinates are set to a number of order e-310 (obviously wrong)
</EM><BR>
<EM>&gt; 2) An integer divide is called which approximates the coordinates to 0.
</EM><BR>
<EM>&gt; 3) The result becomes a number x/0, which causes the fpe. 
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt; I am not sure where to start when debugging the problem, but it definately 
</EM><BR>
<EM>&gt; seems to be compiler-related; programs like xlockmore's &quot;flow&quot; mode and
</EM><BR>
<EM>&gt; most GL modes, several graphical demos shipped with glut, and others 
</EM><BR>
<EM>&gt; crash from similar conditions.  One might look through a debug of these
</EM><BR>
<EM>&gt; programs and point at Mesa or the Glut toolkit (many fpe occur during a 
</EM><BR>
<EM>&gt; light position calculation).  I personally think this is a domino-like
</EM><BR>
<EM>&gt; effect where a bug in egcs causes strange and terrible miscalculations
</EM><BR>
<EM>&gt; with math operations in all software compiled by it.
</EM><BR>
<EM>&gt; 	It does not seem to be an endian-ness or 64-bit problem, as I can
</EM><BR>
<EM>&gt; build FGFS under Irix (yes, using -64 and -mips4) and not have the same
</EM><BR>
<EM>&gt; problems.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Any thoughts?
</EM><BR>
<EM>&gt; Daniel
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20OffTopic:%20PovRay3%20for%20AlphaLinux%20?">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20OffTopic:%20PovRay3%20for%20AlphaLinux%20?">axp-list@redhat.com</A>
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20OffTopic:%20PovRay3%20for%20AlphaLinux%20?">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20OffTopic:%20PovRay3%20for%20AlphaLinux%20?">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0572.html">Jeff Lessem: "Re: DU 4.0 under Linux."</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0564.html">Jochen Kuepper: "Re: DU 4.0 under Linux."</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Thu Feb 18 1999 - 11:00:11 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
