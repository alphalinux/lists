<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: problems booting - kernel panic</H1> 
	
<!-- received="Fri Sep 14 17:58:03 2001" -->
<!-- isoreceived="20010915005803" -->
<!-- sent="Fri, 14 Sep 2001 10:35:04 -0400" -->
<!-- isosent="20010914143504" -->
<!-- name="Ken Siersma" -->
<!-- email="Ken.Siersma@ekkinc.com" -->
<!-- subject="Re: problems booting - kernel panic" -->
<!-- id="3BA21597.BF5FBBB7@ekkinc.com" -->
<!-- inreplyto="20010914093134.A8551@ellpspace.math.ualberta.ca" -->
<STRONG>Subject: </STRONG>Re: problems booting - kernel panic<BR>
<STRONG>From: </STRONG>Ken Siersma (<EM>Ken.Siersma@ekkinc.com</EM>)<BR>
<STRONG>Date: </STRONG>Fri Sep 14 07:35:04 2001
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#72">[ date ]</A>
<A HREF="index.shtml#72">[ thread ]</A>
<A HREF="subject.shtml#72">[ subject ]</A>
<A HREF="author.shtml#72">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0073.shtml">W Bauske: "Re: problems booting - kernel panic"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0071.shtml">Ken Siersma: "Re: problems booting - kernel panic"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0073.shtml">W Bauske: "Re: problems booting - kernel panic"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0068.shtml">Ken Siersma: "Re: problems booting - kernel panic"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Michal Jaegermann wrote:
<BR>
<P><EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; I can indeed boot the kernel redhat installed.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Ok, so your partition table seems to be ok.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; I did turn on File systems -&gt; Partition Types -&gt; PC BIOS (MSDOS partition
</EM><BR>
<EM>&gt; &gt; tables) support -&gt; BSD disklabel (FreeBSD partition tables) support.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; MSDOS FAT and disklabel stuff are independents so I am not sure what
</EM><BR>
<EM>&gt; these arrows are supposed to represent.  Check your .config for kernel
</EM><BR>
<EM>&gt; sources you compiled and see what &quot;Partition Types&quot; are really turned
</EM><BR>
<EM>&gt; on.  If you are using stuff line 'menuconfig' this has always nasty
</EM><BR>
<EM>&gt; surprises.
</EM><BR>
<P>I'm sorry, the arrows are representing the different sections of menuconfig.
<BR>
Essentially, I'm saying that I do have BSD disklabel support turned on.  Here is
<BR>
the partitions section of my .config:
<BR>
<P><P>CONFIG_FAT_FS=y
<BR>
CONFIG_MSDOS_FS=y
<BR>
CONFIG_VFAT_FS=y
<BR>
CONFIG_ISO9660_FS=y
<BR>
CONFIG_JOLIET=y
<BR>
CONFIG_PROC_FS=y
<BR>
CONFIG_DEVPTS_FS=y
<BR>
CONFIG_EXT2_FS=y
<BR>
<P>CONFIG_NFS_FS=y
<BR>
CONFIG_NFS_V3=y
<BR>
CONFIG_NFSD=y
<BR>
CONFIG_NFSD_V3=y
<BR>
CONFIG_SUNRPC=y
<BR>
CONFIG_LOCKD=y
<BR>
CONFIG_LOCKD_V4=y
<BR>
CONFIG_SMB_FS=y
<BR>
CONFIG_SMB_NLS_DEFAULT=y
<BR>
CONFIG_SMB_NLS_REMOTE=&quot;cp437&quot;
<BR>
<P>CONFIG_PARTITION_ADVANCED=y
<BR>
CONFIG_OSF_PARTITION=y
<BR>
CONFIG_MSDOS_PARTITION=y
<BR>
CONFIG_BSD_DISKLABEL=y
<BR>
CONFIG_SMB_NLS=y
<BR>
CONFIG_NLS=y
<BR>
<P>CONFIG_NLS_DEFAULT=&quot;iso8859-1&quot;
<BR>
CONFIG_NLS_CODEPAGE_437=y
<BR>
CONFIG_NLS_ISO8859_1=y
<BR>
<P><P><EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; Is this the disklabel partitioning you speak of?
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; You need in your .config, among other things
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; CONFIG_BSD_DISKLABEL=y
</EM><BR>
<P>As seen above, CONFIG_BSD_DISKLABEL is indeed set to 'y'.
<BR>
<P><EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; &gt; FAT: bogus logical sector size 24716
</EM><BR>
<EM>&gt; &gt; &gt; &gt; FAT: bogus logical sector size 24716
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Kernel Panic:  VFS:  Unable to mount root fs on 08:02
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; Looks like that you did not.
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Hmm, I just checked, and it is in there.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; So why you attempt to mount FAT?  This is the last attempt when
</EM><BR>
<EM>&gt; everything else failed.
</EM><BR>
<P>I have no idea why it is trying to mount FAT.  I have no FAT partitions on the
<BR>
drive.  I will try taking out FAT support completely, since I don't actually need
<BR>
it.
<BR>
<P><EM>&gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; Maybe it needs to be turned on
</EM><BR>
<EM>&gt; &gt; somewhere other than in advanced partition selection of File Systems?
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; If you would quote a partitioning fragment of your .config from the
</EM><BR>
<EM>&gt; very beginning it would be no mystery.  Make sure that you have the
</EM><BR>
<EM>&gt; following lines in &quot;Partition Types&quot; section:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; CONFIG_PARTITION_ADVANCED=y
</EM><BR>
<EM>&gt; CONFIG_OSF_PARTITION=y
</EM><BR>
<EM>&gt; CONFIG_BSD_DISKLABEL=y
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; There could be also other turned on - of course.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; Just a comment, I did save a kernel .config file from version 2.2.15 on this
</EM><BR>
<EM>&gt; &gt; machine that worked at one time (before I reinstalled linux), and I used
</EM><BR>
<EM>&gt; &gt; that as a guide in turning on options in 2.4.9.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Instead of &quot;guide&quot; you should have save it as .config and type
</EM><BR>
<EM>&gt; 'make oldconfig'.  That would be more productive; but between 2.2.15
</EM><BR>
<EM>&gt; and 2.4.9 a number things changed.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;    Michal
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; p.s. If you are ever sending/posting your .config then do that instead
</EM><BR>
<EM>&gt; with results of &quot;grep -v '#' .config&quot;.  It is much more readable to
</EM><BR>
<EM>&gt; a &quot;victim&quot;.
</EM><BR>
<P>Sorry for being such a bother-
<BR>
Ken
<BR>
<P><PRE>
--
Ken Siersma, Software Engineer
EKK, Inc.
100 North Pond Drive Suite A
Walled Lake, Michigan, 48390  USA
phone: (248) 624-9957
fax: (248) 624-7158
<A HREF="http://www.ekkinc.com">http://www.ekkinc.com</A>
<P><P><P><P><P>_______________________________________________
Axp-list mailing list
Axp-list@redhat.com
https://listman.redhat.com/mailman/listinfo/axp-list
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0073.shtml">W Bauske: "Re: problems booting - kernel panic"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0071.shtml">Ken Siersma: "Re: problems booting - kernel panic"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0073.shtml">W Bauske: "Re: problems booting - kernel panic"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0068.shtml">Ken Siersma: "Re: problems booting - kernel panic"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Thu Nov  1 07:26:49 2001 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
