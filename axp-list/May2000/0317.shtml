<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: XFree 4.0 crashes with SRM</H1> 
	
<!-- received="Thu Jun 01 13:08:27 2000" -->
<!-- isoreceived="20000601200827" -->
<!-- sent="Wed, 31 May 2000 18:31:30 -0600 (MDT)" -->
<!-- isosent="20000601003130" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="Re: XFree 4.0 crashes with SRM" -->
<!-- id="200006010031.SAA12844@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="874s7emgix.fsf@linuxcare.com" -->
<STRONG>Subject: </STRONG>Re: XFree 4.0 crashes with SRM<BR>
<STRONG>From: </STRONG>Michal Jaegermann (<EM>michal@ellpspace.math.ualberta.ca</EM>)<BR>
<STRONG>Date: </STRONG>Wed May 31 17:31:30 2000
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#317">[ date ]</A>
<A HREF="index.shtml#317">[ thread ]</A>
<A HREF="subject.shtml#317">[ subject ]</A>
<A HREF="author.shtml#317">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0318.shtml">Bill Dewey: "Re: Installing linux on axp150"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0316.shtml">David Huggins-Daines: "Re: XFree 4.0 crashes with SRM"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0316.shtml">David Huggins-Daines: "Re: XFree 4.0 crashes with SRM"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0332.shtml">Craig P Prescott: "SX MVI patch (was Re: XFree 4.0 crashes with SRM)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0316.shtml">Michal Jaegermann: "Re: XFree 4.0 crashes with SRM"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
David Huggins-Daines wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Jeff Sturm &lt;jeff.sturm@appnet.com&gt; writes:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; Thanks Rich.  I ran XFree86 under gdb (remotely) to get some better
</EM><BR>
<EM>&gt; &gt; data.  It dies with a SIGILL in miIntersect():
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; 0x120178258 &lt;miIntersect+280&gt;:	maxsw4	t6,t1,t1
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; That mean anything to anybody?  I'm using SRM V5.6-3, kernel 2.2.14.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Yup.  SRM on the SX disables the MVI instructions.  Try this patch
</EM><BR>
<EM>&gt; (from Ivan Koshaysky via linux-alpha@vger):
</EM><BR>
<EM>&gt; 
</EM><BR>
[ patch skipped ]
<BR>
There was a codycyl to that from Ivan (Kokshaysky, BTW).
<BR>
You do not need the first change if your binutils are recent enough
<BR>
and the second one apparently is for a patch version for 2.3 kernels,
<BR>
so YMMV.
<BR>
<P>&lt;quote&gt;
<BR>
Heh. GAS from binutils-2.9.1 doesn't understand 'palXX' mnemonics.
<BR>
<P>-       &quot;pal19  0x118\n&quot;        /* hw_mfpr $0,icsr */
<BR>
+       &quot;.long  0x64000118\n&quot;   /* hw_mfpr $0,icsr */
<BR>
<P>-       &quot;pal1d  0x118\n&quot;        /* hw_mtpr $0,icsr */
<BR>
+       &quot;.long  0x74000118\n&quot;   /* hw_mtpr $0,icsr */
<BR>
<P><EM>&gt;    However, when I do 'shutdown -h', weird thing happens: SRM
</EM><BR>
<EM>&gt;    complains
</EM><BR>
<EM>&gt;    about HWRPB being invalid.
</EM><BR>
<P>I forgot that hwrpb is checksum protected.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hwrpb-&gt;cycle_freq = ((cc1 &gt;&gt; 11) * 100000000UL) / 3;
<BR>
+       hwrpb_update_checksum(hwrpb);
<BR>
<P>should fix that.
<BR>
&lt;/quote&gt;
<BR>
<P>&nbsp;&nbsp;Michal
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0318.shtml">Bill Dewey: "Re: Installing linux on axp150"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0316.shtml">David Huggins-Daines: "Re: XFree 4.0 crashes with SRM"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0316.shtml">David Huggins-Daines: "Re: XFree 4.0 crashes with SRM"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0332.shtml">Craig P Prescott: "SX MVI patch (was Re: XFree 4.0 crashes with SRM)"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0316.shtml">Michal Jaegermann: "Re: XFree 4.0 crashes with SRM"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Thu Jun  1 09:46:25 2000 PDT <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
