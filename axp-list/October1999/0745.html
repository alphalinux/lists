<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Problems with X Window</TITLE>
<META NAME="Author" CONTENT="Ernesto Vieira Neto (ernesto@feg.unesp.br)">
<META NAME="Subject" CONTENT="Re: Problems with X Window">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Problems with X Window</H1>
<HR>
<P>
<!-- received="Wed Oct 27 13:36:13 1999" -->
<!-- isoreceived="19991027203613" -->
<!-- sent="Wed, 27 Oct 1999 11:22:11 -0200" -->
<!-- isosent="19991027132211" -->
<!-- name="Ernesto Vieira Neto" -->
<!-- email="ernesto@feg.unesp.br" -->
<!-- subject="Re: Problems with X Window" -->
<!-- id="3816FC82.24F92BF0@feg.unesp.br" -->
<!-- inreplyto="199910261931.NAA02857@ellpspace.math.ualberta.ca" -->
<STRONG>Subject: </STRONG>Re: Problems with X Window<BR>
<STRONG>From: </STRONG>Ernesto Vieira Neto (<EM>ernesto@feg.unesp.br</EM>)<BR>
<STRONG>Date: </STRONG>Wed Oct 27 1999 - 06:22:11 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#745">[ date ]</A>
<A HREF="index.html#745">[ thread ]</A>
<A HREF="subject.html#745">[ subject ]</A>
<A HREF="author.html#745">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0746.html">Rajiv Dighe: "Re: Things broken on Jensen"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0744.html">Champigny, Michael: "RE: Things broken on Jensen"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0467.html">Tom Browder: "Re: Re: Problems with X Window"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0431.html">Ernesto Vieira Neto: "Re: Problems with X Window"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi Michael, my terminals are working properly now. I did
<BR>
<P>chmod o+w /dev/ptmx
<BR>
<P>and all the users can get kvt and others terminals.
<BR>
<P>The problem seems that somehow when the users start the X, it don't pass the
<BR>
property of ptmx to the users. I don't know how to do it in a bealty way, so
<BR>
I did it on the hard way.
<BR>
<P>Thank you very much. The users was trying to kill me, now I can breth for a
<BR>
while.
<BR>
<P>Ernesto.
<BR>
<P>Michal Jaegermann wrote:
<BR>
<P><EM>&gt; &gt; none             /dev/pts       devpts  mode=0622       0 0
</EM><BR>
<EM>&gt;                      ^^^^^^^
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; so, I haven't any ptys
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Well, yes, you do.  You should have 'devpts' mounted on /dev/pts.
</EM><BR>
<EM>&gt; Check by typing 'mount'.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; When I strace kvt I have a lot of numbers, but the last lines is
</EM><BR>
<EM>&gt; &gt; interesting:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; open(&quot;/dev/ptmx&quot;, O_RDWR)               = -1 EACCES (Permission denied)
</EM><BR>
<EM>&gt;           ^^^^^^
</EM><BR>
<EM>&gt;   This seems to be the problem.  This is &quot;pseudo-tty multiplexer&quot;.
</EM><BR>
<EM>&gt; It should be a node of with (major,minor) 5,2 and 666 permissions.
</EM><BR>
<EM>&gt; It creates a new node in /dev/pts/ directory and is passing that
</EM><BR>
<EM>&gt; to an application.  glibc2, as opposed to glibc2.1, behaves
</EM><BR>
<EM>&gt; differently here and is NOT using /dev/ptmx or /dev/pts/.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; write(2, &quot;kvt: &quot;, 5)                    = 5
</EM><BR>
<EM>&gt; &gt; write(2, &quot;Can\'t open a pseudo teletype&quot;, 28) = 28
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Figures.  Root apparently gets a terminal anyway, but other
</EM><BR>
<EM>&gt; users are screwed.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; The user have no permision on /dev/ptmx. Do you how can I change this
</EM><BR>
<EM>&gt; &gt; thing.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; With 'chmod'.  Your /dev/MAKEDEV file should list proper permissions
</EM><BR>
<EM>&gt; for that one.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; Do I have to put it on /etc/fstab?
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; No, this has nothing to do with fstab.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;   Michal
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0746.html">Rajiv Dighe: "Re: Things broken on Jensen"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0744.html">Champigny, Michael: "RE: Things broken on Jensen"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0467.html">Tom Browder: "Re: Re: Problems with X Window"</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0431.html">Ernesto Vieira Neto: "Re: Problems with X Window"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:54 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
