<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: kmail SEGVs using reply in Redhat 6.0.</TITLE>
<META NAME="Author" CONTENT="Mark Arrasmith (arrasmith@math.twsu.edu)">
<META NAME="Subject" CONTENT="Re: kmail SEGVs using reply in Redhat 6.0.">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: kmail SEGVs using reply in Redhat 6.0.</H1>
<HR>
<P>
<!-- received="Wed Oct 06 02:19:51 1999" -->
<!-- isoreceived="19991006091951" -->
<!-- sent="Tue, 5 Oct 1999 19:12:56 -0500" -->
<!-- isosent="19991006001256" -->
<!-- name="Mark Arrasmith" -->
<!-- email="arrasmith@math.twsu.edu" -->
<!-- subject="Re: kmail SEGVs using reply in Redhat 6.0." -->
<!-- id="002001bf0f8f$8b34da60$2f934b0c@default" -->
<!-- inreplyto="kmail SEGVs using reply in Redhat 6.0." -->
<STRONG>Subject: </STRONG>Re: kmail SEGVs using reply in Redhat 6.0.<BR>
<STRONG>From: </STRONG>Mark Arrasmith (<EM>arrasmith@math.twsu.edu</EM>)<BR>
<STRONG>Date: </STRONG>Tue Oct 05 1999 - 17:12:56 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#48">[ date ]</A>
<A HREF="index.html#48">[ thread ]</A>
<A HREF="subject.html#48">[ subject ]</A>
<A HREF="author.html#48">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0049.html">Jack Wathey: "Re: Carving out a niche (Re: Redhat 6.1)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0047.html">AXP list: "kmail SEGVs using reply in Redhat 6.0."</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0047.html">AXP list: "kmail SEGVs using reply in Redhat 6.0."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0056.html">dr john halewood: "RE: kmail SEGVs using reply in Redhat 6.0."</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0047.html">Mark Arrasmith: "Re: kmail SEGVs using reply in Redhat 6.0."</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
<EM>&gt;  Has anyone else had SEGVs on the recent versions of kmail *only
</EM><BR>
<EM>&gt;  when they try to reply*??
</EM><BR>
<P><P>This is a problem with the mimelib in kdesupport.  It was documented by Olaf
<BR>
Spinczyk and he posted a fix here on the list (see
<BR>
<A HREF="http://ivs.cs.uni-magdeburg.de/~olaf/alpha.html">http://ivs.cs.uni-magdeburg.de/~olaf/alpha.html</A> ).  KDE 1.1.2 (the latest
<BR>
version) still has the problem.  And if RedHat hasn't patched this for their
<BR>
alpha.rpm's it wouldn't be that big of a surprise.
<BR>
<P>In mimelib/datetime.cpp
<BR>
<P>&lt;snip&gt;
<BR>
void DwDateTime::_FromUnixTime(DwUint32 aTime)
<BR>
{
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;DwUint32 t = aTime + mZone*60;
<BR>
#if defined(USE_PORTABLE_GMTIME)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;struct tm tt
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;my_gmtime_r(&amp;t, &amp;tt);
<BR>
#elif defined(HAVE_GMTIME_R)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;struct tm tt
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;gmtime_r(&amp;t, &amp;tt);
<BR>
#else
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;struct tm tt = *gmtime((time_t*)&amp;t);
<BR>
#endif
<BR>
&lt;/snip&gt;
<BR>
<P>You need to change . . .
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct tm tt = *gmtime((time_t*)&amp;t);
<BR>
<P>To . . .
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_t workaround = (time_t)t;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//    struct tm tt = *gmtime((time_t*)&amp;t);
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct tm tt = *gmtime(&amp;workaround);
<BR>
<P>Anyone want to make patched kdesupport.src.rpm's ?
<BR>
<P>- mark arrasmith
<BR>
<P><P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0049.html">Jack Wathey: "Re: Carving out a niche (Re: Redhat 6.1)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0047.html">AXP list: "kmail SEGVs using reply in Redhat 6.0."</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0047.html">AXP list: "kmail SEGVs using reply in Redhat 6.0."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0056.html">dr john halewood: "RE: kmail SEGVs using reply in Redhat 6.0."</A>
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0047.html">Mark Arrasmith: "Re: kmail SEGVs using reply in Redhat 6.0."</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:49 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
