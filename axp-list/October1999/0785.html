<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Linux + Adaptec 2940U2W = ??</TITLE>
<META NAME="Author" CONTENT="Christophe Renard (lst_crenard@mednet.mc)">
<META NAME="Subject" CONTENT="Re: Linux + Adaptec 2940U2W = ??">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Linux + Adaptec 2940U2W = ??</H1>
<HR>
<P>
<!-- received="Thu Oct 28 15:07:46 1999" -->
<!-- isoreceived="19991028220746" -->
<!-- sent="Thu, 28 Oct 1999 14:44:25 +0200" -->
<!-- isosent="19991028124425" -->
<!-- name="Christophe Renard" -->
<!-- email="lst_crenard@mednet.mc" -->
<!-- subject="Re: Linux + Adaptec 2940U2W = ??" -->
<!-- id="020501bf2142$2b35fda0$c8a0f2c2@meditnet.com" -->
<!-- inreplyto="19991027221654.A360@titus.mit.edu" -->
<STRONG>Subject: </STRONG>Re: Linux + Adaptec 2940U2W = ??<BR>
<STRONG>From: </STRONG>Christophe Renard (<EM>lst_crenard@mednet.mc</EM>)<BR>
<STRONG>Date: </STRONG>Thu Oct 28 1999 - 05:44:25 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#785">[ date ]</A>
<A HREF="index.html#785">[ thread ]</A>
<A HREF="subject.html#785">[ subject ]</A>
<A HREF="author.html#785">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0786.html">Phillip Ezolt: "Re: DE-422 Ethernet on Jensen"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0784.html">Gaboli Ivan: "Re: which alpha cpu???"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0773.html">Scott Johnston: "Linux + Adaptec 2940U2W = ??"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0819.html">Jeff DeMaagd: "Re: Linux + Adaptec 2940U2W = ??"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0773.html">Christophe Renard: "Re: Linux + Adaptec 2940U2W = ??"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>I've been using this kind of SCSI adapter for the last few weeks.
<BR>
<P>But I was unable to use it as boot device probably a combination of MILO,
<BR>
ARC firmware bad will.
<BR>
<P>I had to install linux on an other HD, cook a new kernel including the
<BR>
Adaptec driver and change my ARC/MILO boot options and the /etc/fstab
<BR>
accordingly.
<BR>
<P>The new adapter is recognized but what has to be taken into consideration is
<BR>
that including the driver in the kernel may make /dev/sda become a disk
<BR>
connected on the Adaptec card and /dev/sdb the original installation one.
<BR>
<P>I join a dmesg extract for details.
<BR>
<P>Hope this helps.
<BR>
<P>Christophe Renard
<BR>
Mediterranean Network s.a.m.
<BR>
<A HREF="http://www.mednet.mc">http://www.mednet.mc</A>
<BR>
<P>-------------------------------------------------------------------
<BR>
Linux version 2.2.10 (crenard@cesium.meditnet.com) (gcc version egcs-2.91.66
<BR>
19990314/Linux (egcs-1.1.2 release)) #3 Mon Oct 11 12:45:28 CEST 1999
<BR>
Booting on Mikasa using machine vector Mikasa
<BR>
Command line: bootdevice= bootfile= root=/dev/sdb6
<BR>
&lt;SNIP&gt;
<BR>
loop: registered device at major 7
<BR>
(scsi0) &lt;Adaptec AHA-2944 Ultra SCSI host adapter&gt; found at PCI 13/0
<BR>
(scsi0) Wide Channel, SCSI ID=7, 16/255 SCBs
<BR>
(scsi0) Warning - detected auto-termination
<BR>
(scsi0) Please verify driver detected settings are correct.
<BR>
(scsi0) If not, then please properly set the device termination
<BR>
(scsi0) in the Adaptec SCSI BIOS by hitting CTRL-A when prompted
<BR>
(scsi0) during machine bootup.
<BR>
(scsi0) Cables present (Int-50 NO, Int-68 YES, Ext-68 NO)
<BR>
(scsi0) Downloading sequencer code... 413 instructions downloaded
<BR>
NCR53c406a: no available ports found
<BR>
scsi-ncr53c7,8xx : at PCI bus 0, device 6,  function 0
<BR>
scsi-ncr53c7,8xx : NCR53c810 at memory 0x4200000, io 0x9000, irq 28
<BR>
scsi1 : burst length 8
<BR>
scsi1 : NCR code relocated to 0x405d86b4 (virt 0xfffffc00005d86b4)
<BR>
scsi1 : test 1 started
<BR>
scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.17/3.2.4
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Adaptec AHA-2944 Ultra SCSI host adapter&gt;
<BR>
scsi1 : NCR53c{7,8}xx (rel 17)
<BR>
scsi : 2 hosts.
<BR>
(scsi0:0:0:0) Synchronous at 40.0 Mbyte/sec, offset 8.
<BR>
&nbsp;&nbsp;Vendor: IBM       Model: DDRS-39130D       Rev: DC1B
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
Detected scsi disk sda at scsi0, channel 0, id 0, lun 0
<BR>
scsi1 : target 0 accepting asynchronous SCSI
<BR>
scsi1 : setting target 0 to asynchronous SCSI
<BR>
&nbsp;&nbsp;Vendor: DEC       Model: RZ28     (C) DEC  Rev: D41C
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
Detected scsi disk sdb at scsi1, channel 0, id 0, lun 0
<BR>
scsi1 : target 4 accepting asynchronous SCSI
<BR>
scsi1 : setting target 4 to asynchronous SCSI
<BR>
&nbsp;&nbsp;Vendor: DEC       Model: RRD43   (C) DEC   Rev: 1084
<BR>
&nbsp;&nbsp;Type:   CD-ROM                             ANSI SCSI revision: 02
<BR>
Detected scsi CD-ROM sr0 at scsi1, channel 0, id 4, lun 0
<BR>
scsi : detected 1 SCSI cdrom 2 SCSI disks total.
<BR>
Uniform CDROM driver Revision: 2.55
<BR>
SCSI device sda: hdwr sector= 512 bytes. Sectors= 17850000 [8715 MB] [8.7
<BR>
GB]
<BR>
SCSI device sdb: hdwr sector= 512 bytes. Sectors= 4110480 [2007 MB] [2.0 GB]
<BR>
&lt;SNIP&gt;
<BR>
Partition check:
<BR>
&nbsp;sda: sda1 sda2
<BR>
&nbsp;sdb: sdb1 sdb2 &lt; sdb5 sdb6 &gt;
<BR>
<P>----- Message d'origine -----
<BR>
De : Scott Johnston &lt;johnston@mit.edu&gt;
<BR>
À : &lt;axp-list@redhat.com&gt;
<BR>
Envoyé : Thursday, October 28, 1999 04:16
<BR>
Objet : Linux + Adaptec 2940U2W = ??
<BR>
<P><P>| Howdy folks,
<BR>
|
<BR>
| Does anyone out there know the magic recipe to get an Adaptec 2940U2W
<BR>
| Ultra2 controller working in an Alpha (specifically, an AS 200 4/233)?
<BR>
|
<BR>
| MILO boots off the Red Hat 6.0 floppy just fine, but as soon as MILO
<BR>
| loads the kernel off the kernel disk, the system freezes.  Once I remove
<BR>
| the 2940U2W card and repeat the procedure, the kernel boots fine.  Replace
<BR>
| the card, and the system locks on kernel bootup again.
<BR>
|
<BR>
| I'm running ARC 4.58.  I tried booting the 2940U2W card with its
<BR>
| attached drive in a Pentium-class machine and it worked fine, so
<BR>
| it doesn't appear that anything is broken.  Your thoughts?
<BR>
|
<BR>
| Thanks!
<BR>
| Scott
<BR>
|
<BR>
| --
<BR>
| To unsubscribe: send e-mail to axp-list-request@redhat.com with
<BR>
| 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0786.html">Phillip Ezolt: "Re: DE-422 Ethernet on Jensen"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0784.html">Gaboli Ivan: "Re: which alpha cpu???"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0773.html">Scott Johnston: "Linux + Adaptec 2940U2W = ??"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0819.html">Jeff DeMaagd: "Re: Linux + Adaptec 2940U2W = ??"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0773.html">Christophe Renard: "Re: Linux + Adaptec 2940U2W = ??"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:54 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
