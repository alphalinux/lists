<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Low power idle mode patch</TITLE>
<META NAME="Author" CONTENT="Nikita Schmidt (cetus@snowball.ucd.ie)">
<META NAME="Subject" CONTENT="Low power idle mode patch">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Low power idle mode patch</H1>
<HR>
<P>
<!-- received="Fri Oct 15 17:10:55 1999" -->
<!-- isoreceived="19991016001055" -->
<!-- sent="Fri, 15 Oct 1999 13:56:29 +0100" -->
<!-- isosent="19991015125629" -->
<!-- name="Nikita Schmidt" -->
<!-- email="cetus@snowball.ucd.ie" -->
<!-- subject="Low power idle mode patch" -->
<!-- id="19991015135629.A400@snowball.ucd.ie" -->
<STRONG>Subject: </STRONG>Low power idle mode patch<BR>
<STRONG>From: </STRONG>Nikita Schmidt (<EM>cetus@snowball.ucd.ie</EM>)<BR>
<STRONG>Date: </STRONG>Fri Oct 15 1999 - 05:56:29 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#329">[ date ]</A>
<A HREF="index.html#329">[ thread ]</A>
<A HREF="subject.html#329">[ subject ]</A>
<A HREF="author.html#329">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0330.html">Vanco, Donald: "RE: DS10 clock problem?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0328.html">Andrew Diller: "Re: DS10 clock problem?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0366.html">Richard Henderson: "Re: Low power idle mode patch"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
The patch attached detects whether the wtint PALcode is available and if
<BR>
yes, uses it in the idle loop to reduce CPU heat.  Care is taken to
<BR>
avoid problems caused by potential slowdown of the PCC rate.
<BR>
<P>Wtint is available in the SRM PALcode for all platforms, and in the new
<BR>
MILOs for Avanti only.  (Note: the MILO wtint was disassembled from the
<BR>
SRM PALcode for AlphaStation 255 and may potentially break things on
<BR>
other Avanti systems).  Kernel option &quot;no_wtint&quot; is provided to disable
<BR>
detection and use of wtint.
<BR>
<P>This patch applies to 2.2.12 and also to 2.3.22-pre-2 (one failed hunk
<BR>
to be ignored).
<BR>
<P>A related issue: why does the Linux kernel use PCC instead of the
<BR>
interval (RTC) timer for timekeeping?  I believe RTC is more accurate
<BR>
than processor cycles, especially on the SX164 notorious for its
<BR>
problems detecting cycle frequency.  Wouldn't it be better to use PCC
<BR>
for lost tick detection (and gettimeofday) *only*?
<BR>
<P>Thanks,
<BR>
<P>Nikita
<BR>
<P><P><HR>
<UL>
<LI>text/plain attachment: <A HREF="att-mwtint-2.2.12.diff">wtint-2.2.12.diff</A>
</UL>
<!-- attachment="att-mwtint-2.2.12.diff" -->
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0330.html">Vanco, Donald: "RE: DS10 clock problem?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0328.html">Andrew Diller: "Re: DS10 clock problem?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0366.html">Richard Henderson: "Re: Low power idle mode patch"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:51 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
