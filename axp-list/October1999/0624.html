<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: patch_v2: (on Alpha) emulating missing instructio</TITLE>
<META NAME="Author" CONTENT="Phil Carmody (carmody@cpd.ntc.nokia.com)">
<META NAME="Subject" CONTENT="Re: patch_v2: (on Alpha) emulating missing instructions">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: patch_v2: (on Alpha) emulating missing instructions</H1>
<HR>
<P>
<!-- received="Mon Oct 25 14:47:03 1999" -->
<!-- isoreceived="19991025214703" -->
<!-- sent="Mon, 25 Oct 1999 10:47:42 +0100 (WET DST)" -->
<!-- isosent="19991025094742" -->
<!-- name="Phil Carmody" -->
<!-- email="carmody@cpd.ntc.nokia.com" -->
<!-- subject="Re: patch_v2: (on Alpha) emulating missing instructions" -->
<!-- id="Pine.GSO.4.10.9910251037330.17972-100000@scooby.uk.ntc.nokia.com" -->
<!-- inreplyto="2906e107.u10t12e.d9cd7-axp@amazing.ch" -->
<STRONG>Subject: </STRONG>Re: patch_v2: (on Alpha) emulating missing instructions<BR>
<STRONG>From: </STRONG>Phil Carmody (<EM>carmody@cpd.ntc.nokia.com</EM>)<BR>
<STRONG>Date: </STRONG>Mon Oct 25 1999 - 02:47:42 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#624">[ date ]</A>
<A HREF="index.html#624">[ thread ]</A>
<A HREF="subject.html#624">[ subject ]</A>
<A HREF="author.html#624">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0625.html">Tuff Guy: "Re: NS 4.7 (Tru64) fixed!"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0623.html">Lars Hjorth: "Re: info on making boot floppies for recovery"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0597.html">Christoph Dworzak: "Re: patch_v2: (on Alpha) emulating missing instructions"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0500.html">Luke Deller: "patch_v3: emulating missing instructions on Alpha"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0597.html">Phil Carmody: "Re: patch_v2: (on Alpha) emulating missing instructions"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Sun, 24 Oct 1999, EXT axp@amazing.ch (Christoph Dworzak) wrote:
<BR>
<EM>&gt; Hi
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Oct 23 Richard Henderson (rth@twiddle.net) wrote:
</EM><BR>
<EM>&gt; &gt; On Mon, Oct 18, 1999 at 04:31:25PM +0100, Phil Carmody wrote:
</EM><BR>
<EM>&gt; &gt; &gt;	D = (A &amp; M) | (B &amp; ~M);
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I used the same sequence twice to exchange bits between two
</EM><BR>
<EM>&gt; variables depending on a mask:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; t = (A &amp; M) | (B &amp; ~M);
</EM><BR>
<EM>&gt; B = (B &amp; M) | (A &amp; ~M);
</EM><BR>
<EM>&gt; A = t;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; &gt; can be turned into 
</EM><BR>
<EM>&gt; &gt; &gt;	D = A ^ ((A ^ B) &amp; M);
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; I'll note that the former expression, given an andnot operation,
</EM><BR>
<EM>&gt; &gt; has 3 ops and a tree height of 2.  The later expression has 3 ops
</EM><BR>
<EM>&gt; &gt; and a tree height of 3.  I.e. the former expression takes better
</EM><BR>
<EM>&gt; &gt; advantage of instruction-level parallelism.
</EM><BR>
<P>Accepted, yes. However, with registers coming out of your ears there
<BR>
should be plenty of other things that can fill the gaps. (and OOOE
<BR>
goes a long way to filling the gaps anyway).
<BR>
I merely wanted people to have to tool in their toolkit, should it be
<BR>
needed (as it was for Cristoph).
<BR>
&nbsp;&nbsp;
<BR>
<EM>&gt; In my App the later is faster (4 ops instead of 6):
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; t = (A ^ B) &amp; M;
</EM><BR>
<EM>&gt; A ^= t;
</EM><BR>
<EM>&gt; B ^= t;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Can it get any better?
</EM><BR>
<P>Yes, get a TI DSP processor (the MVP/MP will do) which can do 'insert bit
<BR>
string' operations in a single processor cycle.
<BR>
<P>t=A
<BR>
A=A with bits from B
<BR>
B=B with bits from t
<BR>
<P>three ticks.
<BR>
<P>Phil
<BR>
<PRE>
-- 
Phil Carmody
Not speaking for or on behalf of Nokia Telecommunications
<P>Resistrance : Peaceful and passive resistance
<P>-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0625.html">Tuff Guy: "Re: NS 4.7 (Tru64) fixed!"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0623.html">Lars Hjorth: "Re: info on making boot floppies for recovery"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0597.html">Christoph Dworzak: "Re: patch_v2: (on Alpha) emulating missing instructions"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0500.html">Luke Deller: "patch_v3: emulating missing instructions on Alpha"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0597.html">Phil Carmody: "Re: patch_v2: (on Alpha) emulating missing instructions"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:53 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
