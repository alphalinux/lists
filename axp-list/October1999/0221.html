<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: IDE I/O slows down 164SX to a crawl</TITLE>
<META NAME="Author" CONTENT="Danilo Godec (danci@kibla.org)">
<META NAME="Subject" CONTENT="Re: IDE I/O slows down 164SX to a crawl">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: IDE I/O slows down 164SX to a crawl</H1>
<HR>
<P>
<!-- received="Tue Oct 12 09:44:30 1999" -->
<!-- isoreceived="19991012164430" -->
<!-- sent="Tue, 12 Oct 1999 11:30:09 +0200 (MET DST)" -->
<!-- isosent="19991012093009" -->
<!-- name="Danilo Godec" -->
<!-- email="danci@kibla.org" -->
<!-- subject="Re: IDE I/O slows down 164SX to a crawl" -->
<!-- id="Pine.LNX.3.95.991012111322.3543A-100000@server.kibla.org" -->
<!-- inreplyto="199910120649.AA01082@sharon.qkal.sap-ag.de" -->
<STRONG>Subject: </STRONG>Re: IDE I/O slows down 164SX to a crawl<BR>
<STRONG>From: </STRONG>Danilo Godec (<EM>danci@kibla.org</EM>)<BR>
<STRONG>Date: </STRONG>Tue Oct 12 1999 - 02:30:09 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#221">[ date ]</A>
<A HREF="index.html#221">[ thread ]</A>
<A HREF="subject.html#221">[ subject ]</A>
<A HREF="author.html#221">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0222.html">Phil Carmody: "NFS on heirarchy of mounted partitions"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0220.html">Peter Rye: "xfs on RH6.0 - thanks"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0219.html">krebs@qkal.sap-ag.de: "Re: IDE I/O slows down 164SX to a crawl"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0224.html">krebs@qkal.sap-ag.de: "Re: IDE I/O slows down 164SX to a crawl"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0219.html">Danilo Godec: "Re: IDE I/O slows down 164SX to a crawl"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Tue, 12 Oct 1999 krebs@qkal.sap-ag.de wrote:
<BR>
<P><EM>&gt; this is normal as long as you use PIO mode to access ide.
</EM><BR>
<EM>&gt; that's the reason why i wrote an dma driver for the SX's ide chip
</EM><BR>
<EM>&gt; cypress CY82C693. the driver is part of the offical IDE kernel
</EM><BR>
<EM>&gt; patches you can get them from
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; <A HREF="ftp://ftp.kernel.org/pub/linux/kernel/people/hedrick/">ftp://ftp.kernel.org/pub/linux/kernel/people/hedrick/</A>
</EM><BR>
<P>Actually, I do use those patches, but they don't seem to do the trick for
<BR>
me.
<BR>
<P>Here is how my IDE devices are setup (hdparm complains some with cd-roms,
<BR>
but still manages to turn on the DMA):
<BR>
<P>[/root]# hdparm /dev/hda
<BR>
&nbsp;
<BR>
/dev/hda: 
<BR>
&nbsp;multcount = 1 (on) 
<BR>
&nbsp;I/O support = 1 (32-bit) 
<BR>
&nbsp;unmaskirq = 0 (off) 
<BR>
&nbsp;using_dma = 1 (on) 
<BR>
&nbsp;keepsettings = 0 (off) 
<BR>
&nbsp;nowerr = 0 (off) 
<BR>
&nbsp;readonly = 0 (off) 
<BR>
&nbsp;readahead = 8 (on) 
<BR>
&nbsp;geometry     = 8894/15/63, sectors = 8404830, start = 0
<BR>
<P>[/root]# hdparm /dev/hdb
<BR>
&nbsp;
<BR>
/dev/hdb: 
<BR>
&nbsp;HDIO_GET_MULTCOUNT failed: Input/output error
<BR>
&nbsp;I/O support = 1 (32-bit) 
<BR>
&nbsp;unmaskirq = 1 (on) 
<BR>
&nbsp;using_dma = 1 (on) 
<BR>
&nbsp;keepsettings = 0 (off) 
<BR>
&nbsp;HDIO_GET_NOWERR failed: Input/output error
<BR>
&nbsp;readonly = 0 (off) 
<BR>
&nbsp;BLKRAGET failed: Input/output error
<BR>
&nbsp;HDIO_GETGEO failed: Invalid argument
<BR>
<P><P>(/dev/hdc is another cd-rom, having exactly the same settings as /dev/hdb)
<BR>
<P>Maybe the problem is in using ide-scsi emulation? If I don't load the
<BR>
ide-scsi module, I cannot use hdparm on /dev/hdb and /dev/hdc. And maybe,
<BR>
when the ide-scsi module is loaded, hdparm doesn't REALLY switch the
<BR>
cd-roms to DMA? 
<BR>
<P>Any further ideas? 
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;D.
<BR>
<P><P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0222.html">Phil Carmody: "NFS on heirarchy of mounted partitions"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0220.html">Peter Rye: "xfs on RH6.0 - thanks"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0219.html">krebs@qkal.sap-ag.de: "Re: IDE I/O slows down 164SX to a crawl"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0224.html">krebs@qkal.sap-ag.de: "Re: IDE I/O slows down 164SX to a crawl"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0219.html">Danilo Godec: "Re: IDE I/O slows down 164SX to a crawl"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:50 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
