<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Installing RH6.0 on DS20 (long)</TITLE>
<META NAME="Author" CONTENT="Vanco, Donald (VANCOD@PIOS.com)">
<META NAME="Subject" CONTENT="Installing RH6.0 on DS20 (long)">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Installing RH6.0 on DS20 (long)</H1>
<HR>
<P>
<!-- received="Mon Oct 11 13:33:58 1999" -->
<!-- isoreceived="19991011203358" -->
<!-- sent="Mon, 11 Oct 1999 08:50:31 -0400" -->
<!-- isosent="19991011125031" -->
<!-- name="Vanco, Donald" -->
<!-- email="VANCOD@PIOS.com" -->
<!-- subject="Installing RH6.0 on DS20 (long)" -->
<!-- id="07E164D341EED111ADCD0000F8662F4A07221B8A@pioushqntmail2.pios.com" -->
<STRONG>Subject: </STRONG>Installing RH6.0 on DS20 (long)<BR>
<STRONG>From: </STRONG>Vanco, Donald (<EM>VANCOD@PIOS.com</EM>)<BR>
<STRONG>Date: </STRONG>Mon Oct 11 1999 - 05:50:31 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#184">[ date ]</A>
<A HREF="index.html#184">[ thread ]</A>
<A HREF="subject.html#184">[ subject ]</A>
<A HREF="author.html#184">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0185.html">Tuff Guy: "Re: DU Netscape Crashes"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0183.html">Christophe Renard: "[Limit-off-topic] SCSI pbm with Alphalinux"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0190.html">Wes Bauske: "Re: Installing RH6.0 on DS20 (long)"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
If anyone cares - here's what I went through on my first DS20 install.
<BR>
<P>This was documented for internal use here at my company, so it's winded &amp;
<BR>
full of opinion.
<BR>
<P><P>Feel free to comment on my process - I need all the help I can get.....
<BR>
really.
<BR>
Don
<BR>
<P>____________________________________________________________
<BR>
<P>Caveats:  
<BR>
1) I am not an Alpha person.  This is the first box I have ever laid hands
<BR>
on - so this is in excruciating detail.  I had the Red Hat Alpha book and an
<BR>
11 month old doc from Compaq.  This was likely my first mistake - looking at
<BR>
documents from 2 sources.  I will tell you that the Compaq doc is too slim
<BR>
on detail for the newbie (lots of &quot;how&quot; but little &quot;why&quot;) and the Red Hat
<BR>
doc was full of blatant misinformation.  The results you see here are from 2
<BR>
days of trial &amp; (t)error - but I'm not too stubborn to ask for help!
<BR>
<P>BTW1 - new docs are on the way from Red Hat (per Red Hat support) and Compaq
<BR>
would not let me speak to anyone who had Alpha knowledge, nor did they have
<BR>
any updated documentation to offer.  After nearly 1.5 hours on the phone
<BR>
with Compaq while they searched to see if they were, in fact, allowed to
<BR>
answer my 5 minute question I slammed the phone down and resolved it the
<BR>
best possible way - with the help of the Linux community at large.
<BR>
<P>2) Some Alpha systems are &quot;MILO&quot; friendly (the Alpha version of &quot;LILO&quot;) and
<BR>
the install (and subsequent boots) can be done from the ARC/AlphaBIOS and
<BR>
the system will play nice with &quot;DOS-style&quot; partitioning table and is
<BR>
probably no more of an issue than an x86 install.  Sadly, the DS10/10 &amp; ES40
<BR>
are NOT in that category - there is no MILO compatibility and it requires
<BR>
BSD style partition tables.  More on this in the partitioning section,
<BR>
including my (subdued) rant on Compaq's inaccuracies.  ARC was created for
<BR>
the weaknesses of the WindozeNT user anyway.....
<BR>
<P>System detail:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic &quot;DN-55NJA-DA&quot; which appears to sort of match Compaq's &quot;linux
<BR>
ready&quot; DJ-55NJA-DA
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Dual 500MHz CPUs
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 128 MB RAM (installed in seeming random location)	
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 9.1 GB SCSI (sole device on bus 1)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- SCSI controller w/Tulip based Ethernet card (in slot 4)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- CD-ROM (sole device, bus 0)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- floppy
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- (old) Cirrus Logic GD5429 based video card (in slot 1)
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There is only one &quot;Compaq supported&quot; video card for Linux on DS10/20
<BR>
- it's the Elsa Gloria which uses the Generic SVGA Xserver.  As of this
<BR>
writing TAC (the artist formerly known as PEC) did not have one available
<BR>
and was not overly anxious to provide one, so we're in the process of
<BR>
sourcing one.  I've little concern regarding it's functionality, but will
<BR>
update as needed.
<BR>
<P>(I have since gotten the ELSA Gloria card &amp; it works fine)
<BR>
<P>Notes on installing Red Hat 6.0 (Alpha version) on a DS20 install.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- SMP kernel 2.2.12 used for boot floppy
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- OS install loads a non-SMP kernel (2.2.5-16), you need to build an
<BR>
SMP kernel (see NOTES below)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- I was to find out post-install that there are current boot/root
<BR>
images at:
<BR>
<A HREF="ftp://ftp.rge.com/pub/systems/linux/redhat/updates/6.0/images/alpha/">ftp://ftp.rge.com/pub/systems/linux/redhat/updates/6.0/images/alpha/</A>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- however, on later tests I was not able to get this kernel to boot.
<BR>
I was also not able to get the 2.2.3 boot floppy to work.  Both would halt -
<BR>
either just after the SCSI / Partition check or just after inserting the
<BR>
ramdisk.  I've no idea what the errors were from, but they are decidedly
<BR>
repeatable while the 2.2.12 kernel boots every time.  My feeing is that it
<BR>
has something to do with the SCSI/Ethernet card and SMP -vs- non-SMP kernels
<BR>
- it would &quot;feel&quot; the SCSI controllers OK, but when it would start to try to
<BR>
look at the Ethernet controller it would hork.  Perhaps someone more
<BR>
intimate with the multiprocessor world could enlighten me.  It's my
<BR>
understanding that an SMP kernel will support (i.e. run on) a machine with a
<BR>
single CPU, perhaps, or rather it appears that the vice-versa is not true.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I have been told the installation will be the same for the DS10 and
<BR>
the ES40.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It should be noted that any &quot;popular&quot; PCI video card will likely
<BR>
work.  There are known issues with the S3 Virge DX/GX chipsets that should
<BR>
be taken into consideration.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It should also be noted that the author had NO success in finding an
<BR>
Xserver build to support the PowerStorm (3DLabs/Permedia2) video cards.  The
<BR>
Compaq doc stated that a build needed to be made, but apparently it wasn't a
<BR>
big enough concern for them to see that it got done (as of Xfree86 3.3.5).  
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There is a company selling an Xserver (<A HREF="http://www.xi-graphics.com/">http://www.xi-graphics.com/</A>)
<BR>
for $100.00 - but Alpha support is only in their 4.1 release - and you can
<BR>
only purchase 5.0. (duh?)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SuSE showed one (free??) with chipset caveats that I could not
<BR>
verify without a board for comparison.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Metrolink has one for &quot;some&quot; Permedia2 cards for $40
<BR>
(<A HREF="http://www.metrolink.com/">http://www.metrolink.com/</A>)
<BR>
<P><P>Load details:	
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Doc from Compaq said to be on the latest SRM/ARC, so that was step
<BR>
one.....
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- AT A MINIMUM be on a rev higher than (SRM) 5.4.4
<BR>
<P>Go into ARC/AlphaBIOS -&gt; CMOS Set Up -&gt; Advanced -&gt; Console Selection and
<BR>
set to UNIX Console (F10 x2 to save!)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- I also used the Hard Drive Setup utility to delete, re-create, and
<BR>
format partitioning (small ~25 MB)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-I wanted the drive clean - NO boot records
<BR>
<P>Upgrade SRM to current rev (NT=5.7 SRM=5.5-82)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Easiest from SRM - type &quot;lfu&quot; and follow prompts (ignoring errors
<BR>
on verify - quality...)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Compaq site has images for ARC or SRM (and oddly enough labels
<BR>
them as &quot;disk 1&quot; and &quot;disk 2&quot; even though they are autonomous)
<BR>
BTW2 - this process, in whatever form, updates both SRM &amp; ARC
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now it's time to do a few things from the system console.  I found
<BR>
that typos here were catastrophic (if you see HALT CODE 5 you've likely
<BR>
typo'd).  I found that it was best to clear options or set them to &quot;&quot; and
<BR>
start fresh.  DO NOT backspace in the midst of the option line &amp; correct -
<BR>
clear the line, hit return, and start fresh.  Using &quot;show boot*&quot; may return
<BR>
output that looks correct, but a space at the end of the line can be fatal -
<BR>
and I've got the bald patch to prove it.
<BR>
<P>from P00&gt;&gt;&gt; :
<BR>
show device
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-make note of CD-ROM (DKA500 on my box) and HD (DKB0 on mine) and
<BR>
insure that DVA0 (floppy) is present
<BR>
set bootdef_dev dva0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- sets default boot device to floppy
<BR>
set boot_file vmlinux.gz
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- the kernel image on the floppy
<BR>
set boot_osflags &quot;root=/dev/fd0 load_ramdisk=1 bootdevice=/dev/fd0&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- I found the bootdevice statement superfluous
<BR>
You may also want to set boot_reset ON - it will allow Linux to reboot the
<BR>
system (with somewhat ambiguous success during setup and also subsequently
<BR>
with init0 &amp; reboot)
<BR>
Type show boot* once more to VERIFY your entries.
<BR>
<P>NOTE: You can also do ALL of this from a prompt by typing:
<BR>
boot dva0 -fi vmliux.gz -fl &quot;root=/dev/fd0 load_ramdisk=1
<BR>
bootdevice=/dev/fd0&quot;  
<BR>
HOWEVER - I found that if I had ANYTHING contrary set in SRM it would barf a
<BR>
HALT CODE 5 on one or both processors.  It may have been stupid user error
<BR>
somewhere (feel free to enlighten me), but...... Caveat Emptor.
<BR>
<P>BTW3 - I was NOT able to boot from CD by altering the above info to match
<BR>
what was on the CD - I kept getting SCSI timeouts.  Again feel free to clue
<BR>
me in if I'm missing something here...... I've a feeling it was the Ethernet
<BR>
&quot;port&quot; and the generic kernel image issue again.
<BR>
<P>Insert the boot floppy; type &quot;boot&quot;; enter
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- boot process proceeds, you should get prompted for ramdisk
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- errors here (during kernel load) usually pointed to typos in &quot;set&quot;
<BR>
options above, or trying to boot with non-SMP kernel image
<BR>
<P>Select &quot;Custom Install&quot; (the default)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- you will not be able to anything but custom since the hard disk
<BR>
require BSD-style labeling &amp; the &quot;workstation&quot; and &quot;server&quot; options rely on
<BR>
a &quot;DOS-style&quot; partition table.  It has been my experience that these
<BR>
cookie-cuter loads tend to add too much and install too little if you know
<BR>
what I mean.  If you don't don't worry about it and just do a custom
<BR>
install.....
<BR>
<P>Select &quot;fdisk&quot; as the partitioning tool of choice (the following ASSUMES the
<BR>
drive currently contains &quot;NT partitioning&quot; from the ARC/AlphaBIOS!!!)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- delete all existing partitions
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- you need to set BSD labels - select b, answer yes to the prompt to
<BR>
create a disklabel!
<BR>
BTW4 - be aware: selecting b takes you into the BSD version of fdisk
<BR>
<P>THIS IS WHERE THE COMPAQ DOC IS WRONG WRONG WRONG!
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- DO delete the &quot;Entire Disk Label&quot; c that appears in the table - it
<BR>
is not necessary for the function of the system at boot time
<BR>
<P>HOWEVER.........
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- you need to assign a partition type to the &quot;free cylinders&quot; at the
<BR>
beginning of the drive for the boot partition (the document fails to mention
<BR>
this) DO NOT LEAVE THESE CYLINDERS UNASSIGNED!
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- MAKE SURE your first &quot;active&quot; (i.e. root) partition starts at
<BR>
something a little higher than 1 - you need to leave sectors at the start of
<BR>
the drive for boot info!!  I started at 5....
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- create a boot partition of ~3 MB and set it to type &quot;d&quot; (boot)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- create whatever partitions you need, including a swap = RAMx2
<BR>
(type 1) (I did / ~500MB; /usr {balance less swap} type 8)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- w and q
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- use the menu to create mount points for the mountable partitions
<BR>
<P>Eventually, you get to the point where packages get installed and the system
<BR>
then finds your mouse.  It is at this point (AFTER the package install) that
<BR>
I choose to set up the miniloader in the boot sectors.  This is documented
<BR>
in both the Compaq guide and the Red Hat book - but both were a bit
<BR>
vague/inadequate/incorrect.  Here's what I did:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Ctrl-Alt-F2 (to virtual console)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- /mnt/bin/bash (get decent shell env)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Following Red Hat's instruction to type &quot;chroot /mnt
<BR>
/bash&quot; does not get you nice environment variables
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HINT: Typing &quot;mount&quot; here will allow you to see &quot;what is where&quot; and
<BR>
allow you to find bootlx &amp; the kernel that will be used at boot
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- write secondary SRM bootloader (AND kernel if you so desire*) to
<BR>
unallocated space with:
<BR>
swriteboot -v /mnt/dev/sda /mnt/boot/bootlx KERNEL_NAME -f1
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- this assumes &quot;sda&quot; is you hard drive, alter accordingly DO NOT USE
<BR>
A PARTITION IDENTIFIER like &quot;sda1&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- the -v gives a little verbose feedback
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- bootlx is the &quot;aboot&quot; file
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- the -f1 forces the write to ignore the BSD label on
<BR>
partition 1
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- &quot;KERNEL_NAME&quot; is the name of the &quot;.gz&quot;-style kernel in
<BR>
your boot directory
<BR>
*NOTE: Installing the kernel in the boot sector did nothing to improve
<BR>
performance, and could make more of a maintenance hassle than anything else,
<BR>
possibly even cripple a system if not updated when the kernel is - I supply
<BR>
it here simply for your personal edification....
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I also found out that the install will generate both an SMP and
<BR>
non-SMP kernels and place them in /boot.  By default, it will install the
<BR>
symbolic link &quot;vmlinuz&quot; to point to the non-SMP kernel - and System.map and
<BR>
modules.info links as well.  I cannot speak for other systems, but my
<BR>
multi-processor system would not boot a non-SMP kernel (it would hang on the
<BR>
SCSI/Ethernet probe ??) email me for error details.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;What does this mean?  Well, you've got to do a bit of work to move
<BR>
some symbolic links.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd to /mnt/boot and see what's there (a good time to use 'ls -a
<BR>
--color')
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACK UP KERNEL IMAGES &amp; SUPPORT FILES! (see &quot;BTW5&quot; below)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete vmliuz and re-create it to point to the SMP kernel image
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- this may be superfluous since I could not get my machine
<BR>
to boot with a symbolic link - I always had to point it to the &quot;hard&quot; file
<BR>
(vmlinux-2.2.5-16smp) in the SRM &quot;boot_file&quot; option. I did try a sym link to
<BR>
vmlinux-XX  - nada.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- NOTE: Per Red Hat: Alphas will not boot files in the
<BR>
&quot;vmlinuz&quot; compression format - they will only boot those kernels with the
<BR>
&quot;vmlinux&quot; format.  I am not aware of the differences in the compression
<BR>
(perhaps gz -vs- bz??) but apparently it's true since I could not boot from
<BR>
vmlinuz-XXXX only from vmlinux-XXXX.  Since the output of &quot;make boot&quot;
<BR>
generates kernels in this format (gz) it seems OK.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete System.map and re-create it to point at the SMP System.map
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete modules.info and re-create it to point to the SMP
<BR>
modules.info
<BR>
<P>BTW5 - I am in the habit of creating a directory off of /boot for kernel
<BR>
images &amp; their support files.  They take up little space, and it can really
<BR>
save your bacon if you install a new kernel and botch something in the
<BR>
process.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After this you can Ctrl-Alt-F1 and complete the install.  Select an
<BR>
Xserver based on the vid card you have or use the Generic SVGA.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reboot.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now that you've re-booted you should be back at the SRM prompt -
<BR>
time to make a few changes and boot off the hard drive:
<BR>
set bootdef_dev dkb0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- again, dkb0 happened to be my drive
<BR>
set boot_file boot/vmlinux-2.2.5-16smp 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- CAN'T FOLLOW SYM LINK! (in my experience)
<BR>
set boot_osflags &quot;root=/dev/sda2 bootdevice=sr0&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- my root partition is sda2 - alter this line according to your
<BR>
partition table
<BR>
<P>type boot &amp; you should be off &amp; running.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I've no real comments on the system after that.  I did note that the
<BR>
&quot;supplied&quot; SMP kernel did not play nice with my Tulip based Ethernet/SCSI
<BR>
device, but I was able to build a new kernel with Tulip &amp; DHCP support and
<BR>
it came up immediately.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I'd welcome comments, and encourage each of you to load a DS10/20 at
<BR>
your leisure!
<BR>
Don
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0185.html">Tuff Guy: "Re: DU Netscape Crashes"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0183.html">Christophe Renard: "[Limit-off-topic] SCSI pbm with Alphalinux"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0190.html">Wes Bauske: "Re: Installing RH6.0 on DS20 (long)"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:50 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
