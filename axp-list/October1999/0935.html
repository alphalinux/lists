<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Serious warnings from RH 6.1 SRPMs on alpha</TITLE>
<META NAME="Author" CONTENT="Brad Lucier (lucier@math.purdue.edu)">
<META NAME="Subject" CONTENT="Serious warnings from RH 6.1 SRPMs on alpha">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Serious warnings from RH 6.1 SRPMs on alpha</H1>
<HR>
<P>
<!-- received="Tue Nov 02 15:36:45 1999" -->
<!-- isoreceived="19991102233645" -->
<!-- sent="Tue, 2 Nov 1999 10:23:00 -0500 (EST)" -->
<!-- isosent="19991102152300" -->
<!-- name="Brad Lucier" -->
<!-- email="lucier@math.purdue.edu" -->
<!-- subject="Serious warnings from RH 6.1 SRPMs on alpha" -->
<!-- id="199911021523.KAA18013@polya.math.purdue.edu" -->
<STRONG>Subject: </STRONG>Serious warnings from RH 6.1 SRPMs on alpha<BR>
<STRONG>From: </STRONG>Brad Lucier (<EM>lucier@math.purdue.edu</EM>)<BR>
<STRONG>Date: </STRONG>Tue Nov 02 1999 - 07:23:00 PST
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#935">[ date ]</A>
<A HREF="index.html#935">[ thread ]</A>
<A HREF="subject.html#935">[ subject ]</A>
<A HREF="author.html#935">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0936.html">Dan Frasnelli: "Rude code (Re: 2.3.25 does'nt compile on axp.)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0934.html">Eric Jones: "Re: Framebuffers..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0937.html">Christian Iseli: "Re: Serious warnings from RH 6.1 SRPMs on alpha"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
There was some discussion on this list about the RH 6.1 SRPMs building
<BR>
just fine on alpha, so I downloaded the ones I found at a local RH mirror
<BR>
and ran an rpm --rebuild on all of them using gcc-2.95.1 and binutils
<BR>
2.9.5.0.16+some 64bit patches.
<BR>
<P>The results were not encouraging.  There were many, many warnings of the
<BR>
following type in many rpm builds:
<BR>
<P>Installing diffutils-2.7-16.src.rpm
<BR>
regex.c:3997: warning: cast from pointer to integer of different size
<BR>
regex.c:3997: warning: cast from pointer to integer of different size
<BR>
regex.c:4003: warning: cast to pointer from integer of different size
<BR>
regex.c:4003: warning: cast to pointer from integer of different size
<BR>
etc.
<BR>
<P>In my (limited) experience, this type of warning almost always indicates
<BR>
that someone is (a) trying to store a pointer in an int variable without
<BR>
(b) knowing that an int is 32 bits and a pointer is 64 bits on alpha
<BR>
linux.
<BR>
<P>Other possibly serious errors include ones of the type
<BR>
<P>Installing clock-1.1-6.src.rpm
<BR>
clock-alpha.c:498: warning: int format, different type arg (arg 4)
<BR>
clock-alpha.c:505: warning: int format, different type arg (arg 2)
<BR>
clock-alpha.c:609: warning: int format, different type arg (arg 2)
<BR>
clock-alpha.c:700: warning: int format, different type arg (arg 4)
<BR>
<P>since this mucks up the argument stack frame in varargs.
<BR>
<P>Other things that are not so serious, but which may hide other problems are
<BR>
<P>Installing compat-binutils-5.2-2.9.1.0.23.1.src.rpm
<BR>
argv.c:122: warning: type mismatch in implicit declaration for built-in function `strcpy'
<BR>
<P>(strcpy, strlen, and friends return a long on the alpha.)
<BR>
<P>Another warning I don't like is:
<BR>
<P>Installing XFree86-3.3.5-3.src.rpm
<BR>
mpctoi.c:608: warning: comparison is always true due to limited range of data ty
<BR>
pe
<BR>
mpctoi.c:927: warning: comparison is always false due to limited range of data t
<BR>
ype
<BR>
<P>So I'm not really optimistic about 6.1 if RedHat just compiles and ships
<BR>
the current sources out the door.
<BR>
<P>It would be a large effort to correct all these warnings, many of which are
<BR>
almost certainly errors.  But the source is with us.
<BR>
<P>The file containing the warnings and list of rpms is at
<BR>
<P><A HREF="http://www.math.purdue.edu/~lucier/RH-6.1-warnings.gz">http://www.math.purdue.edu/~lucier/RH-6.1-warnings.gz</A>
<BR>
<P>Unfortunately, the build of glibc-2.1.2 got hosed because of clock
<BR>
skew (of about 20 years, I believe ;-), and another rpm didn't build
<BR>
to completion.
<BR>
<P>Brad Lucier
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0936.html">Dan Frasnelli: "Rude code (Re: 2.3.25 does'nt compile on axp.)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0934.html">Eric Jones: "Re: Framebuffers..."</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0937.html">Christian Iseli: "Re: Serious warnings from RH 6.1 SRPMs on alpha"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Thu Nov 04 1999 - 16:56:55 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
