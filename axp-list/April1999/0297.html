<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Samba compiltion fails</TITLE>
<META NAME="Author" CONTENT="Arkadiy Chapkis - Arc (achapkis@mail.dls.net)">
<META NAME="Subject" CONTENT="Samba compiltion fails">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Samba compiltion fails</H1>
<HR>
<P>
<!-- received="Mon Apr 12 05:24:06 1999 PDT" -->
<!-- sent="Mon, 12 Apr 1999 00:24:20 -0500" -->
<!-- name="Arkadiy Chapkis - Arc" -->
<!-- email="achapkis@mail.dls.net" -->
<!-- subject="Samba compiltion fails" -->
<!-- id="009D6803.45DD0EBD.1@mail.dls.net" -->
<!-- inreplyto="" -->
<STRONG>Arkadiy Chapkis - Arc</STRONG> (<A HREF="mailto:achapkis@mail.dls.net?subject=Re:%20Samba%20compiltion%20fails"><EM>achapkis@mail.dls.net</EM></A>)<BR>
<EM>Mon, 12 Apr 1999 00:24:20 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#297">[ date ]</A>
<A HREF="index.html#297">[ thread ]</A>
<A HREF="subject.html#297">[ subject ]</A>
<A HREF="author.html#297">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0298.html">Brett Dikeman: "Crashing hard on mkfs"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0296.html">Mikolaj J. Habryn: "Re: gdb and core files revisited"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
&nbsp;&nbsp;&nbsp;Hello everyone!
<BR>
<P>&nbsp;&nbsp;I am trying to compile Samba-2.0.3 with disk-quotas enabled and by some
<BR>
strange reason it gives me an error
<BR>
<P>Using FLAGS32 =  -O -Iinclude -I./include -I./ubiqx -I./smbwrapper 
<BR>
-DSMBLOGFILE
<BR>
=&quot;/var/log/log.smb&quot; -DNMBLOGFILE=&quot;/var/log/log.nmb&quot;
<BR>
-DCONFIGFILE=&quot;/etc/smb.conf&quot;
<BR>
&nbsp;-DLMHOSTSFILE=&quot;/etc/lmhosts&quot;   -DSWATDIR=&quot;/usr/local/samba/swat&quot;
<BR>
-DSBINDIR=&quot;/us
<BR>
r/local/sbin&quot; -DLOCKDIR=&quot;/var/locks&quot; -DSMBRUN=&quot;/usr/local/bin/smbrun&quot;
<BR>
-DCODEPAGE
<BR>
DIR=&quot;/usr/local/lib/codepages&quot; -DDRIVERFILE=&quot;/etc/printers.def&quot;
<BR>
-DBINDIR=&quot;/usr/l
<BR>
ocal/bin&quot; -DHAVE_INCLUDES_H -DPASSWD_PROGRAM=&quot;/bin/passwd&quot;
<BR>
-DSMB_PASSWD_FILE=&quot;/u
<BR>
sr/local/samba/private/smbpasswd&quot;
<BR>
Using LIBS = -lreadline -ldl  -lcrypt -lpam
<BR>
Compiling smbd/quotas.c
<BR>
smbd/quotas.c:43: parse error before `quotactl'
<BR>
smbd/quotas.c:43: warning: data definition has no type or storage class
<BR>
make: *** [smbd/quotas.o] Error 1
<BR>
<P>&nbsp;&nbsp;It didn't work for me on previous versions also. I am not a programmer, so I
<BR>
can't tell what is wrong. Can someone help me out with this, please?
<BR>
<P>&nbsp;&nbsp;I was able to successfully compile it without disk-quotas support on Alpha
<BR>
and I was also able to compile it with disk-quota support on Intel. However it
<BR>
chokes on my AS200 4/233 with RH5.2 with disk-quotas. Here's some info:
<BR>
<P>yakov:~$ rpm -qli quota
<BR>
Name        : quota                       Distribution: Manhattan
<BR>
Version     : 1.55                              Vendor: Red Hat Software
<BR>
Release     : 9                             Build Date: Thu Sep 10 10:19:20
<BR>
1998
<BR>
Install date: Fri Jan 25 14:42:26 2019      Build Host: spacely.redhat.com
<BR>
Group       : Utilities/System              Source RPM: quota-1.55-9.src.rpm
<BR>
Size        : 121368                           License: BSD
<BR>
Packager    : Red Hat Software &lt;<A HREF="mailto:bugs@redhat.com?subject=Re:%20Samba%20compiltion%20fails">bugs@redhat.com</A>&gt;
<BR>
Summary     : Quota administration package
<BR>
Description :
<BR>
Quotas allow the system administrator to limit disk usage by a user and/or
<BR>
group per filesystem. This package contains the tools which are needed to
<BR>
enable, modify, and update quotas.
<BR>
/sbin/quotacheck
<BR>
/sbin/quotaoff
<BR>
/sbin/quotaon
<BR>
/usr/bin/quota
<BR>
/usr/man/man1/quota.1
<BR>
/usr/man/man2/quotactl.2
<BR>
/usr/man/man3/rquota.3
<BR>
/usr/man/man8/edquota.8
<BR>
/usr/man/man8/quotacheck.8
<BR>
/usr/man/man8/quotaon.8
<BR>
/usr/man/man8/repquota.8
<BR>
/usr/man/man8/rpc.rquotad.8
<BR>
/usr/man/man8/rquotad.8
<BR>
/usr/sbin/edquota
<BR>
/usr/sbin/quotastats
<BR>
/usr/sbin/repquota
<BR>
/usr/sbin/rpc.rquotad
<BR>
/usr/sbin/warnquota
<BR>
<P>yakov:~$ grep quota /usr/include/asm/*.h
<BR>
/usr/include/asm/unistd.h:#define __NR_quotactl         148
<BR>
/usr/include/asm/unistd.h:#define __NR_osf_oldquota     149     /* not
<BR>
implement
<BR>
ed */
<BR>
<P>yakov:~$ grep quotactl /usr/include/linux/*.h
<BR>
/usr/include/linux/quota.h: * Command definitions for the 'quotactl' system
<BR>
call
<BR>
.
<BR>
/usr/include/linux/quota.h:int quotactl __P ((int, const char *, int,
<BR>
caddr_t));
<BR>
<P>&nbsp;&nbsp;Any help will be apreciated. Thank you in advance.
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Arc C.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="mailto:achapkis@dls.net?subject=Re:%20Samba%20compiltion%20fails">achapkis@dls.net</A>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="mailto:achapkis@shark.dls.net?subject=Re:%20Samba%20compiltion%20fails">achapkis@shark.dls.net</A>
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Samba%20compiltion%20fails">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Samba%20compiltion%20fails">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0298.html">Brett Dikeman: "Crashing hard on mkfs"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0296.html">Mikolaj J. Habryn: "Re: gdb and core files revisited"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Apr 11 1999 - 23:00:12 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
