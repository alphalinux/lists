<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: vremap and memcpy_to_fs in 2.2.x?</TITLE>
<META NAME="Author" CONTENT="Richard Henderson (rth@twiddle.net)">
<META NAME="Subject" CONTENT="Re: vremap and memcpy_to_fs in 2.2.x?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: vremap and memcpy_to_fs in 2.2.x?</H1>
<HR>
<P>
<!-- received="Wed Apr 07 20:09:30 1999 PDT" -->
<!-- sent="Wed, 7 Apr 1999 13:07:46 -0700" -->
<!-- name="Richard Henderson" -->
<!-- email="rth@twiddle.net" -->
<!-- subject="Re: vremap and memcpy_to_fs in 2.2.x?" -->
<!-- id="19990407130746.A25805@twiddle.net" -->
<!-- inreplyto="370BA0B7.737F62EE@sarnoff.com" -->
<STRONG>Richard Henderson</STRONG> (<A HREF="mailto:rth@twiddle.net?subject=Re:%20vremap%20and%20memcpy_to_fs%20in%202.2.x?"><EM>rth@twiddle.net</EM></A>)<BR>
<EM>Wed, 7 Apr 1999 13:07:46 -0700</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#200">[ date ]</A>
<A HREF="index.html#200">[ thread ]</A>
<A HREF="subject.html#200">[ subject ]</A>
<A HREF="author.html#200">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0199.html">Andy Grundman: "Help! Installing RH5.2 on SX164 - &quot;Unable to open an initial console.&quot;"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Wed, Apr 07, 1999 at 02:15:19PM -0400, AARON MARKS wrote:
<BR>
<EM>&gt; &gt; &gt; vremap() -&gt; ioremap()
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; This is correct.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I ended up using phys_to_virt() instead.
</EM><BR>
<P>These are very different things, and are not interchangeable.
<BR>
What do you think you are doing?
<BR>
<P><EM>&gt; And for this, I just did a straight assignment:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; This:
</EM><BR>
<EM>&gt; memcpy_tofs(out, &amp;si, sizeof(si));
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Became this:
</EM><BR>
<EM>&gt; *out = si;
</EM><BR>
<P>Wrong wrong wrong wrong wrong!
<BR>
<P>DO USE copy_to_user or put_user.  First, it plugs big oops leaks.
<BR>
Second, nice systems like m68k or Sparc64 put userland in a 
<BR>
completely different address space, so assignment won't even
<BR>
pretend to begin to work.
<BR>
<P><P><P>r~
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20vremap%20and%20memcpy_to_fs%20in%202.2.x?">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20vremap%20and%20memcpy_to_fs%20in%202.2.x?">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0199.html">Andy Grundman: "Help! Installing RH5.2 on SX164 - &quot;Unable to open an initial console.&quot;"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Apr 07 1999 - 14:00:11 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
