<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Installing</TITLE>
<META NAME="Author" CONTENT="Paul B. Brown (pbrown@btechnet.com)">
<META NAME="Subject" CONTENT="Re: Installing">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Installing</H1>
<HR>
<P>
<!-- received="Sat Apr 03 00:46:22 1999 PST" -->
<!-- sent="Fri, 2 Apr 1999 19:45:11 -0500 (EST)" -->
<!-- name="Paul B. Brown" -->
<!-- email="pbrown@btechnet.com" -->
<!-- subject="Re: Installing" -->
<!-- id="Pine.LNX.3.95.990402194442.10512A-100000@mail.btechnet.com" -->
<!-- inreplyto="Pine.LNX.4.04.9904021933530.16694-100000@talisman.mv.com" -->
<STRONG>Paul B. Brown</STRONG> (<A HREF="mailto:pbrown@btechnet.com?subject=Re:%20Installing"><EM>pbrown@btechnet.com</EM></A>)<BR>
<EM>Fri, 2 Apr 1999 19:45:11 -0500 (EST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#76">[ date ]</A>
<A HREF="index.html#76">[ thread ]</A>
<A HREF="subject.html#76">[ subject ]</A>
<A HREF="author.html#76">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0075.html">Rich Payne: "Re: Installing"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0074.html">Rusty Lingenfelter: "Installing"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
To Install RedHat Linux 5.2 on a UDB
<BR>
====================================
<BR>
<P>A. PRE-INSTALLATION SETUP
<BR>
&nbsp;&nbsp;&nbsp;----------------------
<BR>
<P>1.  Get 5 MS-DOS formatted 3.5&quot; (1.44MB) diskettes
<BR>
2.  Label diskette #1: UDB/Milo Boot Disk
<BR>
3.  Label diskette #2: UDB/Noname Boot Disk
<BR>
4.  Label diskette #3: UDB/Noname Root Disk
<BR>
5.  Label diskette #4: UDB Firmware Update 4.3.3
<BR>
6.  Label diskette #5: UDB Failsafe Loader
<BR>
7.  Load the RedHat Linux 5.2 CD-ROM into another Linux box that has a CD
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Drive.
<BR>
8.  mount -r -t iso9660 /dev/cdrom /mnt/cdrom
<BR>
9.  Insert diskette #1 into the diskette drive of the other Linux box that
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;the CD is mounted on.
<BR>
10. mount -t msdos /dev/fd0 /mnt/floppy
<BR>
11. cp /mnt/cdrom/milo/arc/linload.exe /mnt/floppy
<BR>
12. cp /mnt/cdrom/milo/noname-udb/milo /mnt/floppy
<BR>
13. umount /mnt/floppy
<BR>
14. Remove diskette #1 from the drive.
<BR>
15. Insert diskette #2 into the same drive.
<BR>
16. cd /mnt/cdrom/images
<BR>
17. dd if=noname.img of=/dev/fd0 bs=1440k
<BR>
18. Remove diskette #2 from the drive.
<BR>
19. Insert diskette #3 into the same drive.
<BR>
20. dd if=ramdisk.img of=/dev/fd0 bs=1440k
<BR>
21. Remove diskette #3 from the drive.
<BR>
22. Insert diskette #4 into the same drive.
<BR>
23. umount /mnt/cdrom
<BR>
24. Remove the RedHat Linux 5.2 CD from the drive.
<BR>
25. cd /tmp
<BR>
26. mkdir udb
<BR>
27. cd udb
<BR>
28. Dial into your ISP
<BR>
29. ftp ftp.digital.com
<BR>
30.     ftp&gt; cd /pub/Digital/Alpha/firmware/interim/multia
<BR>
31.     ftp&gt; get readme.txt
<BR>
32.     ftp&gt; get udbfs138.img
<BR>
33.     ftp&gt; get udbupd38.img
<BR>
34.     ftp&gt; quit
<BR>
35. Disconnect from the Internet
<BR>
36. dd if=udbupd38.img of=/dev/fd0h1440 bs=10240
<BR>
37. Remove diskette #4 from the drive.
<BR>
38. Insert diskette #5 into the same drive.
<BR>
39. dd if=udbfsl38.img of=/dev/fd0h1440 bs=10240
<BR>
40. Remove diskette #5 from the drive.
<BR>
41. Now read the readme.txt file you just downloaded and skip to section:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Firmware Install/Update
<BR>
42. Bring up your UDB for the first time and follow the directions in the
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;readme.txt file.
<BR>
43. Make sure you are now running version 4.3.3 of the firmware.  That is
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;the latest and greatest.
<BR>
44. Turn off your UDB.
<BR>
45. Make sure a CD-ROM drive is attached to your UDB
<BR>
46. Insert the RedHat Linux 5.2 CD into the CD-ROM drive.
<BR>
47. Turn on your UDB and the CD-ROM drive.
<BR>
48. You will come to a &quot;Boot Menu&quot;
<BR>
49. Select &quot;Supplementary Menu...&quot;
<BR>
50. Select &quot;Setup the System...&quot;
<BR>
51. Select &quot;Manage Boot Selection Menu...&quot;
<BR>
52. Select &quot;Add a Boot Selection...&quot;
<BR>
53. Select &quot;Floppy Disk 0&quot; if that option is there.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;If not there then,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;53.1. Select &quot;New System Partition&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;53.2. Select &quot;Floppy Disk&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;53.3. The drive number to select is: 0
<BR>
54. At the prompt: &quot;Enter the OS loader directory and name:&quot;, type:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;\linload.exe
<BR>
55. Respond &quot;yes&quot; to the OS being on the same partition as the OS loader.
<BR>
56. Enter &quot;\&quot; as the OS root directory.
<BR>
57. Enter &quot;Linux&quot; as the name for the boot partition.
<BR>
58. Select &quot;No&quot; when  asked if we want the debugger initialized at boot
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;time.
<BR>
59. We should now be back to the &quot;Boot Selection menu&quot;
<BR>
60. Select &quot;Change a Boot Selection&quot;
<BR>
61. Select &quot;Linux&quot; 
<BR>
62. Using the up and down arrow keys to move, RETURN to select, and ESC to
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;leave, make the setting look like:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;LOADIDENTIFIER=Linux
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;SYSTEMPARTITION=multi(0)disk(0)fdisk(0)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADER=multi(0)disk(0)fdisk(0)\linload.exe
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADPARTITION=multi(0)disk(0)fdisk(0)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADFILENAME=\milo
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADOPTIONS=
<BR>
<P>63. When finished, press ESC to back out to the &quot;Supplementary Menu&quot;
<BR>
64. Save the changes.
<BR>
63. Press ESC to back out to the &quot;Boot Menu&quot;
<BR>
64. Insert diskette #1 into the UDB's diskette drive.
<BR>
65. Select &quot;Boot Linux&quot;
<BR>
66. The MILO&gt; prompt will eventually appear.
<BR>
67. Remove diskette #1 from the drive.
<BR>
68. Insert diskette #2 into the UDB's diskette drive.
<BR>
69. At the MILO&gt; prompt, type:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;boot fd0:vmlinux.gz root=/dev/fd0 load_ramdisk=1 prompt_ramdisk=1
<BR>
<P>70. Press RETURN and the system will begin the boot process.
<BR>
71. After a short while, the system will prompt for diskette #3.
<BR>
72. Remove diskette #2 from the drive.
<BR>
73. Insert diskette #3 into the UDB's diskette drive and press RETURN.
<BR>
74. In about a minute you should come up to:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&quot;Welcome to RedHat&quot;
<BR>
<P>B. INSTALLATION SETUP:
<BR>
&nbsp;&nbsp;&nbsp;------------------
<BR>
<P>75. Pull out the RedHat Alpha/Linux 5.2 Users Manual and use it to help
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;you load the system.  The sore spot here is partitioning the drive.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;If you don't know the number of heads, cylinders, and sectors for your
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;SCSI drive, you will need to figure them out or you will get nowhere.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;At the end of this document there is a small C program that needs only
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;the number of bytes of the formatted SCSI disk and it will give the
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;user the head/cylinder/sector counts needed.  Once you are past the
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;disk partitioning stage, the rest of the installation is magically
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;simple.  Bear in mind what your intended use is for the machine or,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;like me, you will load a lot of superfluous rubbish you will never use.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;I do suggest a disk partitioning of at least the following:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;Partition   Device    Size in MBs      Filesystem Type       Mount
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;---------  ---------  -----------  -----------------------  -------
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1      /dev/sda1  2 MB         DOS 16-bit &lt;32M (id=4)    /dosc
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2      /dev/sda2  Same as RAM  Linux Swap      (id=82)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3      /dev/sda3  &gt; 50 MB      Linux native    (id=83)   /
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4      /dev/sda4  Remainder    Linux native    (id=83)   /usr
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;The reason for the first partition is to have linload.exe and milo on
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;it's own partition.  I do this in leau of putting linload.exe and milo
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;into flashROM.  You mess up flashROM, you will have a nice UDB paper
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;weight.
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;NOTE: Do NOT set any partition as bootable.  This is not needed due to
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the way ARC works with linload.exe and milo.
<BR>
<P>76. When the loading is complete and you can login to your new UDB as root.
<BR>
77. Insert diskette #1 into the UDB's diskette drive.
<BR>
78. dd if=/dev/fd0 of=/dev/sda1 bs=1440k
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;- This copies linload.exe and milo to your 2 MB DOS partition.  It will
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also format 1,440k worth of the space for you, killing two bird with 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one stone.
<BR>
79. Remove diskette #1 from the drive.
<BR>
80. Store all 5 diskettes in a safe place.
<BR>
81. Edit /etc/fstab and insert the following lines at the end of the file:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;/dev/sda1  /dos         msdos    defaults  1  2
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;/dev/fd0   /mnt/floppy  msdos    noauto    1  2
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;/dev/scd0  /mnt/cdrom   iso9660  noauto    1  2
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;The file should already contain some if not all of the following:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;/dev/sda2  swap         swap     defaults  0  0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;/dev/sda3  /            ext2     defaults  1  1
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;/dev/sda4  /usr         ext2     defaults  1  2
<BR>
<P>82. Save and exit the file, /etc/fstab.
<BR>
83. Shutdown the UDB: shutdown -h now
<BR>
<P>C. POST-INSTALLATION SETUP:
<BR>
&nbsp;&nbsp;&nbsp;-----------------------
<BR>
<P>84. Start the UDB.
<BR>
85. You will come to a &quot;Boot Menu&quot;
<BR>
86. Select &quot;Supplementary Menu...&quot;
<BR>
87. Select &quot;Edit Environment Variables...&quot;
<BR>
88. Using the up and down arrow keys to move, RETURN to select, and ESC to
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;leave, make the setting look like:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;CONSOLEIN=multi()key()keyboard()console()
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;CONSOLEOUT=multi()video()monitor()console()
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;FWSEARCHPATH=scsi(0)disk(0)rdisk(0)paritition(1)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;TIMEZONE=EST5EDT
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;A:=multi(0)disk(0)fdisk(0)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;FLOPPY=1
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;FLOPPY2=N
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;KEYBOARDTYPE=0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;AUTOLOAD=YES
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;COUNTDOWN=15
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;LANG_ID=1
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ENABLEPCIPARITYCHECKING=FALSE
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;LASTFIRMWAREREVISION=4.33
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;DISABLEPCIPARITYCHECKING=FALSE
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADFILENAMENONAME.IMG=noname.img
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;Some of these setting will vary depending on your setup.  TIMEZONE will
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;change for obvious reasons.  You may have a second floppy drive so
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;FLOPPY2 may be set to Y.  I like my COUNTDOWN to AUTOLOAD to be 15
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;seconds.  You may want it set to some other delay or you may just turn
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;AUTOLOAD to NO.  LANG_ID=1 means English.  This may not be good for you
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;so . . . change it.  The last 2 entries, DISABLEPCIPARITYCHECKING and
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADFILENAMENONAME.IMG, may not even show up on your list.  If then
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;don't, then don't mess with them.
<BR>
<P>89.. When finished, press ESC to back out to the &quot;Supplementary Menu&quot;
<BR>
90. Select &quot;Manage Boot Selection menu...&quot;
<BR>
91. Select &quot;Change A Boot Selection...&quot;
<BR>
92. Select &quot;Linux&quot;
<BR>
93. Using the up and down arrow keys to move, RETURN to select, and ESC to
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;leave, make the setting look like:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;LOADIDENTIFIER=Linux
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;SYSTEMPARTITION=scsi(0)disk(0)rdisk(0)partition(1)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADER=scsi(0)disk(0)rdisk(0)partition(1)\linload.exe
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADPARTITION=scsi(0)disk(0)rdisk(0)partition(1)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADFILENAME=\milo
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;OSLOADOPTIONS= boot sda3:vmlinux.gz root /dev/sda3
<BR>
<P>94. When finished, press ESC to back out to the &quot;Boot Selections Menu...&quot;
<BR>
95. Select &quot;Verify Boot Selections&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;- If the screen winks out and back on and does nothing further then
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;your setup has been checked and verified.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;- If there is a report of errors then go back to the two settings areas
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and try again until this option only flashes at you signifying all is
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;well.
<BR>
96. When the boot selection has been verified successfully, press ESC back
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;to the &quot;Setup Menu&quot;
<BR>
97. Select &quot;Supplementary Menu and Save Changes...&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;- Make sure you save changes only when all is well and don't save
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changes if things went haywire!
<BR>
98. At the Supplementary Menu, Select &quot;Boot Menu...&quot;
<BR>
99. If all went well, at the Boot Menu, select &quot;Boot Linux&quot;
<BR>
100. And now the fun begins . . . . :-)
<BR>
<P>-- CUT HERE --
<BR>
<P>&nbsp;#include &lt;stdio.h&gt;
<BR>
<P>/******************************************************************************
<BR>
&nbsp;*
<BR>
&nbsp;* Source Code: calc_hcs.c
<BR>
&nbsp;*
<BR>
&nbsp;* compile/link statement: gcc -o calc_hcs calc_hcs.c
<BR>
&nbsp;*
<BR>
&nbsp;* Description: This program will calculate the heads/cylinders/sectors on
<BR>
&nbsp;*              a Linux SCSI drive.  Simply Change the define statement
<BR>
&nbsp;*              below, DISK_SIZE, specifying the size, in bytes, of the
<BR>
&nbsp;*              formatted SCSI drive, compile it, run it, and your done!
<BR>
&nbsp;*              Future version will need to be updated based on the info
<BR>
&nbsp;*              given in the SCSI HOWTO and the Large Disks mini-HOWTO.
<BR>
&nbsp;*
<BR>
&nbsp;* History:
<BR>
&nbsp;*
<BR>
&nbsp;* Who          Date    Comment
<BR>
&nbsp;* -----------  ------  ---------------------------------------------------
<BR>
&nbsp;* Paul Brown   970511  Initial version 0.1b
<BR>
&nbsp;*
<BR>
&nbsp;******************************************************************************/
<BR>
<P>/*
<BR>
&nbsp;* Change this setting when you wish to calculate a new drive.  It should be
<BR>
&nbsp;* the size of the formatted drive in bytes.
<BR>
&nbsp;*/
<BR>
#define DISK_SIZE (long) 345090000           /* Maxtor 7345S - 342 MB */
<BR>
<P>/*
<BR>
&nbsp;* Standard setting - DO NOT TOUCH
<BR>
&nbsp;*/
<BR>
#define BYTES_PER_SECTOR (long) 512
<BR>
<P>/*
<BR>
&nbsp;* These settings are right out of the SCSI HOWTO.  These are the max settings
<BR>
&nbsp;* Linux will understand for SCSI drives.  With these settings you cannot have
<BR>
&nbsp;* a SCSI drive more than 8 formatted Gigabytes in size.  Bummer!
<BR>
&nbsp;*/
<BR>
#define MAX_HEADS     (long)  256
<BR>
#define MAX_CYLINDERS (long) 1024
<BR>
#define MAX_SECTORS   (long)   63
<BR>
<P>main() {
<BR>
&nbsp;&nbsp;&nbsp;long disk_size;
<BR>
&nbsp;&nbsp;&nbsp;long cur_guess;
<BR>
&nbsp;&nbsp;&nbsp;long heads;
<BR>
&nbsp;&nbsp;&nbsp;long cylinders;
<BR>
&nbsp;&nbsp;&nbsp;long sectors;
<BR>
&nbsp;&nbsp;&nbsp;long best_heads;
<BR>
&nbsp;&nbsp;&nbsp;long best_cylinders = (long) 0;
<BR>
&nbsp;&nbsp;&nbsp;long best_sectors = (long) 0;
<BR>
&nbsp;&nbsp;&nbsp;long best_guess = (long) 0;
<BR>
<P>&nbsp;&nbsp;&nbsp;best_guess = disk_size = DISK_SIZE / BYTES_PER_SECTOR;
<BR>
<P>&nbsp;&nbsp;&nbsp;for (heads = (long) 1; heads &lt;= MAX_HEADS; heads++) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (cylinders = (long) 1; cylinders &lt;= MAX_CYLINDERS; cylinders++) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (sectors = (long) 1; sectors &lt;= MAX_SECTORS; sectors++) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cur_guess = disk_size - (heads * cylinders * sectors);
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (cur_guess &lt; (long) 0) break;
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (cur_guess == (long) 0)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;DIRECT HIT -&gt; %ld/%ld/%ld (heads/cylinders/sectors)\n&quot;,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;heads, cylinders, sectors);
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (cur_guess &lt; best_guess) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_heads     = heads;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_cylinders = cylinders;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_sectors   = sectors;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_guess     = cur_guess;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<BR>
&nbsp;&nbsp;&nbsp;}
<BR>
/*
<BR>
&nbsp;* I pick the first direct hit to be the best guess because I have a preference
<BR>
&nbsp;* for the lowest number of heads.  Just a quirk of mine . . . . ;-&gt;
<BR>
&nbsp;*/
<BR>
&nbsp;&nbsp;&nbsp;printf(&quot;BEST GUESS -&gt; %ld/%ld/%ld (heads/cylinders/sectors)\n&quot;,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_heads, best_cylinders, best_sectors);
<BR>
<P>&nbsp;&nbsp;&nbsp;exit(0);
<BR>
}
<BR>
<P>-- CUT HERE --
<BR>
<P>[Paul B. Brown, Copyright 1999]
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Installing">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Installing">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0075.html">Rich Payne: "Re: Installing"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0074.html">Rusty Lingenfelter: "Installing"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Fri Apr 02 1999 - 17:00:08 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
