<!-- received="Fri Sep 25 14:08:04 1998 " -->
<!-- sent="Fri, 25 Sep 1998 11:29:58 -0500" -->
<!-- name="Barrett G. Lyon" -->
<!-- email="blyon@netpr.com" -->
<!-- subject="Re: syslogd" -->
<!-- id="3.0.5.32.19980925112958.008ec100@mojo.calyx.net" -->
<!-- inreplyto="19980925120320.A27377@xcski.com" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: syslogd</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: syslogd</h2>

<b>Barrett G. Lyon</b> (<a href="mailto:blyon@netpr.com"><i>blyon@netpr.com</i></a>)<br>
<i>Fri, 25 Sep 1998 11:29:58 -0500</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#768">[ date ]</a><a href="index.html#768">[ thread ]</a><a href="subject.html#768">[ subject ]</a><a href="author.html#768">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0769.html">Jochen Kuepper: "Re: Qt-1.40 Segfaults"</a>
<li> <b>Previous message:</b> <a href="0767.html">Bret Orsburn: "Re: Qt-1.40 Segfaults"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0772.html">Paul Tomblin: "Re: syslogd"</a>
<li> <b>Reply:</b> <a href="0772.html">Paul Tomblin: "Re: syslogd"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
I do infact have an inode problem, and a fds problem.  I have kernel panics<br>
where I get messages like 'no free inodes', or the system just seems to<br>
lock up, but its really out of fds, so anything needing disk IO just stops<br>
working.  My best uptime for the box is 9 days, but it has a very serious<br>
load, but the adv. uptime is around 5 days.<br>
<p>
I think I just have a bad motherboard, because anything in the PCI bus<br>
seems to just be fucked up.<br>
<p>
I did fix ftp however, I replaced wu-ftp with proftpd 1.1.6pl2 and that<br>
works awesome. <br>
<p>
Another thing that seems to eat the system alive, is when it starts to<br>
teeter-totter on the edge of running out of FDS, syslog starts to go nuts.<br>
It can't write out to some files, so it starts to loop messages at 1000nds<br>
per minute.  I don't even feel like looking up the exact message, but I<br>
have seen lots of people post pastes of the same thing I got.<br>
<p>
The only soution I have/had (and its a very very poor one at that) is to up<br>
file-max and inode-max to a huge ungodly number.  <br>
<p>
I am thinking about trying a dev kernel 2.1.122 maybe that will fix some of<br>
my problems.  Ohh, that reminds me, what kernel do you run?<br>
<p>
-Barrett<br>
<p>
<i>&gt;Quoting Barrett G. Lyon (<a href="mailto:blyon@netpr.com">blyon@netpr.com</a>):</i><br>
<i>&gt;&gt; Nobody knows what eats up FDS and inodes, but it happens to me also.  I</i><br>
<i>&gt;</i><br>
<i>&gt;Nothing eats up file descriptors.  file-nr is always around 470-500, even</i><br>
when<br>
<i>&gt;syslogd is spewing.</i><br>
<i>&gt;</i><br>
<i>&gt;&gt; also noticed huge problems with wu-ftpd.  I think there are problems in the</i><br>
<i>&gt;</i><br>
<i>&gt;I'm no longer doing any ftping on that system - I moved the ftp setup over to</i><br>
<i>&gt;the Intel Linux box which attaches to my cable modem instead of the alpha</i><br>
<i>&gt;which attaches to the regular phone modem.  (Gee, I wonder why?)</i><br>
<i>&gt;</i><br>
<i>&gt;&gt; Linux kernel for the 21164sx support PCI maybe?  Maybe there is some</i><br>
<i>&gt;&gt; relation to the odd clock problems that were 'fixed' with milo.  I wonder</i><br>
<i>&gt;&gt; if people that have the clock that runs 2X faster than normal, and have the</i><br>
<i>&gt;&gt; milo fix are the same ones that have the inode/fds/pci problems.</i><br>
<i>&gt;</i><br>
<i>&gt;I have no problems with my clock.  I set it every day against my provider's</i><br>
<i>&gt;time server (which in turn is set to the NIST clock), and it varys by less</i><br>
<i>&gt;than a second each time.  I do have the latest milo, however.</i><br>
<i>&gt;</i><br>
<i>&gt;One thing which I doubt is significant but I thought I'd mention is that this</i><br>
<i>&gt;time when I booted, I booted originally into single user mode because I</i><br>
had to<br>
<i>&gt;fix something in the news setup before the news server started.  I had</i><br>
<i>&gt;forgotten about that, but I noticed it when I rebooted to fix the syslogd</i><br>
<i>&gt;problem.  I guess shutdown -r causes milo to boot with whatever kernel</i><br>
<i>&gt;arguments it had been booted with last, and this time it went into single</i><br>
user<br>
<i>&gt;again.</i><br>
<i>&gt;</i><br>
<i>&gt;Previous to this 11 day uptime, I had a 39+ day uptime with no syslogd</i><br>
<i>&gt;problems (that one was rebooted due to the power fluctuating during an</i><br>
<i>&gt;electrical storm).</i><br>
<i>&gt;</i><br>
<p>
<pre>
--
Barrett G. Lyon                               PGP Key: <a href="http://www.doxx.net/pgp">http://www.doxx.net/pgp</a>
Data &amp; Network Security Consultant                Fax: 310-737-0196
Network Presence, LLC                           Email: <a href="mailto:blyon@netpr.com">blyon@netpr.com</a>
<pre>
--
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0769.html">Jochen Kuepper: "Re: Qt-1.40 Segfaults"</a>
<li> <b>Previous message:</b> <a href="0767.html">Bret Orsburn: "Re: Qt-1.40 Segfaults"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0772.html">Paul Tomblin: "Re: syslogd"</a>
<li> <b>Reply:</b> <a href="0772.html">Paul Tomblin: "Re: syslogd"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
