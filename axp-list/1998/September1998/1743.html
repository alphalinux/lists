<!-- received="Fri Oct 16 16:57:09 1998 " -->
<!-- sent="Fri, 16 Oct 1998 15:51:11 -0400 (EDT)" -->
<!-- name="Jason Ferrara" -->
<!-- email="jason@moberg.com" -->
<!-- subject="Weird DNS problem" -->
<!-- id="199810161937.NAA11747@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="ео	@ео	@request@redh" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Weird DNS problem</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Weird DNS problem</h2>

<b>Jason Ferrara</b> (<a href="mailto:jason@moberg.com"><i>jason@moberg.com</i></a>)<br>
<i>Fri, 16 Oct 1998 15:51:11 -0400 (EDT)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#1743">[ date ]</a><a href="index.html#1743">[ thread ]</a><a href="subject.html#1743">[ subject ]</a><a href="author.html#1743">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="1744.html">Christopher Curtis: "Re: ISA interrupts on Alpha (PAS16)"</a>
<li> <b>Previous message:</b> <a href="1742.html">The M@Dd0k: "Ipfwadm prob"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="1757.html">Jason Ferrara: "Re: Weird DNS problem"</a>
<li> <b>Maybe reply:</b> <a href="1757.html">Jason Ferrara: "Re: Weird DNS problem"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
I'm not sure if this is really an alpha linux specific problem, but I<br>
don't see it on a similarly configured Intel machine, so here it goes...<br>
<p>
I have dedicated dialup ppp access and use a UDB running Redhat 5.1 for<br>
my router (between my local ethernet and the rest of the internet) and<br>
the name server for my domain. I'm having a strange DNS problem where <br>
lookups for hosts in my domain, even when sent directly to my name server,<br>
work from some machines but not others.<br>
<p>
The IP address for the ethernet interface on the UDB is 207.8.224.10.<br>
This is the IP address that the UDB's hostname maps to, and also the<br>
address that the internic has for the name server for my domain. The<br>
address of the ppp interface on the UDB is 207.8.224.9.<br>
<p>
Looking at a tcp dump as a dns request comes in....<br>
<p>
14:04:11.904822 207.8.186.5.4585 &gt; 207.8.224.10.53: 60032+ (49)<br>
14:04:12.113806 207.8.224.9.53 &gt; 207.8.186.5.4585: 60032 NXDomain* 0/1/0<br>
(106)<br>
14:04:12.319861 207.8.186.5 &gt; 207.8.224.9: icmp: 207.8.186.5 udp port 4585<br>
unreachable<br>
<p>
The request comes in to addres 207.8.224.10, but when the reply is sent,<br>
the source address for the reply is 207.8.224.9. Some hosts, like the one<br>
above, reject this packet. Others accept it and everything works fine.<br>
<p>
This behavior also seems to break reverse IP mapping.<br>
<p>
So, basically, I'm confused. It is 'legal' to send out the reply with the<br>
source address different from the one the request was sent to? Who is<br>
responsible for setting the source address in the reply? Bind, or the <br>
IP stack?<br>
<p>
On a similarly configured intel machine, with the difference that the<br>
ethernet address is x.x.x.1 and the ppp address is x.x.x.10, I <br>
don't see this problem.<br>
<p>
Any help would be greatly appreciated. Its really frustrating not being<br>
able to get email from everywhere.<br>
<p>
Thanks<br>
<p>
- J<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="1744.html">Christopher Curtis: "Re: ISA interrupts on Alpha (PAS16)"</a>
<li> <b>Previous message:</b> <a href="1742.html">The M@Dd0k: "Ipfwadm prob"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="1757.html">Jason Ferrara: "Re: Weird DNS problem"</a>
<li> <b>Maybe reply:</b> <a href="1757.html">Jason Ferrara: "Re: Weird DNS problem"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
