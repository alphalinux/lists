<!-- received="Fri May 29 11:33:25 1998 " -->
<!-- sent="Fri, 29 May 1998 15:05:18 +0200 (CEST)" -->
<!-- name="Kristoffer.Rose@ens-lyon.fr" -->
<!-- email="Kristoffer.Rose@ens-lyon.fr" -->
<!-- subject="MIATA hardware variation breaks Linux ethernet driver: survey!" -->
<!-- id="9889.199805290952@zeno.maths.exeter.ac.uk" -->
<!-- inreplyto="ML-3.3.896159191.8565.mark@complex.psych.adelaide.edu.au" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>MIATA hardware variation breaks Linux ethernet driver: survey!</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>MIATA hardware variation breaks Linux ethernet driver: survey!</h2>

<a href="mailto:Kristoffer.Rose@ens-lyon.fr"><i>Kristoffer.Rose@ens-lyon.fr</i></a><br>
<i>Fri, 29 May 1998 15:05:18 +0200 (CEST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#185">[ date ]</a><a href="index.html#185">[ thread ]</a><a href="subject.html#185">[ subject ]</a><a href="author.html#185">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0186.html">Loic Prylli: "MIATA hardware variation breaks Linux ethernet driver: survey!"</a>
<li> <b>Previous message:</b> <a href="0184.html">dragisha@frodo.ho.com: "glibc1.99 -&gt; glibc2"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Dear all,<br>
<p>
  Abstract: I propose a survey to pinpoint exactly what hardware change in<br>
  newer digital MIATAs (PWS 433/500 a/au) it is that breaks the linux<br>
  ethernet drivers (tulip and de4x5).<br>
<p>
As you have seen from my several recent messages there seems to be a change<br>
in the integrated ethernet hardware in newer MIATAs (aka PWS 433a, 433au,<br>
500a, 500au, ...).  In my case this means that the PWS500a that was sold to<br>
me by a digital dealer with redhat 5 cannot run this system without them<br>
lending me another ethernet card...<br>
<p>
First, thanks for all the suggestions for how to fix it: I tried them all,<br>
and I have spent more than 30 hours compiling kernels (2.0.30/32/33,<br>
2.1.92/102/103) and drivers (tulip 0.83/87/88/89D/89H and de4x5),<br>
downloading different MILO versions, cold booting, passing options to the<br>
tulip driver, etc., reinstalling from scratch (as you kindly proposed :).<br>
Maybe I have faulty hardware -- but today Harold Lind reported a similar<br>
problem on another new MIATA (a 500au), and we just might be looking at an<br>
avalanche here.  This is really a shame since I feel we should support that<br>
digital (France, at least) actually delivers PWS500as *with* redhat.<br>
<p>
In short, I think this has reached a state where it is pointless to propose<br>
more experiements.  Instead I propose that we help digital pinpoint<br>
*exactly* what change in newer MIATAs cause this trouble.  Therefore I'd<br>
like to SURVEY which variants work and which don't, and get the serial<br>
numbers of the machines so digital can track down the difference to a<br>
particular change (or production site or whatever).<br>
<p>
So please fill out the following QUESTIONNAIRE if you have a MIATA.<br>
Please: It is equally important to get replies from machines that work and<br>
those that do not.  Then we can probably get an exact reply from digital<br>
without it costing them too much effort, and hopefully provide the<br>
tulip/de4x5 authors with precise data for fixing it.<br>
<p>
==8&lt;======================================================================<br>
		       MIATA ETHERNET QUESTIONNAIRE<br>
<p>
Please replace the _s below with information about your MIATA system and<br>
send the result to <a href="mailto:Kristoffer.Rose@ENS">Kristoffer.Rose@ENS</a>=Lyon.FR.<br>
<p>
* Generic information (from the box).<br>
<p>
  MIATA model (as written on the box):		_<br>
  Serial number:				_<br>
<p>
* Hardware information (from /proc/pci).<br>
<p>
  Ethernet controller:				_<br>
  Ethernet controller PCI location:		_<br>
  PCI bridge (from /proc/pci):			_<br>
  Do you have a second ethernet card?		_<br>
<p>
* Kernel information (from the boot message; repeat if several).<br>
<p>
  Linux kernel version:				_<br>
  Primary ethernet driver:			_<br>
  Is the ethernet driver a module?		_<br>
  Driver startup parameters:			_<br>
  Does it work?					_<br>
  (If yes and you did something special then please explain below.)<br>
<p>
Thank you.<br>
==8&lt;======================================================================<br>
<p>
For information, here is mine:<br>
<p>
==8&lt;======================================================================<br>
		       MIATA ETHERNET QUESTIONNAIRE<br>
<p>
* Generic information (from the box).<br>
<p>
  MIATA model (as written on the box):		PWS500a	<br>
  Serial number (of "MIATA kernel assembly"):	AY80405516<br>
<p>
* Hardware information (from /proc/pci).<br>
<p>
  Ethernet controller:				dec dc21142 (rev 48)<br>
  Ethernet controller PCI location:		bus 0 device 3<br>
  PCI bridge (from /proc/pci):			dec dc21152 (rev 2)<br>
  Do you have a second ethernet card?		yes<br>
<p>
* Kernel information (from the boot message; repeat if several).<br>
<p>
  Linux kernel version:				2.0.30<br>
  Primary ethernet drivers:			tulip 0.83<br>
  Is the ethernet driver a module?		no<br>
  Driver startup parameters:			<br>
  Does it work?					no<br>
<p>
  Linux kernel version:				2.0.33<br>
  Primary ethernet drivers:			tulip 0.88<br>
  Is the ethernet driver a module?		yes<br>
  Driver startup parameters:			options=12<br>
  Does it work?					no<br>
<p>
  Linux kernel version:				2.1.103<br>
  Primary ethernet drivers:			tulip 0.89H<br>
  Is the ethernet driver a module?		yes<br>
  Driver startup parameters:			options=12<br>
  Does it work?					no<br>
<p>
  Linux kernel version:				2.1.103<br>
  Primary ethernet drivers:			de4x5 0.536<br>
  Is the ethernet driver a module?		yes<br>
  Driver startup parameters:			<br>
  Does it work?					no<br>
==8&lt;======================================================================<br>
<p>
Thank you.<br>
<p>
<pre>
-- 
Kristoffer Høgsbro Rose, Ph.D., prof.associé  &lt;<a href="mailto:Kristoffer.Rose@ENS-Lyon.FR">Kristoffer.Rose@ENS-Lyon.FR</a>&gt;
Laboratoire de l'Informatique du Parallélisme  équipe PLUME, bureau LR5-026
Ecole Normale Supérieure de Lyon; 46, Allée d'Italie; F-69364 Lyon 07 cedex
phone: +33(0)4 7272 8642; fax:...8080    &lt;<a href="http://www.ens-lyon.fr/~krisrose">http://www.ens-lyon.fr/~krisrose</a>&gt;
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0186.html">Loic Prylli: "MIATA hardware variation breaks Linux ethernet driver: survey!"</a>
<li> <b>Previous message:</b> <a href="0184.html">dragisha@frodo.ho.com: "glibc1.99 -&gt; glibc2"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
