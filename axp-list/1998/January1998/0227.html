<!-- received="Sat Jan 10 15:04:17 1998 " -->
<!-- sent="Sat, 10 Jan 1998 15:09:29 -0500" -->
<!-- name="Dan Weeks" -->
<!-- email="danimal@blueskystudios.com" -->
<!-- subject="Unidentified subject!" -->
<!-- id="199801102009.PAA25581@harrison.blueskyprod.com" -->
<!-- inreplyto="ео	@ео	@ail to axp-list-requ" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Unidentified subject!</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Unidentified subject!</h2>

<b>Dan Weeks</b> (<a href="mailto:danimal@blueskystudios.com"><i>danimal@blueskystudios.com</i></a>)<br>
<i>Sat, 10 Jan 1998 15:09:29 -0500</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#227">[ date ]</a><a href="index.html#227">[ thread ]</a><a href="subject.html#227">[ subject ]</a><a href="author.html#227">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0228.html">Jeff Nguyen: "Re: g77 (again)"</a>
<li> <b>Previous message:</b> <a href="0226.html">Jurriaan Saathof: "Netscape communicator 4 OSF/1"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
<a href="mailto:bug-glibc@prep.ai.mit.edu">bug-glibc@prep.ai.mit.edu</a><br>
Bcc: R &amp; D &lt;<a href="mailto:rnd@blueskystudios.com">rnd@blueskystudios.com</a>&gt;,<br>
    The Mighty Mighty PSItones &lt;psi@blueskystudios.com&gt;<br>
Subject: dlopen() bug on Linux/Alpha<br>
X-Mailer: VM 6.34 under 20.3 "Vatican City" XEmacs  Lucid<br>
Comments: Hyperbole mail buttons accepted, v04.023.<br>
I-Am: danimal<br>
Precedence: special-delivery<br>
Return-Receipt-To: <a href="mailto:danimal@blueskystudios.com">danimal@blueskystudios.com</a><br>
X-Face: $Y&amp;:wju!9uUmZ{k1W-gF%uw'0!`!U#dbXZ&amp;FeSqfjdsKw.[[6ZAqb&lt;p/|4Xp&amp;eS5O(?&lt;]z{<br>
 PR="@wd$A:Ebe0o%S_d;mPk?%%Pep:V+Q'S`.I4^^7._&lt;YUg`H(N-&lt;I;{,f/*8PAC=c|?H+k=J"[wf<br>
 ZK7c9&gt;&gt;n;&amp;:+7x)Kk)u%)MWoKruZ7(v*y|-_f'i:~c[QgOX!&gt;Z:ChYd)<br>
<p>
<p>
Hello:<br>
<p>
	I am using Red Hat 5.0 on a 433 MHz Carrera computer running at<br>
kernel level 2.0.32.  Currently I have the latest glibc (2.0.5c build<br>
13) rpm from Red Hat.  I have also built a new set of the glibc<br>
libraries using these sources.  The only compiler that I have used for<br>
both building the libraries and our code is egcs-1.0.1.<br>
<p>
	The problem that we are running into is that when we attempt to<br>
open a shared library (*.so) that we have compiled the dlopen() call<br>
fails.  These shared libraries are dynamic procedures for a larger<br>
program that we write in-house.  During the linking phase for the shared<br>
library we use the options -shared and -ignore_unresolved so that any<br>
symbols that are in the larger program will be passed over and an .so<br>
will be produced (I'm not sure that -ignore_unresolved is supported on <br>
Linux, here is its entry in the SGI man page:<br>
<p>
    -ignore_unresolved<br>
          This option causes an executable or DSO to be produced and ld to<br>
          exit with zero status even if there are unresolved symbols;<br>
          resolution of these symbols will be completed by rld . If linking<br>
          -call_shared, a list of the unresolved symbols will be output (as it<br>
          always is for -call_shared).  If linking -shared, no such list will<br>
          be output.  If linking -non_shared, this option is ignored (and<br>
          -no_unresolved is used, as it always is for -non_shared).  This<br>
          option is the default for -shared linking, but not for -call_shared<br>
          or -non_shared.<br>
<p>
).<br>
<p>
<p>
I looked at the GNATS system at GNU but the only dlopen reference I<br>
found was at<br>
<a href="http://www-gnats.gnu.org:8080/cgi-bin/wwwgnats.pl/full/387">http://www-gnats.gnu.org:8080/cgi-bin/wwwgnats.pl/full/387</a> .  This<br>
seems to be like the problem we are having, but I can't tell exactly.<br>
I guess that what could be happening is that the shared library is<br>
loaded, can't find symbols in the main program and dies, killing the<br>
main process.<br>
<p>
I noticed that a glibc-2.0.6 was available on prep.ai.mit.edu but it<br>
looks to not have a fix for dlopen in it.<br>
<p>
If anyone has any insight into this bug i would appreciate some<br>
feedback.  Also, if a bug report at GNU is needed I will gladly submit <br>
one.<br>
<p>
-danimal<br>
<p>
<pre>
-- 
Dan Weeks &lt;<a href="mailto:danimal@blueskystudios.com">danimal@blueskystudios.com</a>&gt;
Blue Sky|VIFX <a href="http://www.blueskystudios.com/">http://www.blueskystudios.com/</a> http://www.vifx.com/
Harrison, New York 914/381.8400 - Los Angeles, California 310/822.8872
"There's no off position on the genius switch!" - D. Letterman
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0228.html">Jeff Nguyen: "Re: g77 (again)"</a>
<li> <b>Previous message:</b> <a href="0226.html">Jurriaan Saathof: "Netscape communicator 4 OSF/1"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
