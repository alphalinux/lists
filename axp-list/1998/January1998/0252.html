<!-- received="Sun Jan 11 07:36:48 1998 " -->
<!-- sent="Sun, 11 Jan 1998 13:35:34 +0100 (MET)" -->
<!-- name="Quezcal" -->
<!-- email="quezcal@mud.uni-paderborn.de" -->
<!-- subject="ecgs - gcc performace on libdes" -->
<!-- id="199801111235.NAA23488@xyllomer.uni-paderborn.de" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>ecgs - gcc performace on libdes</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>ecgs - gcc performace on libdes</h2>

<b>Quezcal</b> (<a href="mailto:quezcal@mud.uni-paderborn.de"><i>quezcal@mud.uni-paderborn.de</i></a>)<br>
<i>Sun, 11 Jan 1998 13:35:34 +0100 (MET)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#252">[ date ]</a><a href="index.html#252">[ thread ]</a><a href="subject.html#252">[ subject ]</a><a href="author.html#252">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0253.html">Stefan Traby: "Re: ecgs - gcc performace on libdes"</a>
<li> <b>Previous message:</b> <a href="0251.html">Tim Waugh: "Re: 2.1.78 ANA-6911a/TX with Dec 21142 doesnt work with de4x5"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0253.html">Stefan Traby: "Re: ecgs - gcc performace on libdes"</a>
<li> <b>Maybe reply:</b> <a href="0253.html">Stefan Traby: "Re: ecgs - gcc performace on libdes"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
I was installing libdes 4.01 today and performed some tests with egs-1.0.1<br>
and<br>
gcc 2.7.2.3 <br>
<p>
I am running a pc164LX w 533 Mhz. des_opts performed the tests. The<br>
best results where with gcc 2.7.2.3 not with egcs. I have done some<br>
tests on a self-written raytracer using stl before where egcs<br>
outperformed gcc by about 70%. Seems without c++ gcc is still faster.<br>
<p>
short: 	gcc : 16 r1 p    989672.54 100.0%<br>
	egcs: 16 r1 i    730601.36 100.0%<br>
<p>
Both where with DES_LONG set to unsigned int.<br>
<p>
On an intel P90 egcs performs significantly better:<br>
	egcs: 16 r1 p    149597.78 100.0%<br>
	gcc: 16 r2 i     62478.07 100.0%<br>
<p>
I would have expected there would be an advantage for egcs on Alphas,<br>
any idea why it seems to be slower here? <br>
Olaf<br>
<p>
egcs -O3 -fomit-frame-pointer -funroll-loops<br>
options    des ecb/s<br>
16 r1 i    730601.36 100.0%<br>
16 r1 p    684792.50  93.7%<br>
16  c i    681389.95  93.3%<br>
16  c p    663798.73  90.9%<br>
 4 r1 i    654606.38  89.6%<br>
16 r2 i    651864.90  89.2%<br>
 4 r1 p    646251.23  88.5%<br>
 4  c i    641926.79  87.9%<br>
16 r2 p    639067.19  87.5%<br>
 4 r2 p    619424.31  84.8%<br>
 4  c p    619269.00  84.8%<br>
 4 r2 i    617852.02  84.6%<br>
-DDES_UNROLL -DDES_RISC1<br>
gcc  -O3 -fomit-frame-pointer -funroll-loops<br>
options    des ecb/s<br>
16 r1 p    989672.54 100.0%<br>
16 r1 i    952995.93  96.3%<br>
16  c p    931046.81  94.1%<br>
 4 r1 p    918332.00  92.8%<br>
 4 r2 p    911451.29  92.1%<br>
16 r2 p    903829.12  91.3%<br>
16  c i    902735.15  91.2%<br>
 4  c p    896681.43  90.6%<br>
 4 r1 i    868342.30  87.7%<br>
 4 r2 i    852081.94  86.1%<br>
16 r2 i    849904.18  85.9%<br>
 4  c i    838059.20  84.7%<br>
-DDES_UNROLL -DDES_RISC1 -DDES_PTR<br>
<p>
for comparison: p90 RH 4.2 <br>
<p>
egcs -DELF -O3 -fomit-frame-pointer with x86 des asm loop<br>
and DES_LONG as unsigned long:<br>
<p>
16 r1 p    149597.78 100.0%<br>
16 r2 p    141930.71  94.9%<br>
16  c i    130053.37  86.9%<br>
16  c p    128224.78  85.7%<br>
 4  c i    117786.56  78.7%<br>
 4 r2 p    109400.33  73.1%<br>
16 r2 i    108178.20  72.3%<br>
16 r1 i    107526.98  71.9%<br>
 4 r1 i    104264.81  69.7%<br>
 4 r2 i     98082.42  65.6%<br>
 4 r1 p     97812.04  65.4%<br>
 4  c p     94937.50  63.5%<br>
-DDES_UNROLL -DDES_RISC1 -DDES_PTR<br>
gcc with same options:<br>
options    des ecb/s<br>
16 r2 i     62478.07 100.0%<br>
16 r1 i     62180.33  99.5%<br>
16  c i     58235.23  93.2%<br>
 4 r1 i     51503.00  82.4%<br>
 4 r2 i     47971.74  76.8%<br>
 4  c p     47147.98  75.5%<br>
 4  c i     46974.36  75.2%<br>
16  c p     40200.98  64.3%<br>
 4 r1 p     37247.66  59.6%<br>
 4 r2 p     36390.70  58.2%<br>
16 r1 p     35036.07  56.1%<br>
16 r2 p     31707.23  50.7%<br>
-DDES_UNROLL -DDES_RISC2<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0253.html">Stefan Traby: "Re: ecgs - gcc performace on libdes"</a>
<li> <b>Previous message:</b> <a href="0251.html">Tim Waugh: "Re: 2.1.78 ANA-6911a/TX with Dec 21142 doesnt work with de4x5"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0253.html">Stefan Traby: "Re: ecgs - gcc performace on libdes"</a>
<li> <b>Maybe reply:</b> <a href="0253.html">Stefan Traby: "Re: ecgs - gcc performace on libdes"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
