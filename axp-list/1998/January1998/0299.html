<!-- received="Mon Jan 12 18:26:20 1998 " -->
<!-- sent="Tue, 13 Jan 1998 01:15:04 +0000 (/etc/localtime)" -->
<!-- name="Matti Aarnio" -->
<!-- email="matti.aarnio@tele.fi" -->
<!-- subject="MIATA and 2.1.77 -- don't mix..." -->
<!-- id="19980113011509Z92174-262+1@mea.tmt.tele.fi" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>MIATA and 2.1.77 -- don't mix...</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>MIATA and 2.1.77 -- don't mix...</h2>

<b>Matti Aarnio</b> (<a href="mailto:matti.aarnio@tele.fi"><i>matti.aarnio@tele.fi</i></a>)<br>
<i>Tue, 13 Jan 1998 01:15:04 +0000 (/etc/localtime)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#299">[ date ]</a><a href="index.html#299">[ thread ]</a><a href="subject.html#299">[ subject ]</a><a href="author.html#299">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0300.html">Keith Baker: "Configure of X"</a>
<li> <b>Previous message:</b> <a href="0298.html">Just Scott: "Alpha users wanting Netscape email them to develop, here is the address"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0301.html">Mika Kortelainen: "Re: MIATA and 2.1.77 -- don't mix..."</a>
<li> <b>Reply:</b> <a href="0301.html">Mika Kortelainen: "Re: MIATA and 2.1.77 -- don't mix..."</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Hello,<br>
<p>
	I do know that there is no official (at Linus' tree)<br>
	code for MIATA machines, but the less official ones<br>
	are rather apalling.<br>
<p>
	Well, first of all, I want to run -- no, NEED TO --<br>
	the lattest kernel trees to do IPv6 development, and<br>
	my PPro200 machine is to be recycled to somebody else.<br>
	("You got that Alpha, you don't need two machines!")<br>
<p>
	I will comment more in between following serial console<br>
	bits and pieces -- btw, documenting "console=ttyS" would<br>
	be in order.  It took me serious code digging to find<br>
	a way to get that to work..  (But that is not an AXP issue.)<br>
<p>
	My system diff against standard 2.1.77 will appear<br>
	within an hour into   <a href="ftp://mea.tmt.tele.fi/linux/">ftp://mea.tmt.tele.fi/linux/</a><br>
	There already is my self-made alpha-patches against<br>
	2.1.53 and 2.1.55.  Oddly I had not much success with<br>
	so called VGER CVS versions (2.1.63 et.al.)<br>
<p>
	/Matti Aarnio &lt;matti.aarnio@tele.fi&gt;<br>
<p>
Boot line is bootdevice=sda3 bootfile=vmlinux.gz root=/dev/sda3 single console=ttyS <br>
Bootstrap complete, kernel @ 0xfffffc0000310000, sp @ 0xfffffc0000304000<br>
...turning on virtual addressing and jumping to the Linux Kernel<br>
<p>
------------------------------------------------------------<br>
<p>
Linux version 2.1.77 (<a href="mailto:root@mea.tmt.tele.fi">root@mea.tmt.tele.fi</a>) (gcc version 2.7.2.3) #26 Mon Jan 12 22:25:44 /etc/localtime 1998<br>
Command line: bootdevice=sda3 bootfile=vmlinux.gz root=/dev/sda3 single console=ttyS <br>
HWPRB cycle frequency bogus.  Estimating... 433213536 Hz<br>
Console: 16 point font, 400 scans<br>
Console: colour VGA+ 80x25, 1 virtual console (max 63)<br>
Alpha PCI BIOS32 revision 0.03<br>
Probing PCI hardware.<br>
bios32 WARNING: slot 9, function 0 requests 0x9101000 bytes of contig address space---don't use sparse memory accesses on this device!!<br>
<p>
	***	This warning is serious, because it is Adaptec 2940UW.<br>
		I feel the PYXIS specific PCI code leaves thing or two<br>
		to desire...  Urgh..   I have several versions of<br>
		pyxis.c, and bios32.c for arch/alpha/kernel/, but they<br>
		all fare a bit poorly.<br>
<p>
Calibrating delay loop... 428.87 BogoMIPS<br>
Memory: 127312k available<br>
Swansea University Computer Society NET3.039 for Linux 2.1<br>
NET3: Unix domain sockets 0.16 for Linux NET3.038.<br>
Swansea University Computer Society TCP/IP for NET3.037<br>
IP Protocols: ICMP, UDP, TCP, IGMP<br>
IPv4 over IPv4 tunneling driver<br>
early initialization of device tunl0 is deferred<br>
GRE over IPv4 tunneling driver<br>
early initialization of device gre0 is deferred<br>
Linux IP multicast router 0.06 plus PIM-SM<br>
Initializing RT netlink socket<br>
VFS: Diskquotas version dquot_5.6.0 initialized<br>
POSIX conformance testing by UNIFIX<br>
Starting kswapd v 1.23 <br>
Serial driver version 4.24 with no serial options enabled<br>
ttyS00 at 0x03f8 (irq = 4) is a 16550A<br>
ttyS01 at 0x02f8 (irq = 3) is a 16550A<br>
PS/2 auxiliary pointing device detected -- driver installed.<br>
Floppy drive(s): fd0 is 2.88M<br>
FDC 0 is a National Semiconductor PC87306<br>
aic7xxx: &lt;Adaptec AHA-294X Ultra SCSI host adapter&gt; at PCI 9<br>
aic7xxx: BIOS disabled, IO Port 0x9800, IO Mem 0xb101000, IRQ 40, Revision B<br>
aic7xxx: Unsupported type 0xff, please mail <a href="mailto:deang@teleport.com">deang@teleport.com</a><br>
<p>
	***	This is one of the poor things,  bios32.c  goes ahead,<br>
		and disables SCSI device bioses.  Those bioses should<br>
		not be needed, but something blows.<br>
<p>
scsi : 0 hosts.<br>
scsi : detected total.<br>
VFS: Cannot open root device 08:03<br>
Kernel panic: VFS: Unable to mount root fs on 08:03<br>
SysRq: unRaw Boot Sync Unmount showPc showTasks showMem loglevel0-8 tErm kIll killalL<br>
SysRq: Emergency Sync<br>
Done.<br>
SysRq: Emergency Remount R/O<br>
Done.<br>
SysRq: Resetting<br>
.......................................<br>
(milo-sequence removed)<br>
------------------------------------------------------------<br>
<p>
Linux version 2.1.77 (<a href="mailto:root@mea.tmt.tele.fi">root@mea.tmt.tele.fi</a>) (gcc version 2.7.2.3) #26 Mon Jan 12 22:25:44 /etc/localtime 1998<br>
Command line: bootdevice=sda3 bootfile=vmlinux.gz root=/dev/sda3 single console=ttyS <br>
Console: 16 point font, 400 scans<br>
Console: colour VGA+ 80x25, 1 virtual console (max 63)<br>
Alpha PCI BIOS32 revision 0.03<br>
Probing PCI hardware.<br>
bios32 WARNING: slot 9, function 0 requests 0x9101000 bytes of contig address space---don't use sparse memory accesses on this device!!<br>
<p>
	***	Again the AHA2940UW gives warnings :-(<br>
<p>
Calibrating delay loop... 429.92 BogoMIPS<br>
Memory: 127312k available<br>
Swansea University Computer Society NET3.039 for Linux 2.1<br>
NET3: Unix domain sockets 0.16 for Linux NET3.038.<br>
Swansea University Computer Society TCP/IP for NET3.037<br>
IP Protocols: ICMP, UDP, TCP, IGMP<br>
IPv4 over IPv4 tunneling driver<br>
early initialization of device tunl0 is deferred<br>
GRE over IPv4 tunneling driver<br>
early initialization of device gre0 is deferred<br>
Linux IP multicast router 0.06 plus PIM-SM<br>
Initializing RT netlink socket<br>
VFS: Diskquotas version dquot_5.6.0 initialized<br>
POSIX conformance testing by UNIFIX<br>
Starting kswapd v 1.23 <br>
Serial driver version 4.24 with no serial options enabled<br>
ttyS00 at 0x03f8 (irq = 4) is a 16550A<br>
ttyS01 at 0x02f8 (irq = 3) is a 16550A<br>
PS/2 auxiliary pointing device detected -- driver installed.<br>
Floppy drive(s): fd0 is 2.88M<br>
FDC 0 is a National Semiconductor PC87306<br>
aic7xxx: &lt;Adaptec AHA-294X Ultra SCSI host adapter&gt; at PCI 9<br>
aic7xxx: Warning - detected auto-termination.  Please verify driver<br>
         detected settings and use manual termination if necessary.<br>
aic7xxx: BIOS enabled, IO Port 0x9800, IO Mem 0xb101000, IRQ 40, Revision B<br>
aic7xxx: Wide Channel, SCSI ID 7, 16/255 SCBs, QFull 16, QMask 0x1f<br>
<p>
	***	But now it works without blowing up ?<br>
<p>
scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 4.1/3.2<br>
scsi : 1 host.<br>
scsi0: Scanning channel A for devices.<br>
  Vendor: DEC       Model: RZ1BB-BS (C) DEC  Rev: 0658<br>
  Type:   Direct-Access                      ANSI SCSI revision: 02<br>
Detected scsi disk sda at scsi0, channel 0, id 0, lun 0<br>
  Vendor: DEC       Model: RZ1CC-BA (C) DEC  Rev: 880F<br>
  Type:   Direct-Access                      ANSI SCSI revision: 02<br>
Detected scsi disk sda at scsi0, channel 0, id 1, lun 0<br>
scsi : detected 2 SCSI disks total.<br>
SCSI device sda: hdwr sector= 512 bytes. Sectors= 4110480 [2007 MB] [2.0 GB]<br>
SCSI device sda: hdwr sector= 512 bytes. Sectors= 8380080 [4091 MB] [4.1 GB]<br>
Partition check:<br>
 sda: sda1 sda2 sda3<br>
 sdb: sdb1<br>
VFS: Mounted root (ext2 filesystem) readonly.<br>
Freeing unused kernel memory: 32k freed<br>
Adding Swap: 265064k swap-space (priority -1)<br>
tulip.c:v0.87G 1/7/98 <a href="mailto:becker@cesdis.gsfc.nasa.gov">becker@cesdis.gsfc.nasa.gov</a><br>
eth0: Digital DS21140 Tulip at 0xffffff80,PYXIS machine check NOT expected<br>
pyxis_machine_check: vector=0x670 la_ptr=0xfffffc00002085a0<br>
		 pc=0xfffffe000000c5dc size=0x1b8 procoffset=0xd8 sysoffset 0x160<br>
<p>
	***	/sbin/insmod tulip.c, and we again get sparse-memory (?)<br>
		access machine check, and "happy" reboot...<br>
...<br>
------------------------------------------------------------<br>
<p>
Linux version 2.1.77 (<a href="mailto:root@mea.tmt.tele.fi">root@mea.tmt.tele.fi</a>) (gcc version 2.7.2.3) #26 Mon Jan 12 22:25:44 /etc/localtime 1998<br>
Command line: bootdevice=sda3 bootfile=vmlinux.gz root=/dev/sda3 single console=ttyS <br>
Console: 16 point font, 400 scans<br>
Console: colour VGA+ 80x25, 1 virtual console (max 63)<br>
Alpha PCI BIOS32 revision 0.03<br>
Probing PCI hardware.<br>
bios32 WARNING: slot 10, function 0 requests 0x9100000 bytes of contig address space---don't use sparse memory accesses on this device!!<br>
bios32 WARNING: slot 9, function 0 requests 0x9101000 bytes of contig address space---don't use sparse memory accesses on this device!!<br>
<p>
	***	Uh, looks bad!<br>
<p>
Calibrating delay loop... 430.96 BogoMIPS<br>
Memory: 127312k available<br>
Swansea University Computer Society NET3.039 for Linux 2.1<br>
NET3: Unix domain sockets 0.16 for Linux NET3.038.<br>
Swansea University Computer Society TCP/IP for NET3.037<br>
IP Protocols: ICMP, UDP, TCP, IGMP<br>
IPv4 over IPv4 tunneling driver<br>
early initialization of device tunl0 is deferred<br>
GRE over IPv4 tunneling driver<br>
early initialization of device gre0 is deferred<br>
Linux IP multicast router 0.06 plus PIM-SM<br>
Initializing RT netlink socket<br>
VFS: Diskquotas version dquot_5.6.0 initialized<br>
POSIX conformance testing by UNIFIX<br>
Starting kswapd v 1.23 <br>
Serial driver version 4.24 with no serial options enabled<br>
ttyS00 at 0x03f8 (irq = 4) is a 16550A<br>
ttyS01 at 0x02f8 (irq = 3) is a 16550A<br>
PS/2 auxiliary pointing device detected -- driver installed.<br>
Floppy drive(s): fd0 is 2.88M<br>
FDC 0 is a National Semiconductor PC87306<br>
aic7xxx: &lt;Adaptec AHA-294X Ultra SCSI host adapter&gt; at PCI 9<br>
PYXIS machine check NOT expected<br>
pyxis_machine_check: vector=0x670 la_ptr=0xfffffc00002085a0<br>
		 pc=0xfffffc000040bb60 size=0x1b8 procoffset=0xd8 sysoffset 0x160<br>
<p>
	***	Right, mal-formed sparse-memory access --&gt; blow up is<br>
		guaranteed :-(<br>
...<br>
	***	Got to have the machine running for a while, back to<br>
		my trusty (self-made Alpha-patches!) 2.1.53:<br>
<p>
Command line: bootdevice=sda3 bootfile=vmlinux-ok.gz root=/dev/sda3 <br>
Console: 16 point font, 400 scans<br>
Console: colour VGA+ 80x25, 1 virtual console (max 63)<br>
Alpha PCI BIOS32 revision 0.03<br>
Probing PCI hardware.<br>
<p>
	***	See, no problems here at all ??<br>
<p>
Calibrating delay loop.. ok - 429.92 BogoMIPS<br>
Memory: 127064k available<br>
Swansea University Computer Society NET3.039 for Linux 2.1<br>
NET3: Unix domain sockets 0.16 for Linux NET3.038.<br>
Swansea University Computer Society TCP/IP for NET3.037<br>
IP Protocols: IGMP, ICMP, UDP, TCP, IPIP<br>
IPv6 v0.2 for NET3.037<br>
VFS: Diskquotas version dquot_5.6.0 initialized<br>
Linux version 2.1.53 (<a href="mailto:root@mea-2.tmt.tele.fi">root@mea-2.tmt.tele.fi</a>) (gcc version 2.7.2.1) #3 Fri Sep 5 17:31:04 EEST 1997<br>
<p>
............<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0300.html">Keith Baker: "Configure of X"</a>
<li> <b>Previous message:</b> <a href="0298.html">Just Scott: "Alpha users wanting Netscape email them to develop, here is the address"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0301.html">Mika Kortelainen: "Re: MIATA and 2.1.77 -- don't mix..."</a>
<li> <b>Reply:</b> <a href="0301.html">Mika Kortelainen: "Re: MIATA and 2.1.77 -- don't mix..."</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
