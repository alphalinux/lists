<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: constantly changing /etc/HOSTNAME file</TITLE>
<META NAME="Author" CONTENT="jmd (jmd@infinet.com)">
<META NAME="Subject" CONTENT="Re: constantly changing /etc/HOSTNAME file">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: constantly changing /etc/HOSTNAME file</H1>
<HR>
<P>
<!-- received="Sun Dec 27 21:53:12 1998 PST" -->
<!-- sent="Sun, 27 Dec 1998 21:47:58 +0000" -->
<!-- name="jmd" -->
<!-- email="jmd@infinet.com" -->
<!-- subject="Re: constantly changing /etc/HOSTNAME file" -->
<!-- id="3686AB0E.B110A418@infinet.com" -->
<!-- inreplyto="199812262032.NAA11179@ellpspace.math.ualberta.ca" -->
<STRONG>jmd</STRONG> (<A HREF="mailto:jmd@infinet.com?subject=Re:%20constantly%20changing%20/etc/HOSTNAME%20file"><EM>jmd@infinet.com</EM></A>)<BR>
<EM>Sun, 27 Dec 1998 21:47:58 +0000</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#1092">[ date ]</A>
<A HREF="index.html#1092">[ thread ]</A>
<A HREF="subject.html#1092">[ subject ]</A>
<A HREF="author.html#1092">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="1091.html">Larry Snyder: "Re: Multia booting brain farts -- solved"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="1085.html">Larry Snyder: "Multia booting brain farts"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Michal Jaegermann wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; jmd wrote:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Everytime I connect to my ISP something overwrites the /etc/HOSTNAME
</EM><BR>
<EM>&gt; &gt; file so that it reads a given address. (ie &quot;a021.pm3-1.nwk.infinet.com&quot;)
</EM><BR>
<EM>&gt; &gt; This change occurs with every login session as far as I can see, so a
</EM><BR>
<EM>&gt; &gt; revoot will reflect the last dynamic IP assigned.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Normally (i.e. in a standard startup used by Red Hat) /etc/rc.d/rc.sysinit
</EM><BR>
<EM>&gt; startup script sets hostname, and records the change in /etc/HOSTNAME,
</EM><BR>
<EM>&gt; using values specified in /etc/sysconfig/network file (unless NETWORKING
</EM><BR>
<EM>&gt; is set to &quot;no&quot;).  What actually is in /etc/HOSTNAME is not that important.
</EM><BR>
<EM>&gt; Even if you are using DHCP it is hard to imagine that your ISP is that
</EM><BR>
<EM>&gt; &quot;smart&quot; that it rewrites your sysconfig files. 
</EM><BR>
<P>I don't think the ISP is writing to this file. I think there is
<BR>
something internally wrong with my set up. 
<BR>
<P>I checked both files you referred to: 
<BR>
<P>/etc/sysconfig/network is:
<BR>
<P>NETWORKING=YES
<BR>
FORWARD_IPV4=NO
<BR>
HOSTNAME=localhost.localdomain
<BR>
GATEWAYDEV=
<BR>
GATEWAY=
<BR>
<P>/etc/rc.d/rc.sysinit includes the lines:
<BR>
<P>if [ -f /etc/sysconfig/network ]; then
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. /etc/sysconfig/network
<BR>
<P>else
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NETWORKING=no
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HOSTNAME=localhost
<BR>
<P>This is what happens:
<BR>
I boot clean with &quot;localhost.localdomain&quot; in my /etc/HOSTNAME file.
<BR>
If I dial in to my ISP this file (etc/HOSTNAME) is changed as soon as I
<BR>
am logged in the ISP and have been assigned an IP address. (example
<BR>
a021.pm3-1.nwk.infinet.com)
<BR>
Taking that example if I open /etc/HOSTNAME after I log in to the ISP
<BR>
the file will read &quot;a021.pm3-1.nwk.infinet.com&quot; localhost.localdomain
<BR>
will not be in this file.
<BR>
<P>If I open another terminal with ctl-alt-F2 then the login prompt will
<BR>
be:
<BR>
[[jmd@a021 jmd]$
<BR>
<P>I changed the permissions for /etc/HOSTNAME to 444 and it still wrote to
<BR>
the file.
<BR>
<P><P><EM>&gt;I think that something is missing here from your story.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; BTW - your machine may have different names &quot;internally&quot; and &quot;outside&quot;.
</EM><BR>
<EM>&gt; This is normal.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;   Michal
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20constantly%20changing%20/etc/HOSTNAME%20file">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20constantly%20changing%20/etc/HOSTNAME%20file">axp-list@redhat.com</A>
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20constantly%20changing%20/etc/HOSTNAME%20file">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20constantly%20changing%20/etc/HOSTNAME%20file">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="1091.html">Larry Snyder: "Re: Multia booting brain farts -- solved"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="1085.html">Larry Snyder: "Multia booting brain farts"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Dec 27 1998 - 14:00:18 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
