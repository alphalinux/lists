<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Slow Ruffian with kernel 2.1.125</TITLE>
<META NAME="Author" CONTENT="Luigi Cavallo (cavallo@CHEMNA.DICHI.UNINA.IT)">
<META NAME="Subject" CONTENT="Slow Ruffian with kernel 2.1.125">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Slow Ruffian with kernel 2.1.125</H1>
<HR>
<P>
<!-- received="Tue Dec 15 17:41:27 1998 PST" -->
<!-- sent="Tue, 15 Dec 1998 19:31:13 +0100 (MET)" -->
<!-- name="Luigi Cavallo" -->
<!-- email="cavallo@CHEMNA.DICHI.UNINA.IT" -->
<!-- subject="Slow Ruffian with kernel 2.1.125" -->
<!-- id="Pine.LNX.3.95.981215192712.32363A-100000@charlie.dichi.unina.it" -->
<!-- inreplyto="" -->
<STRONG>Luigi Cavallo</STRONG> (<A HREF="mailto:cavallo@CHEMNA.DICHI.UNINA.IT?subject=Re:%20Slow%20Ruffian%20with%20kernel%202.1.125"><EM>cavallo@CHEMNA.DICHI.UNINA.IT</EM></A>)<BR>
<EM>Tue, 15 Dec 1998 19:31:13 +0100 (MET)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#600">[ date ]</A>
<A HREF="index.html#600">[ thread ]</A>
<A HREF="subject.html#600">[ subject ]</A>
<A HREF="author.html#600">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0599.html">Uncle George: "egcs (or gcc ) pragma (ieee)"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi, I' m having problems with my Ruffian and kernel 2.1.125
<BR>
<P>I compiled successfully the 2.1.125, and the machine boots properly.
<BR>
However, as I launch my standard application, which just crunch
<BR>
numbers, and make a &quot;reasonable&quot; I/O, the ruffian hangs for seconds,
<BR>
(10-20) and everything is incredibly slowed down.
<BR>
<P>As I kill the program, the ruffian starts to runs properly.
<BR>
<P>I think it is something related to my kernel configuration, since
<BR>
I had this program running fine for over a month with kernel 2.0.34 
<BR>
on this machine, and I also have exactly the same executable file
<BR>
running since 2 months on a different alpha, LX-164 with an IDE HD,
<BR>
and kernel 2.1.125. Even with the IDE HD, but kernel 2.1.125, it
<BR>
smokes. Incredibly fast!
<BR>
<P>However, to have the 2.1.125 to work with the IDE HD, I had to change
<BR>
a line in dma.c   #include &lt;asm/spinlock.h&gt; and maybe something else.
<BR>
(I did it over 2 months ago, I don't remeber what exactly I did)
<BR>
Now, to build the kernel on the Ruffian I took all the tree from the
<BR>
LX-164. Including the modified files.
<BR>
<P>Here, are the dmesg parts related to the SCSI adapters. Both with
<BR>
the 2.0.34 and the 2.1.125 kernels.
<BR>
<P>---- demsg from kernel 2.0.34 ------------------------
<BR>
ncr53c8xx: at PCI bus 1, device 13, function 0
<BR>
ncr53c8xx: 53c875 detected 
<BR>
ncr53c875-0: rev=0x03, base=0x9100000, io_port=0x9000, irq=20
<BR>
ncr53c875-0: ID 7, Fast-20, Parity Checking
<BR>
ncr53c875-0: on-board RAM at 0x9101000
<BR>
ncr53c875-0: restart (scsi reset).
<BR>
scsi0 : ncr53c8xx - revision 2.5f
<BR>
ncr53c875-0-&lt;6,0&gt;: FAST-10 WIDE SCSI 20.0 MB/s (100 ns, offset 15)
<BR>
<P><P>---- demsg from kernel 2.1.125 ------------------------
<BR>
ncr53c8xx: at PCI bus 1, device 13, function 0
<BR>
ncr53c8xx: 53c875 detected 
<BR>
ncr53c875-0: rev=0x03, base=0x9100000, io_port=0x9000, irq=20
<BR>
ncr53c875-0: ID 7, Fast-20, Parity Checking
<BR>
ncr53c875-0: on-chip RAM at 0x9101000
<BR>
ncr53c875-0: restart (scsi reset).
<BR>
ncr53c875-0: Downloading SCSI SCRIPTS.
<BR>
scsi0 : ncr53c8xx - revision 3.0i
<BR>
ncr53c875-0-&lt;6,*&gt;: FAST-10 WIDE SCSI 20.0 MB/s (100 ns, offset 15)
<BR>
<P>I tried to play with the different SCSI settings, trying to have
<BR>
the same dmesg output as that from the 2.0.34.
<BR>
Otherwise, I would have FAST-20 40.0 MB/s 50 ns. However, it does
<BR>
not help... same behavior.
<BR>
<P>Any hints ???  
<BR>
<P>The HD is :
<BR>
&nbsp;&nbsp;Vendor: IBM       Model: DCAS-34330W       Rev: S65A
<BR>
&nbsp;&nbsp;Type:   Direct-Access                      ANSI SCSI revision: 02
<BR>
<P>Finally, I have 128 MB of RAM, no other SCSI devices, an IDE CDROM,
<BR>
a S3 Virge. Everything else seems to work properly with 2.1.125
<BR>
<P><P><P>Thanx
<BR>
<P>Dr. Luigi Cavallo
<BR>
Dept. of Chemistry
<BR>
Univ. of Naples
<BR>
Via Mezzocannone 4
<BR>
I-80134 Napoli, ITALY
<BR>
Ph:  ++39-81-5476534
<BR>
Fax: ++39-81-5527771
<BR>
Email <A HREF="mailto:cavallo@chemna.dichi.unina.it?subject=Re:%20Slow%20Ruffian%20with%20kernel%202.1.125">cavallo@chemna.dichi.unina.it</A>
<BR>
-----------------------------------
<BR>
<P><P><P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Slow%20Ruffian%20with%20kernel%202.1.125">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Slow%20Ruffian%20with%20kernel%202.1.125">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0599.html">Uncle George: "egcs (or gcc ) pragma (ieee)"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Dec 15 1998 - 10:00:28 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
