<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: UX + lots of RAM?</TITLE>
<META NAME="Author" CONTENT="furio ercolessi (furio@spin.it)">
<META NAME="Subject" CONTENT="Re: UX + lots of RAM?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: UX + lots of RAM?</H1>
<HR>
<P>
<!-- received="Wed Dec 16 10:20:59 1998 PST" -->
<!-- sent="Wed, 16 Dec 1998 11:20:24 MET" -->
<!-- name="furio ercolessi" -->
<!-- email="furio@spin.it" -->
<!-- subject="Re: UX + lots of RAM?" -->
<!-- id="199812161020.LAA02122@noc.spin.it" -->
<!-- inreplyto="Pine.LNX.3.96.981216102607.3386A-100000@krabat.ekt.maschinenbau.tu-darmstadt.de" -->
<STRONG>furio ercolessi</STRONG> (<A HREF="mailto:furio@spin.it?subject=Re:%20UX%20%2B%20lots%20of%20RAM?"><EM>furio@spin.it</EM></A>)<BR>
<EM>Wed, 16 Dec 1998 11:20:24 MET</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#654">[ date ]</A>
<A HREF="index.html#654">[ thread ]</A>
<A HREF="subject.html#654">[ subject ]</A>
<A HREF="author.html#654">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0653.html">Jonathan L Dubois: "cant get mp123 gtkamp to work with SB vibra..."</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
<EM>&gt; We had exactly the problems furio ercolessi had on our UX (aka Ruffian) 
</EM><BR>
<EM>&gt; based system.  The errors were something like &quot;Unable to handle kernel
</EM><BR>
<EM>&gt; paging request at ...&quot; and crashing the system.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; However, we fixed this and the system is running fine now!
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The fix is &quot;dirty&quot;, but it works.  Here we go:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; System:		UX board, 533MHz CPU, 2MB Cache, 256MB SDRAM
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Memory reported by MILO/detected by kernel:  255MB
</EM><BR>
<EM>&gt; Memory reported by BIOS:                     255MB - 40kB
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Obvious this won't work reliable ...
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Fix:    Patch subroutine &quot;find_end_memory&quot; to return 40kB less, i.e.
</EM><BR>
<EM>&gt; 	insert &quot;high -= 40*1024&quot; as last line before the return-statement
</EM><BR>
<EM>&gt; 	(file linux/arch/alpha/kernel/setup.c)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The system runs stable even when heavily swapping!
</EM><BR>
<P>At some point I tried a similar solution, consisting of telling
<BR>
MILO that the memory is less than that reported by BIOS before
<BR>
booting the kernel.  I went as far as &quot;removing&quot; 384MB on a 512MB
<BR>
machine and the problems persisted, even if their frequency
<BR>
was reduced.
<BR>
But maybe the two solutions are not as similar as it may seem.
<BR>
Perhaps 40kB does the magic.
<BR>
<P>I remember that before giving up, after installing a new OSFPAL
<BR>
file sent us by Jay, the most frequent error message seen was not
<BR>
&quot;Unable to handle...&quot;, but rather:
<BR>
Whoops: unlock_buffer: async io complete on unlocked page
<BR>
<P>furio ercolessi
<BR>
Spin - Trieste (Italy)
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20UX%20%2B%20lots%20of%20RAM?">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20UX%20%2B%20lots%20of%20RAM?">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0653.html">Jonathan L Dubois: "cant get mp123 gtkamp to work with SB vibra..."</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Dec 16 1998 - 03:00:24 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
