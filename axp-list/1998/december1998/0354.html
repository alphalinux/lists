<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: alpha xntpd bug?</TITLE>
<META NAME="Author" CONTENT="Larry Snyder (larrys@lexis-nexis.com)">
<META NAME="Subject" CONTENT="Re: alpha xntpd bug?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: alpha xntpd bug?</H1>
<HR>
<P>
<!-- received="Wed Dec 09 00:15:18 1998 PST" -->
<!-- sent="Tue, 8 Dec 1998 18:07:02 -0500 (EST)" -->
<!-- name="Larry Snyder" -->
<!-- email="larrys@lexis-nexis.com" -->
<!-- subject="Re: alpha xntpd bug?" -->
<!-- id="199812082307.SAA10232@ra.lexis-nexis.com" -->
<!-- inreplyto="Pine.LNX.4.04.9812081201030.6991-100000@earth.terran.org" -->
<STRONG>Larry Snyder</STRONG> (<A HREF="mailto:larrys@lexis-nexis.com?subject=Re:%20alpha%20xntpd%20bug?"><EM>larrys@lexis-nexis.com</EM></A>)<BR>
<EM>Tue, 8 Dec 1998 18:07:02 -0500 (EST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#354">[ date ]</A>
<A HREF="index.html#354">[ thread ]</A>
<A HREF="subject.html#354">[ subject ]</A>
<A HREF="author.html#354">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0355.html">David Walters: "NE2000 NIC in a UDB"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0353.html">Joachim Wesner: "Re: Q: attempt to access beyond end of device"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0305.html">Dauter, Oliver: "Q: attempt to access beyond end of device"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
&quot;B. James Phillippe&quot; &lt;<A HREF="mailto:bryan@terran.org?subject=Re:%20alpha%20xntpd%20bug?">bryan@terran.org</A>&gt; wrote:
<BR>
<EM>&gt; On Tue, 8 Dec 1998 <A HREF="mailto:nbecker@fred.net?subject=Re:%20alpha%20xntpd%20bug?">nbecker@fred.net</A> wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; I just installed xntp3-5.93-4.alpha.rpm.  I noticed this in the
</EM><BR>
<EM>&gt; &gt; syslog:
</EM><BR>
<P>I put 3-5.93 up on a Solaris 2.5.1 box a few months ago.  Works fine.
<BR>
I use it to maintain time on a bunch of cisco boxen.
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; I'm running xntp3-5.93-2 on 2.1.130 and it seems to work okay (the time is
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; Dec  8 13:24:49 pacpc1 xntpd[24667]: bind() fd 8, family 2, port 123, addr e0000101, in_classd=1 flags=0 fails: Address already in use
</EM><BR>
<P>Hmmm.... 0xe0.00.01.01 becomes 224.0.1.1 -- multicast.  You don't need this if your ntp server is a known address and you're not trying to
<BR>
'push' time to other clients.  I don't use it.
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; I get this one too.  Don't know what causes it, but I agree it's (at least)
</EM><BR>
<EM>&gt; cosmetically annoying.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; Dec  8 13:24:49 pacpc1 xntpd[24667]: setsockopt IP_ADD_MEMBERSHIP fails: Protocol not available for 10100e0 / 0 (224.0.1.1)
</EM><BR>
<P>Same as above, but this call expresses the address in in-addr format.
<BR>
BTW, is IP_MULTICAST turned on in your kernel?
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; Never seen this one.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; Also a whole crapload of:
</EM><BR>
<EM>&gt; &gt; Dec  8 13:45:38 pacpc1 xntpd[24750]: Previous time adjustment incomplete; residual 0.001022 sec
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I get a lot of these, too.  Again... I don't know if it's just cosmetic or
</EM><BR>
<EM>&gt; if there is another problem.  My time does seem to keep, though.
</EM><BR>
<P>The xntpd on my 2.5.1 box is pid 150, and the only copy running.
<BR>
The ones you seem to have complaining look to be restarting copies
<BR>
of the daemon: 24667 begets 24750 begets....and all of them fail because
<BR>
they are trying the multicast transport and griping to syslog about it.
<BR>
Check the docs and your /etc/ntp.conf.  I remember something about it,
<BR>
but can't get to the docs right now.
<BR>
&nbsp;&nbsp;
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; xntpdc -p shows:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;      remote           local      st poll reach  delay   offset    disp
</EM><BR>
<EM>&gt; =======================================================================
</EM><BR>
<EM>&gt; =nebu1-atm.ucsd. 208.152.24.33    2  512  345 0.29070 -0.031365 4.02101
</EM><BR>
<EM>&gt; *alpha.tricity.w 208.152.24.33    2 1024  257 0.27942  0.021679 0.01328
</EM><BR>
<EM>&gt; =134.186.121.10  208.152.24.33    2 1024  377 0.28006  0.009491 0.01918
</EM><BR>
<P>Your peer status display looks just fine.  Note that these are all
<BR>
point-to-point connections (not multicasts).  The 'remote' names (or
<BR>
addresses) should be in 'server' lines in ntp.conf.  (Wow...stratum 2?
<BR>
Must be nice!  I'm running at 5).
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; cheers,
</EM><BR>
<EM>&gt; -bp
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; B. James Phillippe	. <A HREF="mailto:bryan@terran.org?subject=Re:%20alpha%20xntpd%20bug?">bryan@terran.org</A>
</EM><BR>
<EM>&gt; Linux Engineer/Admin	. <A HREF="http://www.terran.org/~bryan">http://www.terran.org/~bryan</A>
</EM><BR>
<EM>&gt; Member since 1.1.59	. finger:<A HREF="mailto:bryan@earth.terran.org?subject=Re:%20alpha%20xntpd%20bug?">bryan@earth.terran.org</A>
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20alpha%20xntpd%20bug?">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20alpha%20xntpd%20bug?">axp-list@redhat.com</A>
</EM><BR>
HTH,
<BR>
-ls-
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20alpha%20xntpd%20bug?">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20alpha%20xntpd%20bug?">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0355.html">David Walters: "NE2000 NIC in a UDB"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0353.html">Joachim Wesner: "Re: Q: attempt to access beyond end of device"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0305.html">Dauter, Oliver: "Q: attempt to access beyond end of device"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Dec 08 1998 - 17:00:22 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
