<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>AXP-List Hypermail Archive: Re: netbooting multia</TITLE>
<META NAME="Author" CONTENT="Dave Beck (dave@arginine.umdnj.edu)">
<META NAME="Subject" CONTENT="Re: netbooting multia">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: netbooting multia</H1>
<HR>
<P>
<!-- received="Wed Nov 25 04:44:53 1998 AKST" -->
<!-- sent="Wed, 25 Nov 1998 08:43:41 -0500" -->
<!-- name="Dave Beck" -->
<!-- email="dave@arginine.umdnj.edu" -->
<!-- subject="Re: netbooting multia" -->
<!-- id="19981125084341.C8588@arginine.umdnj.edu" -->
<!-- inreplyto="199811250240.VAA04085@ra.lexis-nexis.com" -->
<STRONG>Dave Beck</STRONG> (<A HREF="mailto:dave@arginine.umdnj.edu?subject=Re:%20netbooting%20multia"><EM>dave@arginine.umdnj.edu</EM></A>)<BR>
<EM>Wed, 25 Nov 1998 08:43:41 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#579">[ date ]</A>
<A HREF="index.html#579">[ thread ]</A>
<A HREF="subject.html#579">[ subject ]</A>
<A HREF="author.html#579">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0580.html">Dave Beck: "CONFIG_ALPHA_SRM(_SETUP)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0578.html">nbecker@fred.net: "egcs-1.1 bad for alpha?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0585.html">lars@execpc.com: "Re: netbooting multia"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
Actually, according to &lt;your linux kernel source dir&gt;/arch/alpha/boot/bootp.c
<BR>
it is doing something with booted_osflags which is slapped in place by SRM when
<BR>
it &quot;boots&quot; something from boot_osflags envar.  Actually, what I'm experiencing
<BR>
here my be answered on the kernel lists also.  Please keep the suggestions
<BR>
comming!
<BR>
<P>Quoting Larry Snyder (<A HREF="mailto:larrys@lexis-nexis.com?subject=Re:%20netbooting%20multia">larrys@lexis-nexis.com</A>):
<BR>
<EM>&gt; I wouldn't think it's an os_flags thing.  Those are passed to the the kernel.
</EM><BR>
<EM>&gt; You might wanna make sure there's nothing there in the SRM env var's...
</EM><BR>
<EM>&gt; -ls- 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Dave Beck &lt;<A HREF="mailto:dave@arginine.umdnj.edu?subject=Re:%20netbooting%20multia">dave@arginine.umdnj.edu</A>&gt; wrote:
</EM><BR>
<EM>&gt; &gt; I'm purdy sure tftpd is correctly configured as I have a SparcIPC booting via
</EM><BR>
<EM>&gt; &gt; the tftp server at the moment.  I'm very sure it is getting the image at least
</EM><BR>
<EM>&gt; &gt; as it at least starts to boot the image.. 
</EM><BR>
<EM>&gt; &gt; TFTP Read File Name: /tftpboot/noname.img
</EM><BR>
<EM>&gt; &gt; ...............................
</EM><BR>
<EM>&gt; &gt; bootstrap code read in
</EM><BR>
<EM>&gt; &gt; base = 154000, image_start = 0, image_bytes = 1ecbb8
</EM><BR>
<EM>&gt; &gt; initializing HWRPB at 2000
</EM><BR>
<EM>&gt; &gt; initializing page table at 146000
</EM><BR>
<EM>&gt; &gt; initializing machine state
</EM><BR>
<EM>&gt; &gt; setting affinity to the primary CPU
</EM><BR>
<EM>&gt; &gt; jumping to bootstrap code
</EM><BR>
<EM>&gt; &gt; Linux/AXP bootp loader for Linux 2.1.129
</EM><BR>
<EM>&gt; &gt; Switching to OSF PAL-code .. Ok (rev 1000000020123)
</EM><BR>
<EM>&gt; &gt; Loading the kernel...'0'
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; I'm pretty darn sure the 0 is the value of boot_os_flags or some such
</EM><BR>
<EM>&gt; &gt; SRM envar.
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; Quoting Larry Snyder (<A HREF="mailto:larrys@lexis-nexis.com?subject=Re:%20netbooting%20multia">larrys@lexis-nexis.com</A>):
</EM><BR>
<EM>&gt; &gt; &gt; Lessee here....some of the stuff that's bit me with netbooting things...
</EM><BR>
<EM>&gt; &gt; &gt; In inetd.conf on your bootserver, is tftp started with a -s /tftpboot?
</EM><BR>
<EM>&gt; &gt; &gt; (I boot an old cisco here (at home) that way and have to specify the
</EM><BR>
<EM>&gt; &gt; &gt; full path in the cisco config).  You might also try your boot command
</EM><BR>
<EM>&gt; &gt; &gt; with a '-fi /tftpboot/noname.img' ...same thing.  Obviously, /tftpboot/*
</EM><BR>
<EM>&gt; &gt; &gt; needs to be world-readable...  
</EM><BR>
<EM>&gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; Just a few thoughts, you've already built the kernel right, I think.
</EM><BR>
<EM>&gt; &gt; &gt; Lemme know how it works out/what you had to change.
</EM><BR>
<EM>&gt; &gt; &gt; -ls-
</EM><BR>
<EM>&gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; Dave Beck &lt;<A HREF="mailto:dave@arginine.umdnj.edu?subject=Re:%20netbooting%20multia">dave@arginine.umdnj.edu</A>&gt; wrote:
</EM><BR>
<EM>&gt; &gt; &gt; &gt; In my quest to netboot the new assembled collection of UDB/Multias sitting
</EM><BR>
<EM>&gt; &gt; &gt; &gt; here, I am gather documentation.  Unfortunately, I have recently been stalled
</EM><BR>
<EM>&gt; &gt; &gt; &gt; in my own progress.  I'm doing something not entirely unlike:
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 	make xconfig; make dep; make clean; make; make bootpfile
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 	cp arch/alpha/boot/bootpfile /tftpboot/noname.img
</EM><BR>
<EM>&gt; &gt; &gt; &gt; and then booting up the multias (via serial console) in SRM with:
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 	boot -p bootp ewa0
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; what follows is output from a serial session w/ the netbooting (not quite)
</EM><BR>
<EM>&gt; &gt; &gt; &gt; multia;  It is exactly similar with a 2.0.35 bootpfile and the 2.1.129 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; bootpfile...
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; -- BEGIN PASTE
</EM><BR>
<EM>&gt; &gt; &gt; &gt; &gt;&gt;&gt;boot -p bootp ewa0                                                           
</EM><BR>
<EM>&gt; &gt; &gt; &gt; (boot ewa0.0.0.8.0 -flags 0)                                                    
</EM><BR>
<EM>&gt; &gt; &gt; &gt;                                                                                 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Trying BOOTP boot.                                                              
</EM><BR>
<EM>&gt; &gt; &gt; &gt;                                                                                 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Broadcasting BOOTP Request...                                                   
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Received BOOTP Packet File Name: /tftpboot/noname.img                           
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Bflags are 2                                                                    
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Server name: lysine.umdnj.edu                                                   
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Boot filename is /tftpboot/noname.img                                           
</EM><BR>
<EM>&gt; &gt; &gt; &gt; TFTP server name is lysine.umdnj.edu                                            
</EM><BR>
<EM>&gt; &gt; &gt; &gt; TFTP server ip address is 192.168.0.2                                           
</EM><BR>
<EM>&gt; &gt; &gt; &gt; TFTP server hw address is 00-60-08-bf-6f-5b                                     
</EM><BR>
<EM>&gt; &gt; &gt; &gt; TFTP local ip address is 192.168.0.7
</EM><BR>
<EM>&gt; &gt; &gt; &gt; TFTP local hw address is 08-00-2b-e4-5d-23                                      
</EM><BR>
<EM>&gt; &gt; &gt; &gt; local inet address: 192.168.0.7                                                 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; remote inet address: 192.168.0.2                                                
</EM><BR>
<EM>&gt; &gt; &gt; &gt; TFTP Read File Name: /tftpboot/noname.img                                       
</EM><BR>
<EM>&gt; &gt; &gt; &gt; ...............................                                                 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; bootstrap code read in                                                          
</EM><BR>
<EM>&gt; &gt; &gt; &gt; base = 154000, image_start = 0, image_bytes = 1ecbb8                            
</EM><BR>
<EM>&gt; &gt; &gt; &gt; initializing HWRPB at 2000                                                      
</EM><BR>
<EM>&gt; &gt; &gt; &gt; initializing page table at 146000                                               
</EM><BR>
<EM>&gt; &gt; &gt; &gt; initializing machine state                                                      
</EM><BR>
<EM>&gt; &gt; &gt; &gt; setting affinity to the primary CPU                                             
</EM><BR>
<EM>&gt; &gt; &gt; &gt; jumping to bootstrap code                                                       
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Linux/AXP bootp loader for Linux 2.1.129                                        
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Switching to OSF PAL-code .. Ok (rev 1000000020123)                             
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Loading the kernel...'0'
</EM><BR>
<EM>&gt; &gt; &gt; &gt; -- END PASTE
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Any ideas?  
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; -- 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Dave Beck 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; <A HREF="mailto:dave@arginine.umdnj.edu?subject=Re:%20netbooting%20multia">dave@arginine.umdnj.edu</A>                 Sites of interest (set 3):
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Computer Science and Biology            <A HREF="http://selene.biochem.uga.edu/tutorial/">http://selene.biochem.uga.edu/tutorial/</A>
</EM><BR>
<EM>&gt; &gt; &gt; &gt; Drexel University, Philadelphia PA      <A HREF="http://www.cold.org/">http://www.cold.org/</A>
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; -- 
</EM><BR>
<EM>&gt; &gt; &gt; &gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20netbooting%20multia">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; &gt; &gt; &gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20netbooting%20multia">axp-list@redhat.com</A>
</EM><BR>
<EM>&gt; &gt; &gt; 
</EM><BR>
<EM>&gt; &gt; &gt; -- 
</EM><BR>
<EM>&gt; &gt; &gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20netbooting%20multia">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; &gt; &gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20netbooting%20multia">axp-list@redhat.com</A>
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; -- 
</EM><BR>
<EM>&gt; &gt; Dave Beck 
</EM><BR>
<EM>&gt; &gt; <A HREF="mailto:dave@arginine.umdnj.edu?subject=Re:%20netbooting%20multia">dave@arginine.umdnj.edu</A>                 Sites of interest (set 3):
</EM><BR>
<EM>&gt; &gt; Computer Science and Biology            <A HREF="http://selene.biochem.uga.edu/tutorial/">http://selene.biochem.uga.edu/tutorial/</A>
</EM><BR>
<EM>&gt; &gt; Drexel University, Philadelphia PA      <A HREF="http://www.cold.org/">http://www.cold.org/</A>
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; -- 
</EM><BR>
<EM>&gt; &gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20netbooting%20multia">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; &gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20netbooting%20multia">axp-list@redhat.com</A>
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20netbooting%20multia">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20netbooting%20multia">axp-list@redhat.com</A>
</EM><BR>
<P><PRE>
-- 
Dave Beck 
<A HREF="mailto:dave@arginine.umdnj.edu?subject=Re:%20netbooting%20multia">dave@arginine.umdnj.edu</A>                 Sites of interest (set 4):
Computer Science and Biology            <A HREF="http://www.santafe.edu/projects/swarm/">http://www.santafe.edu/projects/swarm/</A>
Drexel University, Philadelphia PA      <A HREF="http://www.drexel.edu/">http://www.drexel.edu/</A>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20netbooting%20multia">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20netbooting%20multia">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0580.html">Dave Beck: "CONFIG_ALPHA_SRM(_SETUP)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0578.html">nbecker@fred.net: "egcs-1.1 bad for alpha?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0585.html">lars@execpc.com: "Re: netbooting multia"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Nov 25 1998 - 04:44:55 AKST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
