<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Mailbox: Re: need help compiling 2.1.128</TITLE>
<META NAME="Author" CONTENT="Alex Pilosov (apilos01@utopia.poly.edu)">
<META NAME="Subject" CONTENT="Re: need help compiling 2.1.128">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: need help compiling 2.1.128</H1>
<HR>
<P>
<!-- received="Tue Nov 17 05:19:56 1998 PST" -->
<!-- sent="Mon, 16 Nov 1998 23:21:38 -0500 (EST)" -->
<!-- name="Alex Pilosov" -->
<!-- email="apilos01@utopia.poly.edu" -->
<!-- subject="Re: need help compiling 2.1.128" -->
<!-- id="Pine.GSO.3.96.981116232106.11428B-100000@utopia.poly.edu" -->
<!-- inreplyto="18111622555300.05570@fireball.alphaguy.ml.org" -->
<STRONG>Alex Pilosov</STRONG> (<A HREF="mailto:apilos01@utopia.poly.edu?subject=Re:%20need%20help%20compiling%202.1.128"><EM>apilos01@utopia.poly.edu</EM></A>)<BR>
<EM>Mon, 16 Nov 1998 23:21:38 -0500 (EST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#184">[ date ]</A>
<A HREF="index.html#184">[ thread ]</A>
<A HREF="subject.html#184">[ subject ]</A>
<A HREF="author.html#184">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0185.html">Brendan Miller: "Re: Multia memory/batery questions"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0183.html">peter petrakis: "need help compiling 2.1.128"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0187.html">peter petrakis: "Re: need help compiling 2.1.128"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
It smells like you didn't do 'make clean' after commenting out SMP=1.
<BR>
You _must_ do a clean build after changing SMP setting. 
<BR>
<P>On Sun, 9 Sep 48429, peter petrakis wrote:
<BR>
<P><EM>&gt; Hi guys,
</EM><BR>
<EM>&gt; 	Well I grabed the latest kernel so I can get DU netscape running but
</EM><BR>
<EM>&gt; I'm having trouble compiling the new kernel. First Problem i solved was when
</EM><BR>
<EM>&gt; makeboot failed when It was compiling some parallel port support, I commented
</EM><BR>
<EM>&gt; out SMP =1 in the makefile and got past that. Now closer towards the end of the
</EM><BR>
<EM>&gt; process I get this below. I thought &quot; well now uncomment  smp =1&quot; and do so but
</EM><BR>
<EM>&gt; I end up compiing the kerenel all over again! I'm using egcs 1.1b-2 and the
</EM><BR>
<EM>&gt; latest binutils from the rawhide dir. Any ideas? Thanks alot.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Alpha Powered,
</EM><BR>
<EM>&gt; Peter Petrakis
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; egcs -D__KERNEL__ -I/usr/src/dev-kernel/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -pipe -mno-fp-regs -ffixed-8 -Wa,-m21164a -DBWIO_ENABLED   -c -o fp-emul.o fp-emul.c
</EM><BR>
<EM>&gt; rm -f math-emu.o
</EM><BR>
<EM>&gt; ld  -r -o math-emu.o  fp-emul.o ieee-math.o
</EM><BR>
<EM>&gt; make[2]: Leaving directory `/usr/src/dev-kernel/arch/alpha/math-emu'
</EM><BR>
<EM>&gt; make[1]: Leaving directory `/usr/src/dev-kernel/arch/alpha/math-emu'
</EM><BR>
<EM>&gt; ld -static -T arch/alpha/vmlinux.lds  arch/alpha/kernel/head.o init/main.o init/version.o \
</EM><BR>
<EM>&gt;         arch/alpha/kernel/kernel.o arch/alpha/mm/mm.o kernel/kernel.o mm/mm.o fs/fs.o ipc/ipc.o arch/alpha/math-emu/math-emu.o \
</EM><BR>
<EM>&gt;         fs/filesystems.a \
</EM><BR>
<EM>&gt;         net/network.a \
</EM><BR>
<EM>&gt;         drivers/block/block.a drivers/char/char.a drivers/misc/misc.a drivers/net/net.a drivers/scsi/scsi.a drivers/cdrom/cdrom.a drivers/pci/pci.a drivers/video/video.a \
</EM><BR>
<EM>&gt;         /usr/src/dev-kernel/arch/alpha/lib/lib.a /usr/src/dev-kernel/lib/lib.a /usr/src/dev-kernel/arch/alpha/lib/lib.a \
</EM><BR>
<EM>&gt;         -o vmlinux
</EM><BR>
<EM>&gt; init/main.o: In function `root_dev_setup':
</EM><BR>
<EM>&gt; main.c(.text+0x128): undefined reference to `kernel_flag'
</EM><BR>
<EM>&gt; main.c(.text+0x12c): undefined reference to `spin_lock'
</EM><BR>
<EM>&gt; main.c(.text+0x130): undefined reference to `spin_lock'
</EM><BR>
<EM>&gt; init/main.o: In function `ramdisk_start_setup':
</EM><BR>
<EM>&gt; main.c(.text+0x164): undefined reference to `kernel_flag'
</EM><BR>
<EM>&gt; main.c(.text+0x168): undefined reference to `spin_unlock'
</EM><BR>
<EM>&gt; main.c(.text+0x16c): undefined reference to `spin_unlock'
</EM><BR>
<EM>&gt; init/main.o: In function `smp_init':
</EM><BR>
<EM>&gt; main.c(.text.init+0x760): undefined reference to `smp_boot_cpus'
</EM><BR>
<EM>&gt; main.c(.text.init+0x764): undefined reference to `smp_boot_cpus'
</EM><BR>
<EM>&gt; main.c(.text.init+0x770): undefined reference to `smp_threads_ready'
</EM><BR>
<EM>&gt; main.c(.text.init+0x77c): undefined reference to `smp_commence'
</EM><BR>
<EM>&gt; main.c(.text.init+0x780): undefined reference to `smp_commence'
</EM><BR>
<EM>&gt; init/main.o: In function `start_kernel':
</EM><BR>
<EM>&gt; main.c(.text.init+0x7c8): undefined reference to `initialize_secondary'
</EM><BR>
<EM>&gt; main.c(.text.init+0x7cc): undefined reference to `initialize_secondary'
</EM><BR>
<EM>&gt; main.c(.text.init+0x914): undefined reference to `__global_sti'
</EM><BR>
<EM>&gt; main.c(.text.init+0x918): undefined reference to `__global_sti'
</EM><BR>
<EM>&gt; main.c(.text.init+0xa2c): undefined reference to `cpu_idle'
</EM><BR>
<EM>&gt; main.c(.text.init+0xa30): undefined reference to `cpu_idle'
</EM><BR>
<EM>&gt; init/main.o: In function `ramdisk_start_setup':
</EM><BR>
<EM>&gt; main.c(.data.init+0x168): undefined reference to `smp_setup'
</EM><BR>
<EM>&gt; main.c(.data.init+0x178): undefined reference to `smp_setup'
</EM><BR>
<EM>&gt; make: *** [vmlinux] Error 1
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20need%20help%20compiling%202.1.128">axp-list-request@redhat.com</A> with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20need%20help%20compiling%202.1.128">axp-list@redhat.com</A>
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20need%20help%20compiling%202.1.128">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20need%20help%20compiling%202.1.128">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0185.html">Brendan Miller: "Re: Multia memory/batery questions"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0183.html">peter petrakis: "need help compiling 2.1.128"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0187.html">peter petrakis: "Re: need help compiling 2.1.128"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Nov 17 1998 - 16:23:39 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
