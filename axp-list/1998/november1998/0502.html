<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Mailbox: Re: Dual CPU price/performancem</TITLE>
<META NAME="Author" CONTENT="Kurt Garloff (K.Garloff@ping.de)">
<META NAME="Subject" CONTENT="Re: Dual CPU price/performancem">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Dual CPU price/performancem</H1>
<HR>
<P>
<!-- received="Mon Nov 23 21:22:51 1998 PST" -->
<!-- sent="Mon, 23 Nov 1998 20:56:49 +0100" -->
<!-- name="Kurt Garloff" -->
<!-- email="K.Garloff@ping.de" -->
<!-- subject="Re: Dual CPU price/performancem" -->
<!-- id="19981123205649.A1354@kg1.ping.de" -->
<!-- inreplyto="Pine.LNX.3.95.981120135231.19664B-100000@missing.its.to" -->
<STRONG>Kurt Garloff</STRONG> (<A HREF="mailto:K.Garloff@ping.de?subject=Re:%20Dual%20CPU%20price/performancem"><EM>K.Garloff@ping.de</EM></A>)<BR>
<EM>Mon, 23 Nov 1998 20:56:49 +0100</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#502">[ date ]</A>
<A HREF="index.html#502">[ thread ]</A>
<A HREF="subject.html#502">[ subject ]</A>
<A HREF="author.html#502">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0503.html">Jeff Noxon: "IDE card for AS200?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0501.html">Jeff DeMaagd: "RE: Netbooting mini-HOWTO"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0487.html">Stig Telfer: "RE: Netbooting mini-HOWTO"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Fri, Nov 20, 1998 at 01:59:37PM -0600, Chris Price wrote:
<BR>
<EM>&gt; &gt; The above analysis is ok for a uni-processor system but
</EM><BR>
<EM>&gt; &gt; if you are concidering a multi-CPU system it should be because
</EM><BR>
<EM>&gt; &gt; you have many processes that you want to run all at the same
</EM><BR>
<EM>&gt; &gt; time.  Having even 16 CPUs will not make any one process go
</EM><BR>
<EM>&gt; &gt; faster.  It only allows you to run more processes without taking
</EM><BR>
<EM>&gt; &gt; a big preformence hit.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 	AFAIK, this is correct, but only on current non-threaded kernels
</EM><BR>
<EM>&gt; and programs not compiled/written for a threaded architecture. 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 	I thought I had read that the 2.2 kernels were built using
</EM><BR>
<EM>&gt; multi-threaded libraries (for the most part) and therefore would take
</EM><BR>
<EM>&gt; better advantage of SMP systems. 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; 	PLease feel free to fill me in on the multi-threaded pros and cons
</EM><BR>
<EM>&gt; of 2.2 kernels. I have a 4x233 Alphaserver 2100A available, and would love
</EM><BR>
<EM>&gt; to run some smokin Linux appas on it...
</EM><BR>
<P>The 2.1.1xx/2.2 kernels have significant performance improvements for SMP
<BR>
machines.
<BR>
On 2.0 kernels, every time a process entered kernel mode, i.e. performing a
<BR>
system call, no other CPU could enter kernel mode, so if one application was
<BR>
reading data from the network interface, another application had to wait for
<BR>
the network syscall to finish in order access the disks. System calls are
<BR>
relatively fast, so this didn't cause too much trouble.
<BR>
On 2.1/2.2 we have a much more fine grained locking mechanism. Of course,
<BR>
two processes can't perform sys calls on the same device at the same time.
<BR>
But we are able to do disk I/O and ethernet access at the same time now on
<BR>
MP machines.
<BR>
<P>For normal applications, this will cause a very slight performance
<BR>
advantage, only, because only syscalls will eventually be faster, cause they
<BR>
don't have to wait.
<BR>
You still have to write multithreaded applications (or have multiple
<BR>
processes) to really profit from MP machines. Not every job is easy to
<BR>
parallelize.
<BR>
<P>Both Linux-2.0 and 2.1/2 do support multithreaded applications.
<BR>
<P>BTW: Multithreaded programming isn't hard at all. You just have to take care
<BR>
to properly lock shared resources and use the linuxthreads package ...
<BR>
But still the user has to do it and properly design multithreaded
<BR>
applications. The compiler just doesn't have the info it'd need to
<BR>
parallelize things.
<BR>
<P><PRE>
-- 
Kurt Garloff &lt;<A HREF="mailto:K.Garloff@ping.de?subject=Re:%20Dual%20CPU%20price/performancem">K.Garloff@ping.de</A>&gt;  (Dortmund, FRG)
PGP key on <A HREF="http://student.physik.uni-dortmund.de/homepages/garloff">http://student.physik.uni-dortmund.de/homepages/garloff</A>
Unix IS user friendly - it's just selective about who its friends are!
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Dual%20CPU%20price/performancem">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Dual%20CPU%20price/performancem">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0503.html">Jeff Noxon: "IDE card for AS200?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0501.html">Jeff DeMaagd: "RE: Netbooting mini-HOWTO"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0487.html">Stig Telfer: "RE: Netbooting mini-HOWTO"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Mon Nov 23 1998 - 15:40:11 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
