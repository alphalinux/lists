<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Mailbox: Re: boot newly compiled kernels with aboot</TITLE>
<META NAME="Author" CONTENT="B. James Phillippe (bryan@terran.org)">
<META NAME="Subject" CONTENT="Re: boot newly compiled kernels with aboot">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: boot newly compiled kernels with aboot</H1>
<HR>
<P>
<!-- received="Tue Nov 17 19:52:36 1998 PST" -->
<!-- sent="Tue, 17 Nov 1998 10:54:10 -0800 (PST)" -->
<!-- name="B. James Phillippe" -->
<!-- email="bryan@terran.org" -->
<!-- subject="Re: boot newly compiled kernels with aboot" -->
<!-- id="Pine.LNX.4.04.9811171050170.6232-100000@earth.terran.org" -->
<!-- inreplyto="Pine.LNX.3.96.981117132412.3738A-100000@sasquatch.fccj.cc.fl.us" -->
<STRONG>B. James Phillippe</STRONG> (<A HREF="mailto:bryan@terran.org?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot"><EM>bryan@terran.org</EM></A>)<BR>
<EM>Tue, 17 Nov 1998 10:54:10 -0800 (PST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#223">[ date ]</A>
<A HREF="index.html#223">[ thread ]</A>
<A HREF="subject.html#223">[ subject ]</A>
<A HREF="author.html#223">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0224.html">Chris Albertson: "Re: Alpha's floating point performance"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0222.html">Jacek Perry: "Re: Alpha Raid Tools"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0154.html">Jacek Perry: "Alpha Raid Tools"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0225.html">Maciej W. Rozycki: "Re: boot newly compiled kernels with aboot"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
On Tue, 17 Nov 1998, Daniel Stringfield wrote:
<BR>
<P><EM>&gt; I'm going around in circles trying to get aboot to boot my custom compiled
</EM><BR>
<EM>&gt; kernels.  I've tried kernel versions 2.1.126 and 2.1.127.  
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; The kernels compile fine.  However, when I try to have aboot load them, it
</EM><BR>
<EM>&gt; gets to &quot;Loading compressed vmlinux.gz..&quot; and then errors with &quot;Block size
</EM><BR>
<EM>&gt; smaller than expected&quot;.
</EM><BR>
<P>Maciej Rozycki determined this problem was due to a deficiency in aboot,
<BR>
and he produced a patch which works flawlessly for me.  Here is an excerpt
<BR>
from his original email:
<BR>
<P><PRE>
---
<P>&gt;From <A HREF="mailto:macro@ds2.pg.gda.pl?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">macro@ds2.pg.gda.pl</A> Tue Nov 17 10:52:29 1998
Subject: Aboot fix update
Date: Thu, 20 Aug 1998 22:14:27 +0200 (MET DST)
From: Maciej W. Rozycki &lt;<A HREF="mailto:macro@ds2.pg.gda.pl?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">macro@ds2.pg.gda.pl</A>&gt;
To: B. James Phillippe &lt;<A HREF="mailto:bryan@terran.org?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">bryan@terran.org</A>&gt;, <A HREF="mailto:axp-list@redhat.com?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">axp-list@redhat.com</A>
<P>Hi,
<P> I found a little but serious error in the patch to aboot I posted
recently.  The error affects compressed images under certain
circumstances.  A new patch is attached to this message.  This patch
replaces the previous one which has te be reversed before the new one can
be applied. 
<P> The new versions of RPM packages are available in the usual place, i.e. 
at: 
<P><A HREF="ftp://ftp.amg.gda.pl/pub/OS/Linux/people/macro/SRPMS.glibc21/aboot-0.5-6.src.rpm">ftp://ftp.amg.gda.pl/pub/OS/Linux/people/macro/SRPMS.glibc21/aboot-0.5-6.src.rpm</A>
<P>and
<P><A HREF="ftp://ftp.amg.gda.pl/pub/OS/Linux/people/macro/RPMS.glibc21/alpha/aboot-0.5-6.alpha.rpm">ftp://ftp.amg.gda.pl/pub/OS/Linux/people/macro/RPMS.glibc21/alpha/aboot-0.5-6.alpha.rpm</A>
<P>Note that the binary package requires glibc 2.1 to be installed.  However,
the source package should compile against glibc 2.0 cleanly.
<P> Comments as always are encouraged.
<P>  Maciej
<P><PRE>
-- 
+  Maciej W. Rozycki, Technical University of Gdansk, Poland   +
+--------------------------------------------------------------+
+        e-mail: <A HREF="mailto:macro@ds2.pg.gda.pl?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">macro@ds2.pg.gda.pl</A>, PGP key available        +
<P><PRE>
---
<P>I also made a glibc-2.0 RPM from Maciej's sources and patch.  It is on
<A HREF="ftp://ftp.terran.org.">ftp://ftp.terran.org.</A>
<P>cheers,
-bp
<PRE>
--
B. James Phillippe	. <A HREF="mailto:bryan@terran.org?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">bryan@terran.org</A>
UNIX Software Engineer	. <A HREF="http://www.terran.org/~bryan">http://www.terran.org/~bryan</A>
Member since 1.1.59	. finger:<A HREF="mailto:bryan@earth.terran.org?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">bryan@earth.terran.org</A>
MOTM: Waiting for the DSL to go in :/
<P><P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20boot%20newly%20compiled%20kernels%20with%20aboot">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0224.html">Chris Albertson: "Re: Alpha's floating point performance"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0222.html">Jacek Perry: "Re: Alpha Raid Tools"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="0154.html">Jacek Perry: "Alpha Raid Tools"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0225.html">Maciej W. Rozycki: "Re: boot newly compiled kernels with aboot"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Tue Nov 17 1998 - 16:23:39 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
