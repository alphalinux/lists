<!-- received="Fri Jul  3 02:56:36 1998 " -->
<!-- sent="Fri, 3 Jul 1998 01:48:29 -0400 (EDT)" -->
<!-- name="Tim Rowley" -->
<!-- email="tor@cs.brown.edu" -->
<!-- subject="Patch for 24-plane TGA (ZLXp-E2)" -->
<!-- id="199807030548.BAA21970@boojum.cs.brown.edu" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Patch for 24-plane TGA (ZLXp-E2)</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Patch for 24-plane TGA (ZLXp-E2)</h2>

<b>Tim Rowley</b> (<a href="mailto:tor@cs.brown.edu"><i>tor@cs.brown.edu</i></a>)<br>
<i>Fri, 3 Jul 1998 01:48:29 -0400 (EDT)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#123">[ date ]</a><a href="index.html#123">[ thread ]</a><a href="subject.html#123">[ subject ]</a><a href="author.html#123">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0124.html">B. James Phillippe: "Re: Patch for 24-plane TGA (ZLXp-E2)"</a>
<li> <b>Previous message:</b> <a href="0122.html">Dave Wreski: "Re: XL300's serial speed?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Here's a patch that enables XFree86 to drive the 24-plane TGA<br>
card (ZLXp-E2, a.k.a. the onsale graphics card).  The Xserver<br>
will only run the card in 32-bit deep mode, and keeps the old<br>
limitations as the old TGA driver in regards to a single mode<br>
line, no virtual screen, etc...<br>
<p>
The patch isn't quite clean yet, as saving the card's initial<br>
card state isn't working correctly.  Instead of restoring the<br>
initial state I program the mode the Linux tga console driver<br>
uses.  This approach works fine currently, but if the console<br>
driver changes significantly, X may be unable to restore text<br>
mode properly.  I'm working on this...<br>
<p>
-tor<br>
<p>
begin 644 tga-patch.gz<br>
M'XL("'E$G#4  W1G82UP871C: #M&amp;FMSVL;V,_X5I^ZD%9%P] "L8*&lt;-!NS2<br>
M8IL!DKA-,QH,"U8J)$82?DSB_W[/V96,0 *#G6GNG;D&gt;#X_=/&gt;_WBJ$]&amp;D%A<br>
M!N&amp;X7_!\&gt;_P*/^P-Z*OXM%,H%)8V&lt;Z&gt;&gt;"Z=]'T 'M5PIE2J&amp; =KKU^:.+,MS<br>
MR%SO:@:_SQPZINL58[]BE,2QMV^A4"PJ99#Q=1_&gt;OMV!'VUWX,R&amp;#'81UIKZ<br>
M+&amp;!AL'&gt;UNP/)O=N16;[M]VE=7EP-!K[MQN&gt;';&amp;2[#"YJYV?'S1/KN%4]Z5KG<br>
M9ZT_EW%9-&lt;\=V6."(Y[*.O%4-A1SB2=V&amp;S(WL#TW&gt;#6&lt;3@1?/S)W:(^0GDR[<br>
MO@NV&amp;P)2[L^&lt;L.8YGO_&gt;#F9]I^;T@^!@1]Z!(.R']H ?0QG?]QU[&gt;.H-F42$<br>
M1G#&amp;V/!XY@Y"I-+VO= +[Z8LV 'ZJ]O!U.G?T&gt;EVZ"N&lt;5WV?V)3U_;*BJ9S=<br>
MW* ?,.C]V6Y8O9.JI1?;K&gt;I9HX(;N8;O&gt;_ZQM/LB@!=!!&gt;J-&amp;NB::JB !T$O<br>
M0MOIH[YJ5_84CKV9.]S[V]U5"# 7Z[#=.3]JU!7BO.F.O X;[+G]"&lt;L?[!3F<br>
MZ+N&gt;[]\I&lt;#E#":_8$F([ -&lt;+X8Z%$,RF4\\/&amp;:&lt;C4/@LG/FN=%QM=1NX(N=R<br>
M"4I#-@VOX TB7-ZYM,.@S?RV?&lt;L&lt;/&amp;#H:5!N$&amp;$+/-'S9XQ;AQ]&lt;8:[%&lt;ZB&amp;<br>
M2Y_U_SG(5/&amp;[[E];J-BHI[3,@T$W%:V(X6 8BBX"(D?^&gt;3F=(B_+FC@@KT"7<br>
MD&gt;C(#;/'5^&amp;&gt;SX;PY@VH\/4K));'/F-NUL:E,V-\/1^1$NN+U,0:V@&lt;@N+'#<br>
MP94@B5SEX0M:C6O#K)#]7KV$BVH59@$+T/9HZY&gt;O:#G-"DA(H%ZMF4=V"+^"<br>
M"14H"Q&gt;(E%R(K5))NE;3O::  7Q%QD&gt;&gt;#\C%'IBD(:3FN&lt;[=)FZU(PO-49*A<br>
M !,J@"^ _)N%*;&lt;1&lt;BY3U&amp;6(S-=CJ?D7@"S)HZV-I8_.1QK@WQZ4$.T]1Q$1<br>
MBF5ET-H]O=T#&lt;U"F+QO(;&gt;A;"LX=,TL3*6&lt;$\ULHPM"?K GQPM,Q$H6+8^3T<br>
MHGY2%2$JBD/15*.*E&gt;/Y7F3F#@L\9T:I&amp;\78+QT Q4/$.(0&gt;+@VG-NE'0-F4<br>
M2A)58^*Y=NCY&lt;RR4G(X\SP'I97= ^FKB :H.&gt;&lt;EG8SM 2! ;5 ]@ZB$6AA_P<br>
M+&gt;L%142QB"?"PW-SP*$%2T(^LX2"R26UJ&amp;BZ$!#/MUCX&lt;T FYD NN^$FK_J#<br>
M*SMD U0BVZ,_0@,YS'35P8 Y1$3B- LY"K8?R-0(-Q&gt;%O%6:BN\*RAJ%9'96<br>
M1\?(XQF 156@IG_*1$S*(W_&gt;%(9[#,\-@MM%D#F;6/$)*XA3@]'E_.#"(=X6<br>
M##/:*@MMA[U#W"%%7U,-5K2&gt;Z\Y&lt;^+WO I1XEU6,NJS]9)&lt;5G_V 4&lt;9;+8U:<br>
M+;U4T;1YJU72R'/Q58L\EVK7ATZSU[ ZC1-)\O,*K72JIYB9K&amp;ZC]ZY-&amp;_F#<br>
M7.[O]&amp;GI.O^3&gt;CL:Y;\2Y.&amp;AN0#-X:@IBINPHUZQ;%BM\VK=JM;K':F?A[_C<br>
M, 18Q"W.TC$$.#S4%&lt;CF:S6&amp;912:2FSV(XX7\#V"*8'HM^:S&gt;2$4@A=DYI=?<br>
MS)4,D1LNJHXCE"9*7[E&gt;4-VR8A'Q6FZD"1I+7V7JQP %\['ITQ:7YVWWY%(B<br>
M1B%G6?U@8EE@6=&gt;&gt;@[VOPRQ+VIU&lt;[E:P[%5V)VSB^7&gt;[V(!D1HN-&lt;34?1,2W<br>
M5*R(Y=RQ;T.=#0![)U6OJ$:EI)/[EY.A$AU=&amp;DK*^#^/%$.E2,%7,0!0AT"5<br>
M( C]V2#$.@BY&amp;8X!8Q&gt;CS?'&lt;,1R%F#8_JK&gt;Z^ND@M8DT.QB=?)OV'_2;PE$V<br>
M8ASKSMS8[M"["3X632)V'^'GQ0 'C'B\2*Y"MT.Q2))IJJ;H*LC8DBK%UUEI<br>
M0+U52\(?WU=;S7KD%E@#&amp;F[_TF'PWAXRCQ&lt;,*I)RS.".+!RQTZC6I0&gt;N)\I&lt;<br>
M@CYF;]Y"I%,!%WC)W2;&lt;2U=$&amp;YT7Q5L&lt;0*(&lt;*NV/]^22UYX]1,WTKQD&gt;( 4Q<br>
M"=WM2Z(,BS)7]WA]$QA$ZYK*!F;)JIW6+74E:X5&lt;M[,7&gt;&lt;0G&amp;B'6,KB:@K8)<br>
M!&gt;TY%%8FLR0%_3D4C$TH&amp;(]3&gt;&amp;@-UG;KN8SD_:BY&gt;'&gt;PA&lt;'645EML@4J&amp;QAM<br>
M'9759EN@LH'AUE%9;;H%*AL9;SY8Y/B\T/4F#$&lt;%=XQ-Y1B;UC'&lt;^)3?KAAO<br>
M)+'!Q'R!_?+(OH4"=L3&lt;NG0[HB:(4[8DXHF\$W\\L:JUFA+MD#"TI"ZPCM#:<br>
M-M#:,K2^#;0&gt;08^F/F:&lt;D12$0^9CH[[[X@+X/UT!).52DFPJ2:JB-T!&lt;/'4I<br>
M\#G^OIQ6H[:A&gt;58__V#QNXJC:G2ILJ)%B9A_+/$*2= JDHTJP,CZ3&amp;\'8,,A<br>
M:&amp;5\E^5\9.NYON*J]5F6-_/+[P.*Y2+JW-%K&gt;5E 5 \5/!/';^&gt;=YE]QPYL\<br>
MGAWF[QN=7G2:%^220;V&amp;9A85(YJWFK6N5BKK-&lt;&lt;;_--E#LY7DE[2]DO1^+9H<br>
MN@0]_5-FW&gt;ZP ELJW&gt;0PN'.,-G2]&amp;^"WK!1O+=N=W&lt;+ &lt;W$ 96*B#B@&gt;%^(P<br>
M1T-IHB5='W0*J+=%$7H; VD$I)K; &gt;ES2O-&lt;@4*B&lt;,@Y ^$*O)?C,@57WLP9<br>
M\J: BCZF)]M=:A$2,B^4GQ]$^5F.PG\O!G-;!F'*95+!D36!?!_05R_GW6\:<br>
M"_J%^G5953B49&amp;%:BT7[%EC,C7F)VI-[GE;B%".NF&lt;0UOL:'&lt;[UL*H9HR\5H<br>
MA\58^+YZ&gt;WRL1"OMYD6C99U6NW]02N!M..]PY34/$$1[+GIXB4[GB0U^/9+&lt;<br>
MR&lt;_S'^_5H_Y8GO?MVP7]%E BZK&gt;%XF%?4^/*M $DS\:D/,$GCK&amp;;49S#:4^$<br>
MTY\(9W#-C+:0\:C5//LC(&gt;3&amp;:DT ;F&gt;/!*#^5$!C#I@U)ZY.IL_M9Y*9-)U"<br>
MGY^%GI=]GIYU&gt;,+A$_"Z1XO1C8$8DND:L_6N%Z4(GIIT3=%-D U,425Q(?*%<br>
MIZ&gt;'V;D@G@*&lt;8!/!$Q1V]=.^X[ PY'-9(97*5#5.9?Q6K%UMB:T\?\:4.9+4<br>
MJ[TJ'5P]4')08&lt;&lt;W9,5#O30W8D$D&lt;,\9.K/PH_UISW]\JET&amp;&amp;6\/&lt;KD1"'_X<br>
M\NCS*'[GDA)22\FXPE43.LR^K/W^X/=1M5WC2W)\Y[F9-\D9/&amp;WH3P(T&gt;EOE<br>
M5G%WL(U?I6$&gt;=ZPTS..&gt;)6#N12Y=[34QZJ&lt;:[K\#_CXC-/9U&gt;I/?%.=BKMQ&gt;<br>
MU&gt;&amp;52IMQL;+/W%"*[PW/PR_V=OK /RX^$.;#Y,QUZ;X&amp;9Z6'GT;0-'7#8.BY<br>
M/X?1U&lt;V5'2BX@,N_IBYPED*\;*P*\87B3Z+$/45*SJ@&lt;HG2-7J^1JO?_#^C%<br>
MEN5!3]0V;!N0_Q+\_6I[9&lt;3URL#]'Y'V&amp;V@K'MNB9$BKV,=1.\=_&gt;='KO&amp;OP<br>
M89&amp;W="63?BTF&amp;_NFLM#1+;4@#[]P,OEOR.@W0CR9Q,,BYHWH1Q+==^WV&gt;:&gt;G<br>
=%SF&gt;Z 'YPF!)9Z.Q%__B-C,&gt;8/\#I].T=7\H  "9<br>
 <br>
end<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0124.html">B. James Phillippe: "Re: Patch for 24-plane TGA (ZLXp-E2)"</a>
<li> <b>Previous message:</b> <a href="0122.html">Dave Wreski: "Re: XL300's serial speed?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
