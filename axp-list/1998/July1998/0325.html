<!-- received="Sat Jul  4 17:54:29 1998 " -->
<!-- sent="Tue, 26 May 1998 11:19:02 -0700" -->
<!-- name="William C Bonner" -->
<!-- email="wbonner@lgx.com" -->
<!-- subject="Re: syslogd again" -->
<!-- id="355CA2BB.2238@njcc.com" -->
<!-- inreplyto="syslogd again" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: syslogd again</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: syslogd again</h2>

<b>William C Bonner</b> (<a href="mailto:wbonner@lgx.com"><i>wbonner@lgx.com</i></a>)<br>
<i>Tue, 26 May 1998 11:19:02 -0700</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#325">[ date ]</a><a href="index.html#325">[ thread ]</a><a href="subject.html#325">[ subject ]</a><a href="author.html#325">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0326.html">Maurice Hilarius: "Re: Questions about 433a"</a>
<li> <b>Previous message:</b> <a href="0324.html">Christopher Curtis: "ifconfig questions"</a>
<li> <b>Maybe in reply to:</b> <a href="0019.html">Paul Tomblin: "syslogd again"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
I've seen these same problems on my SX164 machine.  I've not gotten any<br>
useful information, and don't even know what package the syslogd is part<br>
of. (if I want to get the sources myself and try to figure out what is<br>
going on)  <br>
<p>
I was able to avoid the problem simply by not running syslogd, but that<br>
is not a satisfactory condition.  That's what I've been doing though<br>
since it seems that the problem occurs when (in my case) the ftp daemon<br>
makes lots of connections to the logger.  I'm running this on a heavily<br>
used ftp site, and having the site go down is not good.  Killing off the<br>
logger made the site stable, and since I'm getting ftp stats from the<br>
ftpd directly, it seeemd the best policy.<br>
<p>
I was able to kill off the syslogd successfully most of the time<br>
though.  I simply ran "/etc/rc.d/init.d/syslog stop" to shut it down.<br>
<p>
Paul Tomblin wrote:<br>
<i>&gt; I see from the archives that I'm not the only person suffering from this, but</i><br>
<i>&gt; I wonder if anybody has a good lead on a cure, or if RedHat is working on it?</i><br>
<i>&gt; Even a good work-around would be nice.</i><br>
<i>&gt; </i><br>
<i>&gt; The system:</i><br>
<i>&gt; DEC UDB, 166MHz, 96Mb RAM, 2 SCSI drives, SCSI CD-ROM, 17" monitor.  Connected</i><br>
<i>&gt; to my ISP via PPP and a crappy old external modem (V.FAST, not V.42).</i><br>
<i>&gt; Connected via 10baseT ethernet to a RedHat/Intel box which NFS mounts some of</i><br>
<i>&gt; its drives, and a Mac which is going to be sharing a printer as soon as I</i><br>
<i>&gt; figure out how to configure netatalk.  Both the Intel box and the Mac use the</i><br>
<i>&gt; Alpha as their gateway to the net using IP forwarding.</i><br>
<i>&gt; </i><br>
<i>&gt; The software:</i><br>
<i>&gt; RedHat 5.0, all the updates from the Errata ftp site (kept in sync using</i><br>
<i>&gt; autorpm).  Mostly set up as a news and mail server, running innd and sendmail,</i><br>
<i>&gt; and several majordomo mailing lists.</i><br>
<i>&gt; </i><br>
<i>&gt; The problem:</i><br>
<i>&gt; Frequently, I'll wake up in the morning (or it can happen mid-day too) to find</i><br>
<i>&gt; my machine running at a load average 1.0 and several processes wedged.  A look</i><br>
<i>&gt; at /var/log/messages shows the following:</i><br>
<i>&gt; </i><br>
<i>&gt; May 25 23:46:16 canoe identd[7368]: Successful lookup: 18718 , 25 : majordomo.majordomo</i><br>
<i>&gt; May 25 23:46:16 canoe syslogd: select: Bad file descriptor</i><br>
<i>&gt; May 25 23:46:47 canoe last message repeated 40770 times</i><br>
<i>&gt; May 25 23:47:48 canoe last message repeated 81780 times</i><br>
<i>&gt; ...</i><br>
<i>&gt; </i><br>
<i>&gt; When I spotted this in the morning, I attempted to "killall -1 syslogd", which</i><br>
<i>&gt; didn't help:</i><br>
<i>&gt; </i><br>
<i>&gt; May 26 06:48:12 canoe last message repeated 45192 times</i><br>
<i>&gt; May 26 06:48:12 canoe syslogd 1.3-3: restart.</i><br>
<i>&gt; May 26 06:48:12 canoe syslogd: select: Bad file descriptor</i><br>
<i>&gt; May 26 06:48:43 canoe last message repeated 21332 times</i><br>
<i>&gt; May 26 06:49:44 canoe last message repeated 47240 times</i><br>
<i>&gt; May 26 06:49:57 canoe last message repeated 10698 times</i><br>
<i>&gt; </i><br>
<i>&gt; So I tried to kill syslogd.  BIG MISTAKE!  The load average climbed into the</i><br>
<i>&gt; stratosphere, and even "shutdown -h now" didn't help.  I had to power down.</i><br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0326.html">Maurice Hilarius: "Re: Questions about 433a"</a>
<li> <b>Previous message:</b> <a href="0324.html">Christopher Curtis: "ifconfig questions"</a>
<li> <b>Maybe in reply to:</b> <a href="0019.html">Paul Tomblin: "syslogd again"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
