<!-- received="Tue Jul 28 12:51:41 1998 " -->
<!-- sent="Mon, 27 Jul 1998 23:21:55 +0200 (MET DST)" -->
<!-- name="Michael Engel" -->
<!-- email="engel@numerik.math.uni-siegen.de" -->
<!-- subject="aboot expert help wanted ..." -->
<!-- id="199807272121.XAA23645@fourier.numerik.math.uni-siegen.de" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>aboot expert help wanted ...</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>aboot expert help wanted ...</h2>

<b>Michael Engel</b> (<a href="mailto:engel@numerik.math.uni-siegen.de"><i>engel@numerik.math.uni-siegen.de</i></a>)<br>
<i>Mon, 27 Jul 1998 23:21:55 +0200 (MET DST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#802">[ date ]</a><a href="index.html#802">[ thread ]</a><a href="subject.html#802">[ subject ]</a><a href="author.html#802">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0803.html">Linh C. Nguyen: "what the cause for this ppp problem??"</a>
<li> <b>Previous message:</b> <a href="0801.html">Secret Asian Man: "Suggestions for compiling WindowMaker on Alpha?"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0817.html">Martin Ostermann: "Re: aboot expert help wanted ..."</a>
<li> <b>Reply:</b> <a href="0817.html">Martin Ostermann: "Re: aboot expert help wanted ..."</a>
<li> <b>Maybe reply:</b> <a href="0818.html">Wes Bauske: "Re: aboot expert help wanted ..."</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Hi,<br>
<p>
[sorry if you already saw a similar posting on the alpha-kernel-list with a<br>
 title of "TurboChannel Alpha". As I got no messages on that list over<br>
 the last few days, I decided to try it here with a different subject.]<br>
<p>
I'd like to start a port of Linux to the TurboChannel DEC3000 Alpha systems.<br>
This will be based on (of course) the existing Alpha sources and code <br>
and experience from the DECstation port (if you're interested in that,<br>
please take a look at <a href="http://decstation.unix-ag.org">http://decstation.unix-ag.org</a>) - the DECstation<br>
systems 5000/2x (codenamed "Maxine") are very similar to the TurboChannel<br>
Alpha systems, they use the same ASIC as well as NCR53C94 SCSI <br>
controllers, Z8530 SCCs, Lance ethernet etc .... I bought a used<br>
DEC 3000/300X some days ago (48 MB RAM, RZ26 hard disk, PMAGD-AA<br>
3D accelerated graphics adapter) and started experimenting.<br>
<p>
The first thing I tried was compiling aboot. The most recent version<br>
I found was 0.5 - could someone please confirm that this is the latest<br>
version? After some tweaking aboot compiled fine on my AXPpci33 (the <br>
definition of memset in include/asm-alpha/string.h used __constant_c_memset <br>
which wasn't defined anywhere. Btw., I'm using kernel 2.0.34 at the moment). <br>
When booting aboot from a SCSI floppy drive, I get the following output:<br>
<p>
aboot: Linux/Alpha SRM bootloader version 0.5<br>
<p>
?02 KSP INVAL<br>
  PC= 00000000.00000000 PSL= 00000000.00001F00<br>
<p>
<i>&gt;&gt;&gt;   </i><br>
 <br>
It seems that $30 (ksp), which is used to save registers in the dispatch<br>
subroutine, is neither initialized by the firmware nor the aboot code and<br>
that causes the crash. As I'm new to Alpha assembler, I'm not quite sure how <br>
to initialize the stack pointer correctly. I tried<br>
<p>
stack:	.quad	0,0,0,0,0,0,0,0,0,0,0 .....<br>
	/* define a couple of empty quads, actually about 128 quads */ <br>
<p>
and then <br>
	lda	$30, stack<br>
<p>
which immediately caused the machine to crash :(. I'm almost sure this is _not_<br>
the correct way to initialise the stack, but I'm not sure how to do it right,<br>
maybe it's only an alignment issue or perhaps s.th. completely different ...<br>
Opinions from Alpha assembler experts, please ? ;)<br>
<p>
Btw., what literature would you suggest for learning Alpha assembler ? I have<br>
digital's Alpha Architecture Manual and OSF/1 Assembly Programming Guide here,<br>
is there something else ?<br>
<p>
Any help is greatly appreciated,<br>
best regards,<br>
	Michael Engel	(<a href="mailto:engel@numerik.math.uni-siegen.de">engel@numerik.math.uni-siegen.de</a>)<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0803.html">Linh C. Nguyen: "what the cause for this ppp problem??"</a>
<li> <b>Previous message:</b> <a href="0801.html">Secret Asian Man: "Suggestions for compiling WindowMaker on Alpha?"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0817.html">Martin Ostermann: "Re: aboot expert help wanted ..."</a>
<li> <b>Reply:</b> <a href="0817.html">Martin Ostermann: "Re: aboot expert help wanted ..."</a>
<li> <b>Maybe reply:</b> <a href="0818.html">Wes Bauske: "Re: aboot expert help wanted ..."</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
