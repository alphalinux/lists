<!-- received="Wed Feb  4 15:48:45 1998 " -->
<!-- sent="Wed, 04 Feb 1998 14:44:16 -0600" -->
<!-- name="SubGenius" -->
<!-- email="subg@atheist.tamu.edu" -->
<!-- subject="Matrox Millennium II, Miata, MILO" -->
<!-- id="199802042044.OAA25019@atheist.tamu.edu" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Matrox Millennium II, Miata, MILO</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Matrox Millennium II, Miata, MILO</h2>

<b>SubGenius</b> (<a href="mailto:subg@atheist.tamu.edu"><i>subg@atheist.tamu.edu</i></a>)<br>
<i>Wed, 04 Feb 1998 14:44:16 -0600</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#13">[ date ]</a><a href="index.html#13">[ thread ]</a><a href="subject.html#13">[ subject ]</a><a href="author.html#13">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0014.html">Michael Mysz: "Re: Newbie problems installing RH4.2 on AXP Mikasa"</a>
<li> <b>Previous message:</b> <a href="0012.html">Gavin Woodhatch: "Re: DEC box with linux?!"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
-----BEGIN PGP SIGNED MESSAGE-----<br>
<p>
<p>
...and several other things starting with `M'.<br>
<p>
This is a long and boring problem report.  If you're subscribed[1]<br>
to axp-list for the witty repartee, you'll be wanting to move along now.<br>
<p>
The system:  A Personal Workstation 600au with 320 MB of physical<br>
memory, a Qlogics ISP SCSI controller, two 9 GB disks, an 8MB Matrox<br>
Millennium II, a 21" DEC monitor, and a VT520 attached as a serial console.<br>
I've been using 2.0.30, 2.1.82 and 2.1.84 kernels.<br>
<p>
Problem the First:<br>
<p>
   Linux boots from SRM without any problems, but when X is started, one <br>
   of two things happens:<br>
<p>
      -An error is logged saying that the SVGA chipset `generic' is<br>
       invalid (output from xinit appended below)<br>
      -The machine gets wedged. With the 2.0.30 kernels I've tried,<br>
       xinit (and/or startx) would log some errors before the machine<br>
       went into vapour lock.  With the 2.1.x kernels, the machine<br>
       locks up before any output is made.<br>
       When output was generated, it typically included an `X server<br>
       slow to shut down' error.  A copy of this error message is<br>
       appended below.<br>
<p>
   If Xconfigurator is allowed to do whatever testing it does during<br>
   the `your screen will flash several times' phase of configuration,<br>
   the machine hangs.  It does identify the card correctly, however.<br>
   I've tried using XF86Config files generated by Xconfigurator<br>
   via manual selection of the card and monitor as well as a config<br>
   file created on a PC164 with a Millennium II (which works for<br>
   it).<br>
<p>
<p>
   When the machine is booted using AlphaBIOS and MILO, one of<br>
   two things happens:<br>
<p>
      -With MILO 2.0.30 (either compiled on the machine in question<br>
       or taken from the RH 5.0 media), the machine hangs after<br>
       a boot command is entered, immediately following the banner<br>
       message from the qlogics driver<br>
      -With other MILOS (a 2.0.31 compiled on the machine in question,<br>
       and the miata MILO image in the alphabios directory<br>
       on ftp.digital.com ), messages of the form:<br>
<p>
          +[hex number] [hex number] [hex number]<br>
<p>
       ...are echoed to the serial console (a VT520) apparently<br>
       indefinitely (or at least essentially indefinitely---I left<br>
       it doing its thing, went to lunch and it was still spewing away<br>
       when I got back).<br>
<p>
   When it is starting (before the MILO&gt; prompt), MILO generally (although<br>
   not consistantly) will produce a short string of a dozen or so of<br>
   the above hex addresses, say it is trying to use TGA, and then<br>
   complain that it can't.  All of this occurs on the serial console;<br>
   the virtual console is idle after MILO starts, although all of the<br>
   SRM/AlphaBIOS configuration and suchlike has no problem with the<br>
   virtual console.<br>
   <br>
<p>
Here's the `generic' chipset error:<br>
<p>
<p>
   _XSERVTransSocketOpen: socket() failed for local<br>
   _XSERVTransSocketOpenCOTSServer: Unable to open socket for local<br>
   _XSERVTransOpen: transport open failed for local/meshuga:0<br>
   _XSERVTransMakeAllCOTSServerListeners: failed to open listener for local<br>
   _X11TransSocketOpen: socket() failed for local<br>
   _X11TransSocketOpenCOTSClient: Unable to open socket for local<br>
   _X11TransOpen: transport open failed for local/meshuga:0<br>
<p>
   waiting for X server to begin accepting connections <br>
   XFree86 Version 3.3.1 / X Window System<br>
   (protocol Version 11, revision 0, vendor release 6300)<br>
   Release Date: August 4 1997<br>
	   If the server is older than 6-12 months, or if your card is newer<br>
	   than the above date, look for a newer version before reporting<br>
	   problems.  (see <a href="http://www.XFree86.Org/FAQ">http://www.XFree86.Org/FAQ</a>)<br>
   Operating System: Linux 2.0.30 alpha [ELF] <br>
   Configured drivers:<br>
     SVGA: server for SVGA graphics adaptors (Patchlevel 0):<br>
      mga2064w, mga1064sg, mga2164w, s3_virge<br>
      (using VT number 7)<br>
<p>
   XF86Config: /usr/X11R6/lib/X11/XF86Config<br>
   (**) stands for supplied, (--) stands for probed/default values<br>
   (**) XKB: keycodes: "xfree86"<br>
   (**) XKB: types: "default"<br>
   (**) XKB: compat: "default"<br>
   (**) XKB: symbols: "us(pc101)"<br>
   (**) XKB: geometry: "pc"<br>
   (**) XKB: rules: "xfree86"<br>
   (**) XKB: model: "pc101"<br>
   (**) XKB: layout: "us"<br>
   (**) Mouse: type: PS/2, device: /dev/mouse, baudrate: 1200<br>
   (**) SVGA: Graphics device ID: "Generic VGA"<br>
   (**) SVGA: Monitor ID: "My Monitor"<br>
   (--) SVGA: Mode "1024x768" needs hsync freq of 62.50 kHz. Deleted.<br>
   (--) SVGA: Mode "1280x1024" needs hsync freq of 64.25 kHz. Deleted.<br>
   (--) SVGA: Mode "1280x1024" needs hsync freq of 78.86 kHz. Deleted.<br>
   (--) SVGA: Mode "1280x1024" needs hsync freq of 81.13 kHz. Deleted.<br>
   (--) SVGA: Invalid vertical timing for mode "400x300". Deleted.<br>
   (**) FontPath set to "/usr/X11R6/lib/X11/fonts/misc/,/usr/X11R6/lib/X11/fonts/Type1/,/usr/X11R6/lib/X11/fonts/Speedo/,/usr/X11R6/lib/X11/fonts/75dpi/,/usr/X11R6/lib/X11/fonts/100dpi/"<br>
   (--) SVGA: PCI: Matrox MGA 2164W rev 0, Memory @ 0x0a000000, 0x0b000000<br>
   SVGA: 'generic' is an invalid chipset<br>
    *** None of the configured devices were detected.***<br>
<p>
<p>
   Fatal server error:<br>
   no screens found<br>
<p>
   When reporting a problem related to a server crash, please send<br>
   the full server output, not just the last messages<br>
<p>
   .<br>
   _X11TransSocketOpen: socket() failed for local<br>
   _X11TransSocketOpenCOTSClient: Unable to open socket for local<br>
   _X11TransOpen: transport open failed for local/meshuga:0<br>
   giving up.<br>
   xinit:  Invalid argument (errno 22):  unable to connect to X server<br>
   xinit:  No such process (errno 3):  Server error.<br>
<p>
<p>
<p>
...and here's the `X server slow to shut down' error:<br>
<p>
<p>
   xinit:  unexpected signal 2<br>
<p>
   waiting for X server to shut down <br>
   XFree86 Version 3.3.1 / X Window System<br>
   (protocol Version 11, revision 0, vendor release 6300)<br>
   Release Date: August 4 1997<br>
	   If the server is older than 6-12 months, or if your card is newer<br>
	   than the above date, look for a newer version before reporting<br>
	   problems.  (see <a href="http://www.XFree86.Org/FAQ">http://www.XFree86.Org/FAQ</a>)<br>
   Operating System: Linux 2.0.30 alpha [ELF] <br>
   Configured drivers:<br>
     SVGA: server for SVGA graphics adaptors (Patchlevel 0):<br>
         .mga2064w, mga1064sg, mga2164w, s3_virge<br>
   (using VT number 7)<br>
   <br>
   XF86Config: /usr/X11R6/lib/X11/XF86Config<br>
   (**) stands for supplied, (--) stands for probed/default values<br>
   (**) XKB: keycodes: "xfree86"<br>
   (**) XKB: types: "default"<br>
   (**) XKB: compat: "default"<br>
   (**) XKB: symbols: "us(pc101)"<br>
   (**) XKB: geometry: "pc"<br>
   (**) XKB: rules: "xfree86"<br>
   (**) XKB: model: "pc101"<br>
   (**) XKB: layout: "us"<br>
   (**) Mouse: type: PS/2, device: /dev/mouse, baudrate: 1200<br>
   (**) SVGA: Graphics device ID: "Generic VGA"<br>
   (**) SVGA: Monitor ID: "My Monitor"<br>
   (--) SVGA: Mode "1024x768" needs hsync freq of 56.48 kHz. Deleted.<br>
   (--) SVGA: Mode "1024x768" needs hsync freq of 62.50 kHz. Deleted.<br>
   (--) SVGA: Mode "1280x1024" needs hsync freq of 64.25 kHz. Deleted.<br>
   (--) SVGA: Mode "1280x1024" needs hsync freq of 78.86 kHz. Deleted.<br>
   (--) SVGA: Mode "1280x1024" needs hsync freq of 81.13 kHz. Deleted.<br>
   (--) SVGA: Invalid vertical timing for mode "400x300". Deleted.<br>
   .(**) FontPath set to "/usr/X11R6/lib/X11/fonts/misc/,/usr/X11R6/lib/X11/fonts/Type1/,/usr/X11R6/lib/X11/fonts/Speedo/,/usr/X11R6/lib/X11/fonts/75dpi/,/usr/X11R6/lib/X11/fonts/100dpi/"<br>
   ........<br>
<p>
   xinit:  X server slow to shut down, sending KILL signal.<br>
   <br>
   waiting for server to die <br>
   <br>
<p>
And that's the first problem.<br>
<p>
<p>
Problem the Second:<br>
<p>
   I also have a PowerStorm card that runs quite nicely under OSF, which<br>
   is on one of the two disks in the machine.  Given that it is not<br>
   supported under XFree86, I would like to be able to boot the machine<br>
   with both it and the Millennium II in the box, and select between<br>
   the two cards with a switchbox.<br>
   When I've tried, however, I observe one of (you got it) two<br>
   behaviours:<br>
<p>
      -Nothing.  The machine doesn't boot, and nothing shows up<br>
       with either video card selected (on the switchbox)<br>
      -The console on the line connected to the PowerStorm reports<br>
       that an unsupported card is detected in slot [number].<br>
       With the Matrox in the same slot and the PowerStorm removed,<br>
       the machine boots normally[2].<br>
<p>
   So, is this doable?<br>
<p>
<p>
That's it for now.  I eagerly await the 2-line solution to<br>
this 200-line problem.  You may begin working...now.  Use only a<br>
number 2 pencil.  Be specific.  Use Pythagorean Thorem.<br>
<p>
<p>
<p>
<p>
Yours etc.,<br>
<p>
<p>
SubGenius<br>
<p>
<p>
- -----<br>
1     Suscrive.  Suscribe.  Sussrive.  Subcrive.  Subscrive....<br>
2     `Normally' here being modified by the abovedescribed problems.<br>
<p>
-----BEGIN PGP SIGNATURE-----<br>
Version: 2.6.2<br>
<p>
iQCVAwUBNNjEbw7yGfMg5eedAQEhjAP8DeRciPlWOYscdbG+Pmnp8yQqXQQOzL7x<br>
IdPfSXCPa89amxi8r9VFy6PJ3QFwwJKAhrHWwwglO1ifCQRosiLA1IgFUgYhYtlL<br>
wZRGfdGY7AJItavMgAkfhtqZ3rhRzoca9siquFAD27ablU3Z2iqYexg0wuY7fRJE<br>
G/P9v4LrODE=<br>
=WoRr<br>
-----END PGP SIGNATURE-----<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0014.html">Michael Mysz: "Re: Newbie problems installing RH4.2 on AXP Mikasa"</a>
<li> <b>Previous message:</b> <a href="0012.html">Gavin Woodhatch: "Re: DEC box with linux?!"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
