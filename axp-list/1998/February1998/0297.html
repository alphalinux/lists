<!-- received="Tue Feb 24 14:24:59 1998 " -->
<!-- sent="Tue, 24 Feb 1998 17:50:49 +0100 (MET)" -->
<!-- name="Hugo van der Kooij" -->
<!-- email="hvdkooij@caiw.nl" -->
<!-- subject="alpha patches against 2.0.33" -->
<!-- id="199802241548.QAA10961@alpha.mdy.univie.ac.at" -->
<!-- inreplyto="ео	@ео	@request@redhat.com with
(" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>alpha patches against 2.0.33</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>alpha patches against 2.0.33</h2>

<b>Hugo van der Kooij</b> (<a href="mailto:hvdkooij@caiw.nl"><i>hvdkooij@caiw.nl</i></a>)<br>
<i>Tue, 24 Feb 1998 17:50:49 +0100 (MET)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#297">[ date ]</a><a href="index.html#297">[ thread ]</a><a href="subject.html#297">[ subject ]</a><a href="author.html#297">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0298.html">Brett_A._Letner@notes.up.com: "KDE compile problem"</a>
<li> <b>Previous message:</b> <a href="0296.html">Hugo van der Kooij: "Re: 2.0.34...?"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0408.html">warp@alpha.kimitsu.com: "Re: alpha patches against 2.0.33"</a>
<li> <b>Maybe reply:</b> <a href="0408.html">warp@alpha.kimitsu.com: "Re: alpha patches against 2.0.33"</a>
<!-- reply="end" -->
</ul>
<!-- body="start" -->
  This message is in MIME format.  The first part should be readable text,<br>
  while the remaining parts are likely unreadable without MIME-aware tools.<br>
  Send mail to <a href="mailto:mime@docserver.cac.washington.edu">mime@docserver.cac.washington.edu</a> for more info.<br>
<p>
---1463811839-864135347-888339049=:25328<br>
Content-Type: TEXT/PLAIN; charset=US-ASCII<br>
<p>
<p>
I have bundled all patches to gettehr I have so far and created a patchkit<br>
for 2.0.33 kernels.<br>
<p>
It can be found on ftp.nllgg.nl in /pub/linux/alpha for the moment.<br>
<p>
The instructions below (and enclosed) can be found on:<br>
	<a href="http://www.nllgg/nl/linux/Alpha/RHL5kernel.html">http://www.nllgg/nl/linux/Alpha/RHL5kernel.html</a><br>
<p>
Enjoy,<br>
Hugo.<br>
<p>
PS: The various hints have been incorporated in the patch file and the<br>
document.<br>
<p>
	+------------------------+------------------------------+<br>
<i>	| Hugo van der Kooij     | <a href="mailto:Hugo.van.der.Kooij@caiw.nl">Hugo.van.der.Kooij@caiw.nl</a>   |</i><br>
<i>	| Oranje Nassaustraat 16 | <a href="http://www.caiw.nl/~hvdkooij">http://www.caiw.nl/~hvdkooij</a> |</i><br>
<i>	| 3155 VJ  Maasland      | (De man met de rode hoed)    |</i><br>
	+------------------------+------------------------------+<br>
    "Computers let you make more mistakes faster than any other invention in <br>
      human history, with the possible exception of handguns and tequila."<br>
		(Mitch Radcliffe)<br>
<p>
  ______________________________________________________________________<br>
<p>
  Fixing Red Hat Linux 5.0 for the Alpha with a newer kernel<br>
  Hugo van der Kooij &lt;<a href="mailto:hvdkooij@caiw.nl">hvdkooij@caiw.nl</a>&gt;<br>
  Version 1.1; dated: Februari 24, 1998<br>
<p>
  In the process of trying to get C++ code compiling properly on a Red<br>
  Hat Linux 5.0 Alpha system I had lots of problems.  Eventually I<br>
  upgraded the system to a newer kernel and most problems were solved.<br>
  This document will give you a quick tour on how to to fix this your-<br>
  self.<br>
  ______________________________________________________________________<br>
<p>
  1. Getting the proper kernel and fixes<br>
<p>
     1.1 Kernel<br>
     1.2 Alpha patches<br>
<p>
  2. Rolling your own kernel<br>
<p>
     2.1 Move over the old one<br>
     2.2 Install the new kernel<br>
     2.3 Patching the kernel<br>
     2.4 Cleaning up<br>
<p>
  3. Remarks<br>
<p>
  ______________________________________________________________________<br>
<p>
  1.  Getting the proper kernel and fixes<br>
<p>
  We need to get the newer kernel and the proper Alpha patches first.<br>
<p>
<p>
  1.1.  Kernel<br>
<p>
  We get the kernel sources from ftp.kernel.org and I used:<br>
  <a href="ftp://ftp.kernel.org/pub/linux/kernel/v2.0/linux-2.0.33.tar.bz2">ftp://ftp.kernel.org/pub/linux/kernel/v2.0/linux-2.0.33.tar.bz2</a><br>
<p>
  In case you don't have bzip2 you can use the larger gzip version:<br>
  <a href="ftp://ftp.kernel.org/pub/linux/kernel/v2.0/linux-2.0.33.tar.gz">ftp://ftp.kernel.org/pub/linux/kernel/v2.0/linux-2.0.33.tar.gz</a><br>
<p>
<p>
  1.2.  Alpha patches<br>
<p>
  We need a patch file from ftp.nllgg.nl:<br>
  <a href="ftp://ftp.nllgg.nl/pub/linux/alpha/alpha-patches-2.0.33-0.1.gz">ftp://ftp.nllgg.nl/pub/linux/alpha/alpha-patches-2.0.33-0.1.gz</a><br>
<p>
  It should go to gatekeeper.dec.com for this kernel:<br>
  <a href="ftp://gatekeeper.dec.com/pub/DEC/Linux-Alpha/Kernels/alpha-">ftp://gatekeeper.dec.com/pub/DEC/Linux-Alpha/Kernels/alpha-</a><br>
  patches-2.0.33-0.1.gz<br>
<p>
  You may make a bookmark for the following URL as there is plenty of<br>
  stuff there: <a href="ftp://gatekeeper.dec.com/pub/DEC/Linux-Alpha/">ftp://gatekeeper.dec.com/pub/DEC/Linux-Alpha/</a><br>
<p>
<p>
  2.  Rolling your own kernel<br>
<p>
  2.1.  Move over the old one<br>
<p>
  We move over the old one by removing a symbolic link.<br>
<p>
       cd /usr/src/<br>
       rm linux<br>
<p>
<p>
  2.2.  Install the new kernel<br>
<p>
  We install the new kernel by unpacking the tar file<br>
<p>
  If you use the linux-2.0.33.tar.gz file you can do:<br>
<p>
       cd /usr/src<br>
       tar -xvzf linux-2.0.33.tar.gz<br>
<p>
<p>
  2.3.  Patching the kernel<br>
<p>
  Now we are going to apply that patch.<br>
<p>
       cd /usr/src/linux<br>
       gzip -d &lt; alpha-patches-2.0.33-0.1.gz | patch -p1<br>
<p>
<p>
  2.4.  Cleaning up<br>
<p>
  To clean up the lot we will make it clean properly.<br>
<p>
       cd /usr/src/linux<br>
       make distclean<br>
<p>
  And we store it under the proper kernel version with a decent link.<br>
<p>
       cd /usr/src<br>
       mv linux linux-2.0.33<br>
       ln -s linux-2.0.33 linux<br>
<p>
<p>
  3.  Remarks<br>
<p>
  Just some remarks to finish it off:<br>
<p>
<p>
  o  Don't try to run make menuconfig or make xconfig as these are<br>
     (partialy) broken. Always use make config to configure the kernel.<br>
<p>
  o  If you link /usr/src/linux to the old kernel (2.0.30) you will get<br>
     an awfull lot of problems with compiling gcc c++ code!<br>
<p>
  o  Remember to optimize your kernel for the machine.<br>
<p>
  o  And don't forget that although this worked fine for me and<br>
     apparantly for plenty of others it may not work for you.<br>
<p>
  o  I did test it quite extensively on a Digital Alpha XL 300 (Alpha-<br>
     XLT) so other system may not work as well with this procedure.<br>
<p>
  Enjoy, Hugo.<br>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
---1463811839-864135347-888339049=:25328<br>
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="RHL5kernel.sgml"<br>
Content-Transfer-Encoding: BASE64<br>
Content-ID: &lt;<a href="mailto:Pine.LNX.3.96.980224175049.25328B@hvdkooij.dyn.ml.org">Pine.LNX.3.96.980224175049.25328B@hvdkooij.dyn.ml.org</a>&gt;<br>
Content-Description: <br>
<p>
PCFkb2N0eXBlIGxpbnV4ZG9jIHN5c3RlbT4NCjxhcnRpY2xlPg0KDQo8dGl0<br>
bGU+Rml4aW5nIFJlZCBIYXQgTGludXggNS4wIGZvciB0aGUgQWxwaGEgd2l0<br>
aCBhIG5ld2VyIGtlcm5lbA0KDQo8YXV0aG9yPkh1Z28gdmFuIGRlciBLb29p<br>
ag0KJmx0OzxodG1sdXJsIHVybD0ibWFpbHRvOmh2ZGtvb2lqQGNhaXcubmwi<br>
IG5hbWU9Imh2ZGtvb2lqQGNhaXcubmwiPiZndDsNCg0KPGRhdGU+VmVyc2lv<br>
biAxLjE7IGRhdGVkOiBGZWJydWFyaSAyNCwgMTk5OA0KDQo8YWJzdHJhY3Q+<br>
DQpJbiB0aGUgcHJvY2VzcyBvZiB0cnlpbmcgdG8gZ2V0IEMrKyBjb2RlIGNv<br>
bXBpbGluZyBwcm9wZXJseSBvbiBhIFJlZCBIYXQgTGludXggNS4wIEFscGhh<br>
IHN5c3RlbSBJIGhhZCBsb3RzIG9mIHByb2JsZW1zLg0KRXZlbnR1YWxseSBJ<br>
IHVwZ3JhZGVkIHRoZSBzeXN0ZW0gdG8gYSBuZXdlciBrZXJuZWwgYW5kIG1v<br>
c3QgcHJvYmxlbXMgd2VyZSBzb2x2ZWQuDQpUaGlzIGRvY3VtZW50IHdpbGwg<br>
Z2l2ZSB5b3UgYSBxdWljayB0b3VyIG9uIGhvdyB0byB0byBmaXggdGhpcyB5<br>
b3Vyc2VsZi4NCjwvYWJzdHJhY3Q+DQoNCjx0b2M+DQoNCjxzZWN0PkdldHRp<br>
bmcgdGhlIHByb3BlciBrZXJuZWwgYW5kIGZpeGVzDQoNCjxwPg0KV2UgbmVl<br>
ZCB0byBnZXQgdGhlIG5ld2VyIGtlcm5lbCBhbmQgdGhlIHByb3BlciBBbHBo<br>
YSBwYXRjaCBmaXJzdC4NCg0KPHNlY3QxPktlcm5lbA0KDQo8cD4NCldlIGdl<br>
dCB0aGUga2VybmVsIHNvdXJjZXMgZnJvbSBmdHAua2VybmVsLm9yZyBhbmQg<br>
SSB1c2VkOg0KPGh0bWx1cmwgdXJsPSJmdHA6Ly9mdHAua2VybmVsLm9yZy9w<br>
dWIvbGludXgva2VybmVsL3YyLjAvbGludXgtMi4wLjMzLnRhci5iejIiDQpu<br>
YW1lPSJmdHA6Ly9mdHAua2VybmVsLm9yZy9wdWIvbGludXgva2VybmVsL3Yy<br>
LjAvbGludXgtMi4wLjMzLnRhci5iejIiPg0KDQpJbiBjYXNlIHlvdSBkb24n<br>
dCBoYXZlIGJ6aXAyIHlvdSBjYW4gdXNlIHRoZSBsYXJnZXIgZ3ppcCB2ZXJz<br>
aW9uOg0KPGh0bWx1cmwgdXJsPSJmdHA6Ly9mdHAua2VybmVsLm9yZy9wdWIv<br>
bGludXgva2VybmVsL3YyLjAvbGludXgtMi4wLjMzLnRhci5neiINCm5hbWU9<br>
ImZ0cDovL2Z0cC5rZXJuZWwub3JnL3B1Yi9saW51eC9rZXJuZWwvdjIuMC9s<br>
aW51eC0yLjAuMzMudGFyLmd6Ij4NCg0KPHNlY3QxPkFscGhhIHBhdGNoDQoN<br>
CjxwPg0KV2UgbmVlZCBhIHBhdGNoIGZpbGUgZnJvbSBmdHAubmxsZ2cubmw6<br>
DQo8aHRtbHVybCB1cmw9ImZ0cDovL2Z0cC5ubGxnZy5ubC9wdWIvbGludXgv<br>
YWxwaGEvYWxwaGEtcGF0Y2hlcy0yLjAuMzMtMC4xLmd6Ig0KbmFtZT0iZnRw<br>
Oi8vZnRwLm5sbGdnLm5sL3B1Yi9saW51eC9hbHBoYS9hbHBoYS1wYXRjaGVz<br>
LTIuMC4zMy0wLjEuZ3oiPg0KDQpJdCBzaG91bGQgZ28gdG8gZ2F0ZWtlZXBl<br>
ci5kZWMuY29tIGZvciB0aGlzIGtlcm5lbDoNCjxodG1sdXJsIHVybD0iZnRw<br>
Oi8vZ2F0ZWtlZXBlci5kZWMuY29tL3B1Yi9ERUMvTGludXgtQWxwaGEvS2Vy<br>
bmVscy9hbHBoYS1wYXRjaGVzLTIuMC4zMy0wLjEuZ3oiDQpuYW1lPSJmdHA6<br>
Ly9nYXRla2VlcGVyLmRlYy5jb20vcHViL0RFQy9MaW51eC1BbHBoYS9LZXJu<br>
ZWxzL2FscGhhLXBhdGNoZXMtMi4wLjMzLTAuMS5neiI+DQoNCllvdSBtYXkg<br>
bWFrZSBhIGJvb2ttYXJrIGZvciB0aGUgZm9sbG93aW5nIFVSTCBhcyB0aGVy<br>
ZSBpcyBwbGVudHkgb2Ygc3R1ZmYgdGhlcmU6DQo8aHRtbHVybCB1cmw9ImZ0<br>
cDovL2dhdGVrZWVwZXIuZGVjLmNvbS9wdWIvREVDL0xpbnV4LUFscGhhLyIN<br>
Cm5hbWU9ImZ0cDovL2dhdGVrZWVwZXIuZGVjLmNvbS9wdWIvREVDL0xpbnV4<br>
LUFscGhhLyI+DQoNCg0KPHNlY3Q+Um9sbGluZyB5b3VyIG93biBrZXJuZWwN<br>
Cg0KPHNlY3QxPk1vdmUgb3ZlciB0aGUgb2xkIG9uZQ0KDQo8cD4NCldlIG1v<br>
dmUgb3ZlciB0aGUgb2xkIG9uZSBieSByZW1vdmluZyBhIHN5bWJvbGljIGxp<br>
bmsuDQoNCjx0c2NyZWVuPjx2ZXJiPg0KY2QgL3Vzci9zcmMvDQpybSBsaW51<br>
eA0KPC92ZXJiPjwvdHNjcmVlbj4NCg0KPHNlY3QxPkluc3RhbGwgdGhlIG5l<br>
dyBrZXJuZWwNCg0KPHA+DQpXZSBpbnN0YWxsIHRoZSBuZXcga2VybmVsIGJ5<br>
IHVucGFja2luZyB0aGUgdGFyIGZpbGUNCg0KSWYgeW91IHVzZSB0aGUgPHR0<br>
PmxpbnV4LTIuMC4zMy50YXIuZ3o8L3R0PiBmaWxlIHlvdSBjYW4gZG86DQoN<br>
Cjx0c2NyZWVuPjx2ZXJiPg0KY2QgL3Vzci9zcmMNCnRhciAteHZ6ZiBsaW51<br>
eC0yLjAuMzMudGFyLmd6DQo8L3ZlcmI+PC90c2NyZWVuPg0KDQoNCjxzZWN0<br>
MT5QYXRjaGluZyB0aGUga2VybmVsDQoNCjxwPg0KTm93IHdlIGFyZSBnb2lu<br>
ZyB0byBhcHBseSB0aGF0IHBhdGNoLg0KDQo8dHNjcmVlbj48dmVyYj4NCmNk<br>
IC91c3Ivc3JjL2xpbnV4DQpnemlwIC1kIDwgYWxwaGEtcGF0Y2hlcy0yLjAu<br>
MzMtMC4xLmd6IHwgcGF0Y2ggLXAxDQo8L3ZlcmI+PC90c2NyZWVuPg0KDQoN<br>
CjxzZWN0MT5DbGVhbmluZyB1cA0KDQo8cD4NClRvIGNsZWFuIHVwIHRoZSBs<br>
b3Qgd2Ugd2lsbCBtYWtlIGl0IGNsZWFuIHByb3Blcmx5Lg0KDQo8dHNjcmVl<br>
bj48dmVyYj4NCmNkIC91c3Ivc3JjL2xpbnV4DQptYWtlIGRpc3RjbGVhbg0K<br>
PC92ZXJiPjwvdHNjcmVlbj4NCg0KQW5kIHdlIHN0b3JlIGl0IHVuZGVyIHRo<br>
ZSBwcm9wZXIga2VybmVsIHZlcnNpb24gd2l0aCBhIGRlY2VudCBsaW5rLg0K<br>
DQo8dHNjcmVlbj48dmVyYj4NCmNkIC91c3Ivc3JjDQptdiBsaW51eCBsaW51<br>
eC0yLjAuMzMNCmxuIC1zIGxpbnV4LTIuMC4zMyBsaW51eA0KPC92ZXJiPjwv<br>
dHNjcmVlbj4NCg0KPHNlY3Q+UmVtYXJrcw0KDQo8cD4NCkp1c3Qgc29tZSBy<br>
ZW1hcmtzIHRvIGZpbmlzaCBpdCBvZmY6DQoNCjxpdGVtaXplPg0KPGl0ZW0+<br>
RG9uJ3QgdHJ5IHRvIHJ1biA8dHQ+bWFrZSBtZW51Y29uZmlnPC90dD4gb3Ig<br>
PHR0Pm1ha2UgeGNvbmZpZzwvdHQ+IGFzIHRoZXNlIGFyZSAocGFydGlhbHkp<br>
IGJyb2tlbi4gQWx3YXlzIHVzZSA8dHQ+bWFrZSBjb25maWc8L3R0PiB0byBj<br>
b25maWd1cmUgdGhlIGtlcm5lbC4NCjxpdGVtPklmIHlvdSBsaW5rIDx0dD4v<br>
dXNyL3NyYy9saW51eDwvdHQ+IHRvIHRoZSBvbGQga2VybmVsICgyLjAuMzAp<br>
IHlvdSB3aWxsIGdldCBhbiBhd2Z1bGwgbG90IG9mIHByb2JsZW1zIHdpdGgg<br>
Y29tcGlsaW5nIGdjYyBjKysgY29kZSENCjxpdGVtPlJlbWVtYmVyIHRvIG9w<br>
dGltaXplIHlvdXIga2VybmVsIGZvciB0aGUgbWFjaGluZS4NCjxpdGVtPiBB<br>
bmQgZG9uJ3QgZm9yZ2V0IHRoYXQgYWx0aG91Z2ggdGhpcyB3b3JrZWQgZmlu<br>
ZSBmb3IgbWUgYW5kIGFwcGFyYW50bHkgZm9yIHBsZW50eSBvZiBvdGhlcnMg<br>
aXQgbWF5IG5vdCB3b3JrIGZvciB5b3UuDQo8aXRlbT5JIGRpZCB0ZXN0IGl0<br>
IHF1aXRlIGV4dGVuc2l2ZWx5IG9uIGEgRGlnaXRhbCBBbHBoYSBYTCAzMDAg<br>
KEFscGhhLVhMVCkgc28gb3RoZXIgc3lzdGVtIG1heSBub3Qgd29yayBhcyB3<br>
ZWxsIHdpdGggdGhpcyBwcm9jZWR1cmUuDQo8L2l0ZW1pemU+DQoNCkVuam95<br>
LA0KSHVnby4NCg0KPC9hcnRpY2xlPg0K<br>
---1463811839-864135347-888339049=:25328--<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0298.html">Brett_A._Letner@notes.up.com: "KDE compile problem"</a>
<li> <b>Previous message:</b> <a href="0296.html">Hugo van der Kooij: "Re: 2.0.34...?"</a>
<!-- nextthread="start" -->
<li> <b>Next in thread:</b> <a href="0408.html">warp@alpha.kimitsu.com: "Re: alpha patches against 2.0.33"</a>
<li> <b>Maybe reply:</b> <a href="0408.html">warp@alpha.kimitsu.com: "Re: alpha patches against 2.0.33"</a>
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
