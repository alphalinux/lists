<!-- received="Tue Feb 17 09:26:51 1998 " -->
<!-- sent="Tue, 17 Feb 1998 08:21:35 -0500" -->
<!-- name="Uncle George" -->
<!-- email="gatgul@voicenet.com" -->
<!-- subject="Re: linux/alpha problems (libXt, XmGetTearOffControl() )" -->
<!-- id="199802171301.IAA26719@clipper.hq.tis.com" -->
<!-- inreplyto="linux/alpha problems (libXt, XmGetTearOffControl() )" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: linux/alpha problems (libXt, XmGetTearOffControl() )</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: linux/alpha problems (libXt, XmGetTearOffControl() )</h2>

<b>Uncle George</b> (<a href="mailto:gatgul@voicenet.com"><i>gatgul@voicenet.com</i></a>)<br>
<i>Tue, 17 Feb 1998 08:21:35 -0500</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#226">[ date ]</a><a href="index.html#226">[ thread ]</a><a href="subject.html#226">[ subject ]</a><a href="author.html#226">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0227.html">Uncle George: "Re: cant get my JDK bin's running on 5.0 either!"</a>
<li> <b>Previous message:</b> <a href="0225.html">Mark S Feldman: "second try: UDB hangs w/S3 at 16 bpp"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
This is a multi-part message in MIME format.<br>
--------------35D6B230EBBA446C03692095<br>
Content-Type: text/plain; charset=us-ascii<br>
Content-Transfer-Encoding: 7bit<br>
<p>
I noticed that there is a build prob between ( redhat 5.0 ) libXt &amp; lesstif.<br>
the parameters for _XtWaitForSomething() are different.<br>
The XFree build of libXt has the logical parameters of WaitFor as char ( if u<br>
resolve the typedef ), whereas in lesstif it has them defined as int. I think<br>
for the alpha the boolean ( Boolean &amp; _XtBoolean) should be int, as it is more<br>
efficient, ergo the Xt pkg should be rebuilt for the alpha. This problem is<br>
indicative of a build prob for the alpha box. the flags NeedWidePrototypes &amp;<br>
NeedFunctionPrototypes should be a part of the alpha build for XFREE.<br>
any comments?<br>
<p>
    -ALSO-<br>
<p>
XmTearOffControl() doe not appear to be working, i keep getting a null pointer<br>
back.<br>
I used the test/xm/tearoff/test1.c, and have modified it ( see attachment ) to<br>
simulate my problem.<br>
According to java ( src code ) , and the motif documentation i should have<br>
gotten the widget of the tear-off-control.<br>
so whats wrong?!<br>
<p>
Alexander V. Lukyanov wrote:<br>
<p>
<i>&gt; Hello,</i><br>
<i>&gt;</i><br>
<i>&gt; I have some problems with _MOTIF_WM_HINTS on linux/alpha platform.</i><br>
<i>&gt; It seems there is somewhere wrong int/pointer/long conversion, so it can be</i><br>
<i>&gt; seen on alpha, but not on 32bit machines.</i><br>
<i>&gt;</i><br>
<i>&gt;    Alexander.</i><br>
<p>
<p>
<p>
--------------35D6B230EBBA446C03692095<br>
Content-Type: text/plain; charset=us-ascii; name="a.c"<br>
Content-Transfer-Encoding: 7bit<br>
Content-Disposition: inline; filename="a.c"<br>
<p>
/** test6 -- a menu bar with two pulldown menu, all made of widgets<br>
**/<br>
<p>
#include &lt;Xm/Xm.h&gt;<br>
#include &lt;Xm/RowColumn.h&gt;<br>
#include &lt;Xm/PushB.h&gt;<br>
#include &lt;Xm/PushBG.h&gt;<br>
#include &lt;Xm/CascadeB.h&gt;<br>
#include &lt;Xm/Separator.h&gt;<br>
#include &lt;stdio.h&gt;<br>
<p>
void Callback(Widget w, XtPointer client, XtPointer call)<br>
{<br>
    printf("* Widget = %s - %s\n", XtName(w), (char *)client);<br>
}<br>
<p>
int<br>
main(int argd, char **argv)<br>
{<br>
    XtAppContext theApp;<br>
    Widget toplevel, rc;<br>
    Widget cascade1;<br>
    Widget pane1;<br>
    Widget w;<br>
    int			argc;<br>
    Pixel		bg;<br>
    Arg			args[10];<br>
    Widget		tearOff;<br>
<p>
    toplevel = XtVaAppInitialize(&amp;theApp, "test1", NULL, 0,<br>
				 &amp;argd, argv, NULL, NULL);<br>
<p>
    rc = XmCreateMenuBar(toplevel, "menubar", NULL, 0);<br>
<p>
<p>
    XtVaGetValues(toplevel, XmNbackground, &amp;bg, NULL);<br>
<p>
    argc = 0;<br>
    XtSetArg(args[argc], XmNbackground, bg); argc++;<br>
	XtSetArg(args[argc], XmNtearOffModel, XmTEAR_OFF_ENABLED); argc++;<br>
<p>
    pane1 = XmCreatePulldownMenu(rc, "pane1", args, argc);<br>
<p>
    tearOff = XmGetTearOffControl(pane1);<br>
    cascade1 = XtVaCreateManagedWidget("cascade1", xmCascadeButtonWidgetClass, rc,<br>
		XmNsubMenuId, pane1,<br>
	NULL);<br>
    tearOff = XmGetTearOffControl(pane1);<br>
<p>
    w = XtVaCreateManagedWidget("button 1", xmPushButtonWidgetClass, pane1, NULL);<br>
    tearOff = XmGetTearOffControl(pane1);<br>
    XtAddCallback(w, XmNactivateCallback, Callback, "Activate");<br>
    XtAddCallback(w, XmNarmCallback, Callback, "Arm");<br>
    XtAddCallback(w, XmNdisarmCallback, Callback, "Disarm");<br>
<p>
    w = XtVaCreateManagedWidget("button 2", xmPushButtonWidgetClass, pane1, NULL);<br>
    tearOff = XmGetTearOffControl(pane1);<br>
    XtAddCallback(w, XmNactivateCallback, Callback, "Activate");<br>
    XtAddCallback(w, XmNarmCallback, Callback, "Arm");<br>
    XtAddCallback(w, XmNdisarmCallback, Callback, "Disarm");<br>
<p>
    w = XtVaCreateManagedWidget("button 2", xmSeparatorWidgetClass, pane1, NULL);<br>
    tearOff = XmGetTearOffControl(pane1);<br>
<p>
    w = XtVaCreateManagedWidget("gadget 3", xmPushButtonGadgetClass, pane1, NULL);<br>
    XtAddCallback(w, XmNactivateCallback, Callback, "Activate");<br>
    XtAddCallback(w, XmNarmCallback, Callback, "Arm");<br>
    XtAddCallback(w, XmNdisarmCallback, Callback, "Disarm");<br>
    tearOff = XmGetTearOffControl(pane1);<br>
<p>
    XtManageChild(rc);<br>
    tearOff = XmGetTearOffControl(pane1);<br>
    XtRealizeWidget(toplevel);<br>
    tearOff = XmGetTearOffControl(pane1);<br>
    XtAppMainLoop(theApp);    <br>
    tearOff = XmGetTearOffControl(pane1);<br>
    exit(0);<br>
}<br>
<p>
<p>
<p>
--------------35D6B230EBBA446C03692095--<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0227.html">Uncle George: "Re: cant get my JDK bin's running on 5.0 either!"</a>
<li> <b>Previous message:</b> <a href="0225.html">Mark S Feldman: "second try: UDB hangs w/S3 at 16 bpp"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
