<!-- received="Sat Feb 14 17:02:57 1998 " -->
<!-- sent="Sat, 14 Feb 1998 13:54:51 -0700 (MST)" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="Re: $at register while noat" -->
<!-- id="199802142054.NAA07342@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="199802140356.UAA06629@ellpspace.math.ualberta.ca" -->
<HTML><HEAD><META NAME="htdig-email" CONTENT="webmaster@redhat.com"><TITLE>Re: $at register while noat</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#ececec"  LINK="#3333cc" VLINK="#666666"><h2>Re: $at register while noat</h2>

<b>Michal Jaegermann</b> (<a href="mailto:michal@ellpspace.math.ualberta.ca"><i>michal@ellpspace.math.ualberta.ca</i></a>)<br>
<i>Sat, 14 Feb 1998 13:54:51 -0700 (MST)</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#144">[ date ]</a><a href="index.html#144">[ thread ]</a><a href="subject.html#144">[ subject ]</a><a href="author.html#144">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0145.html">Andreas Haumer: "nfs-fs as module on 2.0.33"</a>
<li> <b>Previous message:</b> <a href="0143.html">mark: "[Fwd: Re: Multia Problems...]"</a>
<li> <b>In reply to:</b> <a href="0143.html">mark: "[Fwd: Re: Multia Problems...]"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<!-- body="start" -->
Well, nobody volunteered to jump in so I plodded by myself. :-)<br>
<p>
I grabbed gas-970915 from ftp.cygnus.com and tried with that one.<br>
Following my best guess I configured it with this command:<br>
  ./configure --target=alpha-elf64-linux-gnu<br>
as simple './configure' does not work.  It responded that<br>
it configures itself with 'alphaev5-unknown-linux-gnu', which<br>
worries me a bit, and proceeded merilly, after 'make', to build.<br>
The reason I am a bit worried is that this is indeed 'ev56' cpu<br>
but does that mean that my resulting assembler will be unusable<br>
on 'ev4' kind of machine?  README file in bfd subdirectory says:<br>
"The documentation on using BFD is scanty and may be occasionally<br>
incorrect" and it lives up to that promise. 1/2 :-)<br>
<p>
I will be really obliged if somebody "in the know" confirm that I<br>
did not commited any grave errors in my procedure or point out why<br>
I am far in a left field.<br>
<p>
My new assembler is statically linked with bfd libraries in order<br>
to leave /usr/lib/libbfd.so.2.8.1.0.1, which came with a system,<br>
untouched.  I'd rather leave it alone on such experiments.<br>
<p>
After /usr/bin/as become a link to my brave new assembler egcs-980205<br>
snapshot compiled without any further complaints.  I was even foolish<br>
enough to recompile a kernel with it and to boot with it my box.<br>
So far, after roughly an hour of uptime, so good. :-)  A visible<br>
change is that kernels compiled with egcs drop in size.  For the<br>
same kernel (2.0.33, patched) here are sizes for /vmlinux.gz<br>
   578479     for gcc from RH 5.0 distribution<br>
   556971     for egcs-1.0.1<br>
   534798     for egcs-980205<br>
<p>
Oh, modules compiled with any compiler will work with any of these<br>
kernels.  It is only kernel version which matters (I do not bother<br>
with module versioning).  So far a few which I tried went in, with<br>
ismod, and out, with rmmod, smoothly. Not even a need for stripping<br>
debug symbols.<br>
<p>
I encountered one problem with a compilation when using egcs-980205.<br>
While compiling drivers/pci/pci.c I got:<br>
gcc: Internal compiler error: program cc1 got fatal signal 6<br>
Dropping optimization from -O2 to -O for this one particular file<br>
allowed to finish compilation without any further incidents.<br>
<p>
Hope that the above will help if somebody else will have an urge<br>
to try similar things.<br>
<p>
  Michal<br>
<p>
<pre>
-- 
To unsubscribe: send e-mail to <a href="mailto:axp-list-request@redhat.com">axp-list-request@redhat.com</a> with
'unsubscribe' as the subject.  Do not send it to <a href="mailto:axp-list@redhat.com">axp-list@redhat.com</a>
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0145.html">Andreas Haumer: "nfs-fs as module on 2.0.33"</a>
<li> <b>Previous message:</b> <a href="0143.html">mark: "[Fwd: Re: Multia Problems...]"</a>
<li> <b>In reply to:</b> <a href="0143.html">mark: "[Fwd: Re: Multia Problems...]"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<br clear=all>
<hr>
<center>
<a href="mailto:webmaster@redhat.com"   target="">Feedback</a> | 
<a href="http://www.redhat.com/products/"   target="">Store</a> | 
<a href="http://www.redhat.com/news/"   target="">News</a> | 
<a href="http://www.redhat.com/support/"   target="">Support</a> | 
<a href="http://www.redhat.com/support/docs/errata.html"   target="">Product Errata</a> | 
<a href="http://www.redhat.com/redhat/"   target="">About Us</a> | 
<a href="http://www.redhat.com/linux-info/"   target="">Linux Info</a> | 
<a href="http://www.redhat.com/search/"   target="">Search</a> | 
<a href="http://www.redhat.com/jumplist.phtml"   target="">JumpWords</a>
<br>
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=n"  _top target="_top">No Frames</a> | 
<a href="http://www.redhat.com/cgi-bin/frames.phtml?fr=y"  _top target="_top">Show Frames</a>
</center>
<p align=center>
Copyright &copy; 1995-1997 Red Hat Software. <a href="http://www.redhat.com/redhat/website.html#legal"   target="">Legal notices</a>
</p>
</BODY></HTML>
