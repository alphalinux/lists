<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: how efficient are functions</TITLE>
<META NAME="Author" CONTENT="Wes Bauske (wsb@paralleldata.com)">
<META NAME="Subject" CONTENT="Re: how efficient are functions">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: how efficient are functions</H1>
<HR>
<P>
<!-- received="Fri Aug 13 04:40:01 1999" -->
<!-- isoreceived="19990813114001" -->
<!-- sent="Thu, 12 Aug 1999 23:06:39 -0500" -->
<!-- isosent="19990813040639" -->
<!-- name="Wes Bauske" -->
<!-- email="wsb@paralleldata.com" -->
<!-- subject="Re: how efficient are functions" -->
<!-- id="37B399CF.537B2135@paralleldata.com" -->
<!-- inreplyto="Pine.LNX.4.10.9908122246180.24621-100000@Screech" -->
<STRONG>Subject: </STRONG>Re: how efficient are functions<BR>
<STRONG>From: </STRONG>Wes Bauske (<EM>wsb@paralleldata.com</EM>)<BR>
<STRONG>Date: </STRONG>Thu Aug 12 1999 - 21:06:39 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#303">[ date ]</A>
<A HREF="index.html#303">[ thread ]</A>
<A HREF="subject.html#303">[ subject ]</A>
<A HREF="author.html#303">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0304.html">Richard Henderson: "axp update for 2.3.13"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0302.html">Todd Fleisher: "Re: Free Multias"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0301.html">Christopher T. Lansdown: "how efficient are functions"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0301.html">Wes Bauske: "Re: how efficient are functions"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
&quot;Christopher T. Lansdown&quot; wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Hi,
</EM><BR>
<EM>&gt;         How efficient are function calls on the Alpha?  For small (3-10
</EM><BR>
<EM>&gt; liners) functions, is it a real speed gain to use MACROs instead?  Btw, is
</EM><BR>
<EM>&gt; there a better place for me to be asking this sort of stuff than this
</EM><BR>
<EM>&gt; list?
</EM><BR>
<EM>&gt;         -Chris
</EM><BR>
<EM>&gt; 
</EM><BR>
<P>Depends what the code does.
<BR>
<P>If it's C, use a macro or inline the function if you can.
<BR>
<P>Some teachers go overboard with modularization if you ask
<BR>
me. My rule is the subroutine/function has to be at least
<BR>
100 clock cycles to be separated as a useful routine. So,
<BR>
a routine that has a for/do loop in it can be quite small
<BR>
but qualify to be a separate routine. Otherwise, it would
<BR>
need to be a fair number of statements to be separated.
<BR>
The key is to understand the overhead cost in clock cycles
<BR>
and compare it to the work the routine will do. Then you 
<BR>
just decide how much overhead you want to tolerate.
<BR>
<P>Of course, this assumes you're willing to read a little
<BR>
ASM to see what the generated code looks like. Otherwise,
<BR>
figure your average statement &quot;a=b+c&quot; involves 2 loads,
<BR>
an add, and a store. Ignoring pipelining/memory effects,
<BR>
thats 4 clocks. Doing this, you can figure out how much
<BR>
work your routine does, at least approximately.
<BR>
<P>Of course, if you only call the routine once or twice, it
<BR>
won't matter anyway. This all only gets interesting when
<BR>
the code is in your main computing path.
<BR>
<P><P>Wes
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0304.html">Richard Henderson: "axp update for 2.3.13"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0302.html">Todd Fleisher: "Re: Free Multias"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0301.html">Christopher T. Lansdown: "how efficient are functions"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0301.html">Wes Bauske: "Re: how efficient are functions"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Tue Sep 07 1999 - 16:14:59 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
