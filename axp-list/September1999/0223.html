<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: em86 broken with 2.2.12 and above</TITLE>
<META NAME="Author" CONTENT="Michal Jaegermann (michal@ellpspace.math.ualberta.ca)">
<META NAME="Subject" CONTENT="em86 broken with 2.2.12 and above">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>em86 broken with 2.2.12 and above</H1>
<HR>
<P>
<!-- received="Tue Sep 14 03:29:12 1999" -->
<!-- isoreceived="19990914102912" -->
<!-- sent="Mon, 13 Sep 1999 23:02:48 -0600 (MDT)" -->
<!-- isosent="19990914050248" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="em86 broken with 2.2.12 and above" -->
<!-- id="199909140502.XAA10347@ellpspace.math.ualberta.ca" -->
<STRONG>Subject: </STRONG>em86 broken with 2.2.12 and above<BR>
<STRONG>From: </STRONG>Michal Jaegermann (<EM>michal@ellpspace.math.ualberta.ca</EM>)<BR>
<STRONG>Date: </STRONG>Mon Sep 13 1999 - 22:02:48 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#223">[ date ]</A>
<A HREF="index.html#223">[ thread ]</A>
<A HREF="subject.html#223">[ subject ]</A>
<A HREF="author.html#223">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0224.html">Michal Jaegermann: "Re: Alpha: Future time again"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0222.html">Kurt Ludwig: "Re: pcLX164 Alpha BIOS problem"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0225.html">Stuart Midgley: "Re: em86 broken with 2.2.12 and above"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Somewhere between 2.2.11 and 2.2.12 em86 Intel emulator on Alpha
<BR>
stopped working.  More precisely, the last kernel which I tried where
<BR>
Intel Netscape still starts and works on Alpha is 2.2.11-ac3.
<BR>
With 2.2.12 and those 2.2.13pre? I tried Netscape bombs without
<BR>
opening its window and something of that sort is displayed on
<BR>
a terminal (numbers are pretty close, even across kernel versions,
<BR>
but not always the same):
<BR>
<P>Signal 10 received
<BR>
Alpha state: PC = 0x600393d0, instr = 0xa36e0008
<BR>
&nbsp;R00: 000000006016d758 R01: 0000000000000001 R02: 000000006015b738
<BR>
&nbsp;R03: 0000000060039378 R04: 0000000040557320 R05: 0000000040010000
<BR>
&nbsp;R06: 0000000040011440 R07: 0000000000000020 R08: 000000006016d738
<BR>
&nbsp;R09: 00000000407bbe10 R10: 000000006028f490 R11: 000000006016d72c
<BR>
&nbsp;R12: 000000007cffdc88 R13: 000000007cffdc5c R14: 000000004002319a
<BR>
&nbsp;R15: 000000007ffff750 R16: 00000000c4c44002 R17: 0000000031a80000
<BR>
&nbsp;R18: 0000000060039378 R19: 00000000400117d8 R20: 0000000060039640
<BR>
&nbsp;R21: 0000000000000000 R22: 000000006015b738 R23: 0000000000000000
<BR>
&nbsp;R24: 000000006003a3d0 R25: 000000006003ae34 R26: 0000000040526010
<BR>
&nbsp;R27: 000000000000c4c4 R28: 000000006003e0fc R29: 0000000060163b10
<BR>
&nbsp;R30: 000000007ffff728 R31: 0000000000000000
<BR>
&nbsp;&nbsp;Trap A0: 00000000400231a2, A1: 0000000000000028, A2: 000000000000001b
<BR>
<P>Intel state: PC = 0x4002319a
<BR>
&nbsp;&nbsp;EAX: 0x6016d758, EBX: 0x407bbe10, ECX: 0x20, EDX: 0x6016d738
<BR>
&nbsp;&nbsp;ESI: 0x6028f490, EDI: 0x6016d72c, EBP: 0x7cffdc88, ESP: 0x7cffdc5c
<BR>
<P>There is no oops in log files and a bottom a 'strace' output looks
<BR>
like that:
<BR>
....
<BR>
339   SYS_35(0x7, 0x7cffe2ac, 0x20, 0x1, 0x6016ce20) = 93
<BR>
339   SYS_0(0x8, 0x7cffe194, 0, 0, 0x7cffdcdc) = 48
<BR>
339   SYS_0(0x1, 0, 0x7ffff5d0, 0, 0x6016441c) = -1 EADDRINUSE (Address already in use)
<BR>
339   SYS_0(0x1, 0x2000, 0x7ffff5d0, 0, 0x8448bc0) = 93
<BR>
339   exit(8)                           = ?
<BR>
339   --- SIGALRM (Alarm clock) ---
<BR>
)   = ? (mask now [])
<BR>
339   --- SIGALRM (Alarm clock) ---
<BR>
339   sigreturn( &lt;unfinished ...&gt;
<BR>
339   --- SIGALRM (Alarm clock) ---
<BR>
339   &lt;... sigreturn resumed&gt; )         = ? (mask now ~[KILL STOP])
<BR>
339   --- SIGALRM (Alarm clock) ---
<BR>
339   &lt;... sigreturn resumed&gt; )         = ? (mask now ~[KILL STOP])
<BR>
339   --- SIGALRM (Alarm clock) ---
<BR>
339   osf_sigprocmask(0x3, 0x7ffffbf7, 0x7ffff2f0 &lt;unfinished ...&gt;
<BR>
339   --- SIGALRM (Alarm clock) ---
<BR>
339   &lt;... osf_sigprocmask resumed&gt; )   = -1 EDEADLOCK ((null))
<BR>
.....
<BR>
(this &quot;unfinished - resumed&quot; business repeated many times)
<BR>
.....
<BR>
339   sigreturn( &lt;unfinished ...&gt;
<BR>
339   --- SIGALRM (Alarm clock) ---
<BR>
339   &lt;... sigreturn resumed&gt; )         = ? (mask now ~[KILL STOP])
<BR>
339   --- SIGBUS (Bus error) ---
<BR>
339   write(2, &quot;Signal 10 received\n&quot;, 19
<BR>
<P>and we are dead.
<BR>
<P>Anybody has any ideas what changed to cause that nasty effect
<BR>
and how to fix it?
<BR>
<P>&nbsp;&nbsp;&nbsp;Michal
<BR>
&nbsp;&nbsp;&nbsp;michal@harddata.com
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0224.html">Michal Jaegermann: "Re: Alpha: Future time again"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0222.html">Kurt Ludwig: "Re: pcLX164 Alpha BIOS problem"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0225.html">Stuart Midgley: "Re: em86 broken with 2.2.12 and above"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Mon Oct 04 1999 - 12:44:52 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
