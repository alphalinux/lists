<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Jensen boot question/problem</TITLE>
<META NAME="Author" CONTENT="Jo Schambach (jschamba@physics.utexas.edu)">
<META NAME="Subject" CONTENT="Re: Jensen boot question/problem">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Jensen boot question/problem</H1>
<HR>
<P>
<!-- received="Fri Oct 01 16:54:22 1999" -->
<!-- isoreceived="19991001235422" -->
<!-- sent="Fri, 01 Oct 1999 11:50:03 -0500" -->
<!-- isosent="19991001165003" -->
<!-- name="Jo Schambach" -->
<!-- email="jschamba@physics.utexas.edu" -->
<!-- subject="Re: Jensen boot question/problem" -->
<!-- id="37F4E63B.42456736@physics.utexas.edu" -->
<!-- inreplyto="Pine.LNX.3.96.990929135850.10718I-100000@avalon.harvard.edu" -->
<STRONG>Subject: </STRONG>Re: Jensen boot question/problem<BR>
<STRONG>From: </STRONG>Jo Schambach (<EM>jschamba@physics.utexas.edu</EM>)<BR>
<STRONG>Date: </STRONG>Fri Oct 01 1999 - 09:50:03 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#524">[ date ]</A>
<A HREF="index.html#524">[ thread ]</A>
<A HREF="subject.html#524">[ subject ]</A>
<A HREF="author.html#524">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0525.html">Chris Kloiber: "Re: Redhat 6.1, and REDHAT QOS"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0523.html">Rebuck, Gregory: "RE: Need JDK1.1.7 compiled against RH6.0 glibc 2.x for Alpha"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0464.html">erik@avalon.harvard.edu: "Re: Jensen boot question/problem"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0464.html">Jo Schambach: "Re: Jensen boot question/problem"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Following Erik's lead, I played around a little with my setup (again, a
<BR>
Jensen, with S. Moeller's kernel 2.2.12.gz, and a RH 6.0 installation)
<BR>
and deleted all of the daemon calls in the init.d scripts. Then my
<BR>
system starts up properly, and seems to work correctly. So his
<BR>
assumption that there is something wrong with the &quot;daemon&quot; function in
<BR>
the RH 6.0 setup seems to be correct. I haven't followed through any
<BR>
further, but maybe someone else has seen this already (and possibly
<BR>
solved it)?
<BR>
<P>Jo
<BR>
<P>erik@avalon.harvard.edu wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Hi,
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I don't think it is necessarily an ethernet problem (although in Jo's case
</EM><BR>
<EM>&gt; maybe it is, given that the kernel isn't finding the eth0 modules).
</EM><BR>
<EM>&gt; Here's why I think something else might be going on:  I've gotten to
</EM><BR>
<EM>&gt; essentially the same place.  But I am able to boot to single user mode
</EM><BR>
<EM>&gt; then start the network manually (/etc/rc.d/init.d/network start).  After
</EM><BR>
<EM>&gt; doing this I can telnet and FTP out of the box.  When either init tries or
</EM><BR>
<EM>&gt; I attempt manually to start portmap using /etc/rc.d/init.d/portmap start
</EM><BR>
<EM>&gt; the machine simply sits there.  I can Control-C and get back right away if
</EM><BR>
<EM>&gt; I try this from the command line.  If I just start portmap (/sbin/portmap)
</EM><BR>
<EM>&gt; from the command line, it starts up just fine, and ps shows that portmap
</EM><BR>
<EM>&gt; is running.  After snooping around in /etc/rc.d/init.d/portmap and
</EM><BR>
<EM>&gt; /etc/rc.d/init.d/functions, it appears that the scripts are hanging when
</EM><BR>
<EM>&gt; trying to get the PID of a nonexistant process (  in
</EM><BR>
<EM>&gt; /etc/rc.d/init.d/portmap, it uses the call &quot;daemon portmap&quot; to start
</EM><BR>
<EM>&gt; portmap, the daemon function defined in /etc/rc.d/init.d/functions does a
</EM><BR>
<EM>&gt; few things like check if the desired program is already running before
</EM><BR>
<EM>&gt; starting it).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Perhaps there is something wrong with my network setup (I'm using whatever
</EM><BR>
<EM>&gt; was installed by RH6.0 by default and using the network setup that the
</EM><BR>
<EM>&gt; installer generated).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Don't know if this helps anyone, but maybe it will fill in some missing
</EM><BR>
<EM>&gt; pieces or trigger someone to say, &quot;aha, I know what's going on...&quot;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Oh yeah, a few more details of my setup: I'm running a monolithic 2.2.12
</EM><BR>
<EM>&gt; kernel that I compiled on the Jensen (I was able to FTP the source to the
</EM><BR>
<EM>&gt; Jensen), it has KNFS and SUNRPC enabled (not sure if that is relevant) as
</EM><BR>
<EM>&gt; well as DE422 ethernet and DEC Etherworks (wasn't sure which one to use).
</EM><BR>
<EM>&gt; My /var directory is mounted on a different partition than /
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Are there any known problems with the RH6.0 init scripts?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Hope this helps?!?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; --erik
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; On Wed, 29 Sep 1999, Phillip Ezolt wrote:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; &gt; Jo,
</EM><BR>
<EM>&gt; &gt;       Try waiting a long time after &quot;starting portmapper&quot;.  It doesn't look
</EM><BR>
<EM>&gt; &gt; like the ethernet driver is being installed.   If the portmapper is trying
</EM><BR>
<EM>&gt; &gt; to use the network without an ethernet devices, long timeouts will occur.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Since you can get it up in single user mode, I'll bet this is the problem.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Although it is not a long term solution, try just waiting (10-20 minutes just
</EM><BR>
<EM>&gt; &gt; to be sure)  and see if you can get a regular prompt.
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; If so, then you just have to figure out how to get your ethernet module
</EM><BR>
<EM>&gt; &gt; loaded and detected, and you should be all set!
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; --Phil
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; Compaq: Business Critical Servers Division/Benchmark Performance Engineering
</EM><BR>
<EM>&gt; &gt; ---------------- Alpha, The Fastest Processor on Earth --------------------
</EM><BR>
<EM>&gt; &gt; Phillip.Ezolt@compaq.com        |C|O|M|P|A|Q|        ezolt@perf.zko.dec.com
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; On Wed, 29 Sep 1999, Jo Schambach wrote:
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; I am slowly edging towards a working system. After my last post, I
</EM><BR>
<EM>&gt; &gt; &gt; figured out that I am able to boot single user by using the following
</EM><BR>
<EM>&gt; &gt; &gt; response to the aboot prompt:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; 0/2.2.12.gz root=/dev/sda4 single
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; and I finally got a bash shell.
</EM><BR>
<EM>&gt; &gt; &gt; According to Sebastian Moellers instructions, I downloaded the
</EM><BR>
<EM>&gt; &gt; &gt; system.map-2.2.12 and the libmod-2.2.12.tar.bz2 files from his ftp site,
</EM><BR>
<EM>&gt; &gt; &gt; put them onto a floppy, mounted the floppy from the bash shell, and
</EM><BR>
<EM>&gt; &gt; &gt; copied them into their appropriate places on my Jensen harddisk.
</EM><BR>
<EM>&gt; &gt; &gt; I shut down the system, and started it again with the following answer
</EM><BR>
<EM>&gt; &gt; &gt; to the aboot prompt:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; 0/2.2.12.gz root=/dev/sda4
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; The Jensen started booting, got through a few checks with &quot;OK&quot;, and then
</EM><BR>
<EM>&gt; &gt; &gt; finally stopped after displaying the following messages:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; modprope: can't locate module lo:0
</EM><BR>
<EM>&gt; &gt; &gt; ....
</EM><BR>
<EM>&gt; &gt; &gt;                                             [OK]
</EM><BR>
<EM>&gt; &gt; &gt; modprobe: can't locate module eth0:0
</EM><BR>
<EM>&gt; &gt; &gt; ...
</EM><BR>
<EM>&gt; &gt; &gt; modprobe: can't locate module eth0:49
</EM><BR>
<EM>&gt; &gt; &gt;                                             [OK]
</EM><BR>
<EM>&gt; &gt; &gt; starting portmapper:
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; and then nothing.
</EM><BR>
<EM>&gt; &gt; &gt; I have a feeling that I am very close, but not quite there. Anybody have
</EM><BR>
<EM>&gt; &gt; &gt; any idea here?
</EM><BR>
<EM>&gt; &gt; &gt; thanks in advance,          Jo
</EM><BR>
<EM>&gt; &gt; &gt; --
</EM><BR>
<EM>&gt; &gt; &gt; Joachim Schambach                   Tel: (512) 471-1303
</EM><BR>
<EM>&gt; &gt; &gt; Physics Department, RLM 5.208               FAX: (798) 998-5513
</EM><BR>
<EM>&gt; &gt; &gt; University of Texas                 email: jschamba@physics.utexas.edu
</EM><BR>
<EM>&gt; &gt; &gt; Austin, TX 78712, USA
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt; --
</EM><BR>
<EM>&gt; &gt; &gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; &gt; &gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt; &gt;
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; &gt; --
</EM><BR>
<EM>&gt; &gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; &gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; --
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<P><PRE>
-- 
Joachim Schambach			Tel: (512) 471-1303
Physics Department, RLM 5.208		FAX: (798) 998-5513
University of Texas			email: jschamba@physics.utexas.edu
Austin, TX 78712, USA
<P>-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0525.html">Chris Kloiber: "Re: Redhat 6.1, and REDHAT QOS"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0523.html">Rebuck, Gregory: "RE: Need JDK1.1.7 compiled against RH6.0 glibc 2.x for Alpha"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0464.html">erik@avalon.harvard.edu: "Re: Jensen boot question/problem"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0464.html">Jo Schambach: "Re: Jensen boot question/problem"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Mon Oct 04 1999 - 12:44:54 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
