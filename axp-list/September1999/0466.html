<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Jensen boot question/problem</TITLE>
<META NAME="Author" CONTENT="Michal Jaegermann (michal@ellpspace.math.ualberta.ca)">
<META NAME="Subject" CONTENT="Re: Jensen boot question/problem">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Jensen boot question/problem</H1>
<HR>
<P>
<!-- received="Wed Sep 29 20:32:02 1999" -->
<!-- isoreceived="19990930033202" -->
<!-- sent="Wed, 29 Sep 1999 12:22:34 -0600 (MDT)" -->
<!-- isosent="19990929182234" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="Re: Jensen boot question/problem" -->
<!-- id="199909291822.MAA02857@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="Pine.LNX.3.96.990929135850.10718I-100000@avalon.harvard.edu" -->
<STRONG>Subject: </STRONG>Re: Jensen boot question/problem<BR>
<STRONG>From: </STRONG>Michal Jaegermann (<EM>michal@ellpspace.math.ualberta.ca</EM>)<BR>
<STRONG>Date: </STRONG>Wed Sep 29 1999 - 11:22:34 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#466">[ date ]</A>
<A HREF="index.html#466">[ thread ]</A>
<A HREF="subject.html#466">[ subject ]</A>
<A HREF="author.html#466">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0467.html">John Montgomery: "Install RH 6.0 on XP1000?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0465.html">Jay.Estabrook@digital.com: "Re: 2.2.13pre14"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0464.html">erik@avalon.harvard.edu: "Re: Jensen boot question/problem"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0532.html">Jo Schambach: "Jensen clock problem"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0464.html">Michal Jaegermann: "Re: Jensen boot question/problem"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
erik@avalon.harvard.edu wrote:
<BR>
<P><EM>&gt; After snooping around in /etc/rc.d/init.d/portmap and
</EM><BR>
<EM>&gt; /etc/rc.d/init.d/functions, it appears that the scripts are hanging when
</EM><BR>
<EM>&gt; trying to get the PID of a nonexistant process
</EM><BR>
....
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Are there any known problems with the RH6.0 init scripts?
</EM><BR>
<P>A function which checks a status of processes started by scripts
<BR>
from /etc/rc.d/init.d/ is obviously broken.  No idea if this is relevant
<BR>
to your troubles but this is one way to fix it:
<BR>
<P><P>--- etc/rc.d/init.d/functions~	Thu Oct 15 10:07:52 1998
<BR>
+++ etc/rc.d/init.d/functions	Mon Jul 26 19:57:38 1999
<BR>
@@ -127,7 +127,8 @@
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &quot;$1 (pid $pid) is running...&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else
<BR>
-                pid=`ps auxww | grep '[^[]'$1 | awk '{print $2}'`
<BR>
+                pid=`ps auxww | grep '[^[]'$1 \
<BR>
+		    | grep -v 'sh \.\/' | awk '!/grep/{print $2}'`
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if [ &quot;$pid&quot; != &quot;&quot; ] ; then
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &quot;$1 (pid $pid) is running...&quot;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0
<BR>
<P>&nbsp;&nbsp;&nbsp;Michal
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0467.html">John Montgomery: "Install RH 6.0 on XP1000?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0465.html">Jay.Estabrook@digital.com: "Re: 2.2.13pre14"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0464.html">erik@avalon.harvard.edu: "Re: Jensen boot question/problem"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0532.html">Jo Schambach: "Jensen clock problem"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0464.html">Michal Jaegermann: "Re: Jensen boot question/problem"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Mon Oct 04 1999 - 12:44:54 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
