<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: problems with 5.1</TITLE>
<META NAME="Author" CONTENT="Michal Jaegermann (michal@ellpspace.math.ualberta.ca)">
<META NAME="Subject" CONTENT="Re: problems with 5.1">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: problems with 5.1</H1>
<HR>
<P>
<!-- received="Sun Jan 10 16:34:08 1999 PST" -->
<!-- sent="Sun, 10 Jan 1999 09:33:17 -0700 (MST)" -->
<!-- name="Michal Jaegermann" -->
<!-- email="michal@ellpspace.math.ualberta.ca" -->
<!-- subject="Re: problems with 5.1" -->
<!-- id="199901101633.JAA02129@ellpspace.math.ualberta.ca" -->
<!-- inreplyto="369895BF.167E@prr.mpi-stuttgart.mpg.de" -->
<STRONG>Michal Jaegermann</STRONG> (<A HREF="mailto:michal@ellpspace.math.ualberta.ca?subject=Re:%20problems%20with%205.1"><EM>michal@ellpspace.math.ualberta.ca</EM></A>)<BR>
<EM>Sun, 10 Jan 1999 09:33:17 -0700 (MST)</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#510">[ date ]</A>
<A HREF="index.html#510">[ thread ]</A>
<A HREF="subject.html#510">[ subject ]</A>
<A HREF="author.html#510">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0511.html">Michal Jaegermann: "Re: Encrypted passwords (was Re: in search of popd)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0509.html">Jim W. Howard: "Re: apache+php+gd+fp-extensions+ssleay on axp?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0374.html">Chris Price: "apache+php+gd+fp-extensions+ssleay on axp?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0586.html">Roman Martonak: "Re: problems with 5.1"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
Roman Martonak wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I recently installed 5.1 on my UDB and encountered following problems.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; First, during kernel compilation (2.0.35-1 from 5.1 updates)
</EM><BR>
<EM>&gt; I got the following error during make modules:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; make[2]: Entering directory `/usr/src/linux-2.0.35/drivers/net'
</EM><BR>
<EM>&gt; gcc -D__KERNEL__ -I/usr/src/linux-2.0.35/include -Wall
</EM><BR>
<EM>&gt; -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strength-reduce -pipe
</EM><BR>
<EM>&gt; -mno-fp-regs -Wa,-m21164a -DBWX_USABLE -DMODULE -DMODVERSIONS -include
</EM><BR>
<EM>&gt; /usr/src/linux-2.0.35/include/linux/modversions.h -DEXPORT_SYMTAB -c
</EM><BR>
<EM>&gt; slhc.c
</EM><BR>
<EM>&gt; {standard input}: gcc: Internal compiler error: program cc1 got fatal
</EM><BR>
<EM>&gt; signal 11
</EM><BR>
....
<BR>
<EM>&gt; The error is reproducible, so it does not look like a hardware-induced
</EM><BR>
<EM>&gt; signal 11.
</EM><BR>
<P>No, this is a compiler bug which was, BTW, discussed on this list and
<BR>
for which a fix is known (an optimizer hiccups on in-line functions).
<BR>
<P><EM>&gt; I used freshly compiled egcs-1.1.1. Is it a problem of kernel sources or
</EM><BR>
<EM>&gt; of egcs ?
</EM><BR>
<P>Unfortunately this fix, to combine.c, was forgotten in 1.1.1 release
<BR>
and the previous release suffers in an exactly the same way.  Current
<BR>
snapshots have the problem corrected thanks to rth.
<BR>
<P>As a workaround to compile slhc.o use a command you quote above
<BR>
with '-O' substituted for '-O2'.  It will work.  Replacing gcc/combine.c
<BR>
with a one from a snapshot (any will do starting from some early
<BR>
November) and recompiling will fix your compiler.
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; Another problem was as I tried to update glibc-2.0.7-13, after the
</EM><BR>
<EM>&gt; command
</EM><BR>
<EM>&gt; rpm -Uvh glibc-2.0.7-19.alpha.rpm 
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; I got an error like &quot;archive unpacking failed on file libc-2.0.7.so&quot;,
</EM><BR>
<P>Probably you got a corrupted copy of an archive.  You can test it
<BR>
with 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rpm2cpio glibc-2.0.7-19.alpha.rpm | cpio -itv &gt; /dev/null
<BR>
If this is not silent then replace your copy of
<BR>
glibc-2.0.7-19.alpha.rpm.  Otherwise it should work.
<BR>
<P>If you are feeling shy and you have another copy of Linux then
<BR>
using '-r' option to rpm will allow you to update NOT the running
<BR>
installation.  This is safer with such sensitive thing like glibc.
<BR>
<P>&nbsp;&nbsp;&nbsp;Michal
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20problems%20with%205.1">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20problems%20with%205.1">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0511.html">Michal Jaegermann: "Re: Encrypted passwords (was Re: in search of popd)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0509.html">Jim W. Howard: "Re: apache+php+gd+fp-extensions+ssleay on axp?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0374.html">Chris Price: "apache+php+gd+fp-extensions+ssleay on axp?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0586.html">Roman Martonak: "Re: problems with 5.1"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Jan 24 1999 - 14:47:48 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
