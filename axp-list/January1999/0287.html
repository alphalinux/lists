<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: unimplemented OSF mmap flags</TITLE>
<META NAME="Author" CONTENT="furio ercolessi (furio@spin.it)">
<META NAME="Subject" CONTENT="Re: unimplemented OSF mmap flags">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: unimplemented OSF mmap flags</H1>
<HR>
<P>
<!-- received="Wed Jan 06 18:17:18 1999 PST" -->
<!-- sent="Wed, 06 Jan 1999 19:16:07 MET" -->
<!-- name="furio ercolessi" -->
<!-- email="furio@spin.it" -->
<!-- subject="Re: unimplemented OSF mmap flags" -->
<!-- id="199901061816.TAA24955@noc.spin.it" -->
<!-- inreplyto="Pine.LNX.4.04.9901061512040.650-100000@freak.conectiva.com.br" -->
<STRONG>furio ercolessi</STRONG> (<A HREF="mailto:furio@spin.it?subject=Re:%20unimplemented%20OSF%20mmap%20flags"><EM>furio@spin.it</EM></A>)<BR>
<EM>Wed, 06 Jan 1999 19:16:07 MET</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#287">[ date ]</A>
<A HREF="index.html#287">[ thread ]</A>
<A HREF="subject.html#287">[ subject ]</A>
<A HREF="author.html#287">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0288.html">Jochen Kuepper: "Re: Linux/alpha hanging 2.2.0-pre4?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0286.html">Stephen Williams: "Re: Linux/alpha hanging 2.2.0-pre4?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0281.html">mlarocque@home.com: "Re: Linux/alpha hanging 2.2.0-pre4?"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
<EM>&gt; I'm getting this messages while running any program who seems to use
</EM><BR>
<EM>&gt; gettext and the LC_ALL or LANG variable are exported : 
</EM><BR>
<EM>&gt; # ls
</EM><BR>
<EM>&gt; ls: unimplemented OSF mmap flags 0402
</EM><BR>
<EM>&gt; ls: unimplemented OSF mmap flags 0402
</EM><BR>
<EM>&gt; ls: unimplemented OSF mmap flags 0402
</EM><BR>
<EM>&gt; ls: unimplemented OSF mmap flags 0402
</EM><BR>
<EM>&gt; ...
</EM><BR>
<EM>&gt; Note that if the LANG and LC_ALL variables are unsetted, everything goes
</EM><BR>
<EM>&gt; fine.
</EM><BR>
<EM>&gt; Is a glibc gettext problem?
</EM><BR>
<EM>&gt; I'm  using RH 5.2.
</EM><BR>
<P>No, it is a kernel header file (include/asm-alpha/mman.h) which
<BR>
declares to be available services which are not supported in glibc.
<BR>
IMHO it is a kernel bug.
<BR>
<P>To suppress the problem you can perhaps try removing the lines
<BR>
#define MAP_HASSEMAPHORE 0x0200
<BR>
#define MAP_INHERIT 0x0400
<BR>
#define MAP_UNALIGNED 0x0800
<BR>
from mman.h, and then removing
<BR>
if (flags &amp; (MAP_HASSEMAPHORE | MAP_INHERIT | MAP_UNALIGNED))
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printk(&quot;%s: unimplemented OSF mmap flags %04lx\n&quot;, current-&gt;comm, flags);
<BR>
from arch/alpha/kernel/osf_sys.c and recompile your kernel.
<BR>
<P>Sometimes one can also work around it on the application.
<BR>
See previous discussion:
<BR>
<A HREF="http://www.terran.org/archives/axp-list/0188.html">http://www.terran.org/archives/axp-list/0188.html</A>
<BR>
<A HREF="http://www.terran.org/archives/axp-list/0191.html">http://www.terran.org/archives/axp-list/0191.html</A>
<BR>
<A HREF="http://www.terran.org/archives/axp-list/0203.html">http://www.terran.org/archives/axp-list/0203.html</A>
<BR>
<A HREF="http://www.terran.org/archives/axp-list/0206.html">http://www.terran.org/archives/axp-list/0206.html</A>
<BR>
<P>furio ercolessi
<BR>
Spin - Trieste (Italy)
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20unimplemented%20OSF%20mmap%20flags">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20unimplemented%20OSF%20mmap%20flags">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0288.html">Jochen Kuepper: "Re: Linux/alpha hanging 2.2.0-pre4?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0286.html">Stephen Williams: "Re: Linux/alpha hanging 2.2.0-pre4?"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0281.html">mlarocque@home.com: "Re: Linux/alpha hanging 2.2.0-pre4?"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Jan 24 1999 - 14:47:47 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
