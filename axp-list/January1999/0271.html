<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: asm</TITLE>
<META NAME="Author" CONTENT="Richard Henderson (rth@cygnus.com)">
<META NAME="Subject" CONTENT="Re: asm">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: asm</H1>
<HR>
<P>
<!-- received="Wed Jan 06 06:38:26 1999 PST" -->
<!-- sent="Tue, 5 Jan 1999 22:32:59 -0800" -->
<!-- name="Richard Henderson" -->
<!-- email="rth@cygnus.com" -->
<!-- subject="Re: asm" -->
<!-- id="19990105223259.D29056@dot.cygnus.com" -->
<!-- inreplyto="2786b60e.u10t12e.e8910-axp@amazing.ch" -->
<STRONG>Richard Henderson</STRONG> (<A HREF="mailto:rth@cygnus.com?subject=Re:%20asm"><EM>rth@cygnus.com</EM></A>)<BR>
<EM>Tue, 5 Jan 1999 22:32:59 -0800</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#271">[ date ]</A>
<A HREF="index.html#271">[ thread ]</A>
<A HREF="subject.html#271">[ subject ]</A>
<A HREF="author.html#271">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0272.html">Helge Kreutzmann: "OSS Experiences ?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0270.html">Peter Petrakis: "Re: The limits of running DU apps on Alphalinux (was Re: Installing DU JDK on Alphalinux)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0254.html">Maurice Hilarius: "Re: Installing DU JDK on Alphalinux"</A>
<!-- nextthread="start" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Wed, Jan 06, 1999 at 05:30:00AM +0000, Christoph Dworzak wrote:
<BR>
&nbsp;&nbsp;/*   M[0] = 0xaaaaaaaaaaaaaaaa; M[1] = 0xcccccccccccccccc;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M[2] = 0xf0f0f0f0f0f0f0f0; M[3] = 0xff00ff00ff00ff00;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M[4] = 0xffff0000ffff0000; M[5] = 0xffffffff00000000; */
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.align 4                pipe    cycle
<BR>
<EM>&gt;       lda $0,-1               e1      0
</EM><BR>
<EM>&gt;       zap $0,0x0f,$6          e0      1
</EM><BR>
<EM>&gt;       zap $0,0x33,$5          e0      2
</EM><BR>
<EM>&gt;       zap $0,0x55,$4          e0      3
</EM><BR>
<P><EM>&gt;       srl $4,4,$3             e0      4
</EM><BR>
<EM>&gt;       stq $6,552($30)         e0      5
</EM><BR>
<EM>&gt;       xor $4,$3,$3            e1      5
</EM><BR>
<EM>&gt;       stq $5,544($30)         e0      6
</EM><BR>
<P><EM>&gt;       srl $3,2,$2             e0      7
</EM><BR>
<EM>&gt;       stq $4,536($30)         e0      8
</EM><BR>
<EM>&gt;       xor $3,$2,$2            e1      8
</EM><BR>
<EM>&gt;       stq $3,528($30)         e0      9
</EM><BR>
<P><EM>&gt;       srl $2,1,$1             e0      10
</EM><BR>
<EM>&gt;       stq $2,520($30)         e0      11
</EM><BR>
<EM>&gt;       xor $2,$1,$1            e1      11
</EM><BR>
<EM>&gt;       stq $1,512($30)         e0      12
</EM><BR>
<P><EM>&gt; How would you optimize it?
</EM><BR>
<P>It's just about as good as it can get.  I came up with one
<BR>
sequence that executes in 11 cycles, but it's 4 insns longer.
<BR>
<P><P>r~
<BR>
<P><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lda     $0, -1                  e0      0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lda     $2, 0xcccd($31)         e1      0
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zap     $0, 0x0f, $15           e0      1
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ldah    $2, 0xcccd($2)          e1      1
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sll     $2, 32, $3                      2
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addq    $2, $3, $2                      2
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zap     $0, 0x33, $14                   3
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subq    $2, 1, $11                      3
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zap     $0, 0x55, $13                   4
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addq    $11, $11, $4                    4
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srl     $13, 4, $1                      5
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xornot  $4, $11, $4                     5
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stq     $11, 8($30)                     6
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xor     $1, $13, $12                    6
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stq     $12, 16($30)                    7
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subq    $4, 1, $10                      7
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stq     $10, 0($30)                     8
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stq     $13, 24($30)                    9
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stq     $14, 32($30)                    10
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stq     $15, 40($30)                    11
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20asm">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20asm">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0272.html">Helge Kreutzmann: "OSS Experiences ?"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0270.html">Peter Petrakis: "Re: The limits of running DU apps on Alphalinux (was Re: Installing DU JDK on Alphalinux)"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0254.html">Maurice Hilarius: "Re: Installing DU JDK on Alphalinux"</A>
<!-- nextthread="start" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Jan 24 1999 - 14:47:47 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
