<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Help!  Can't recover!</TITLE>
<META NAME="Author" CONTENT="Adam C. Powell, IV (adam.powell@nist.gov)">
<META NAME="Subject" CONTENT="Re: Help!  Can't recover!">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Help!  Can't recover!</H1>
<HR>
<P>
<!-- received="Tue Jan 19 15:54:46 1999 PST" -->
<!-- sent="Tue, 19 Jan 1999 10:53:07 -0500" -->
<!-- name="Adam C. Powell, IV" -->
<!-- email="adam.powell@nist.gov" -->
<!-- subject="Re: Help!  Can't recover!" -->
<!-- id="36A4AA63.3DC006EF@nist.gov" -->
<!-- inreplyto="199901122033.NAA07003@ellpspace.math.ualberta.ca" -->
<STRONG>Adam C. Powell, IV</STRONG> (<A HREF="mailto:adam.powell@nist.gov?subject=Re:%20Help!%20%20Can't%20recover!"><EM>adam.powell@nist.gov</EM></A>)<BR>
<EM>Tue, 19 Jan 1999 10:53:07 -0500</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#934">[ date ]</A>
<A HREF="index.html#934">[ thread ]</A>
<A HREF="subject.html#934">[ subject ]</A>
<A HREF="author.html#934">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0935.html">Maurice Hilarius: "Re: What system id this"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0933.html">Martin Ostermann: "Re: Alpha Netscape"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0929.html">feedback@omnicall.net: "Re: Alpha Netscape"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0938.html">Michal Jaegermann: "Re: Help!  Can't recover!"</A>
</UL>
<HR>
<!-- body="start" -->
<P>
geerten kuiper wrote:
<BR>
<P><EM>&gt; At 00:40 14/01/99 -0500, Jonathan Vafai wrote:
</EM><BR>
<EM>&gt; &gt;Is someone adding this to the FAQ?
</EM><BR>
<EM>&gt; &gt;
</EM><BR>
<EM>&gt; I would, but I'm not quite sure what to add regarding this thread. There's
</EM><BR>
<EM>&gt; a number of ways to boot a machine after a file system is broken. None of
</EM><BR>
<EM>&gt; them is specific to Alpha.
</EM><BR>
<P>To summarize this thread, I sent the following to <A HREF="mailto:xeno@clark.net?subject=Re:%20Help!%20%20Can't%20recover!">xeno@clark.net</A>:
<BR>
<P>1) My disk has crashed, and there are errors somewhere outside the root
<BR>
partition that are preventing me from logging in as superuser to service the
<BR>
disk.  How can I just get a shell?
<BR>
<P>Solution: boot from ARC/SRM/AlphaBIOS with the final option
<BR>
init=/bin/bash e.g.
<BR>
boot hda2:vmlinux.gz root=/dev/hda2 init=/bin/bash
<BR>
<P>Real solution: Avoid this by keeping root login from depending on files
<BR>
outside the root partition!  (E.g. don't use tcsh, don't start X in .login,
<BR>
etc.)
<BR>
<P>However, see problem 2...
<BR>
<P>2) The boot variable init doesn't seem to work properly with recent 2.1 or
<BR>
2.2-pre kernels.  The kernel freezes after &quot;Freeing unused kernel memory...
<BR>
48k freed&quot;
<BR>
<P>Solution: Indeed, with development kernels, my MILO/kernel combination does
<BR>
not seem to work with this option.  However, the 2.0 kernels still work, so
<BR>
if you still have one in your root directory, boot with that and with
<BR>
init=/bin/bash (or whatever).
<BR>
<P>3) My disk has crashed, and the root partition has damage.  How can I do disk
<BR>
maintenance?
<BR>
<P>Solution for RedHat users: start the installer from the boot disk and
<BR>
ramdisk.  Proceed until it asks whether you want to install or upgrade, and
<BR>
answer upgrade.  After that, hit 'Alt-F2' and you will be at the ash shell
<BR>
prompt.  A few tools will be present, including mount and e2fsck, however
<BR>
mount only accepts the -t option.  To use e2fsck, therefore, you have to do
<BR>
&quot;mount -t ext2 hda2 /mnt ; umount /mnt&quot;.  This action will create /tmp/hda2
<BR>
which you use with e2fsck.
<BR>
<P>Any errors?
<BR>
<P>Zeen,
<BR>
<P>-Adam `Cold Fusion' Powell, IV <A HREF="http://www.ctcms.nist.gov/~powell/">http://www.ctcms.nist.gov/~powell/</A> ____
<BR>
USDoC, National Institute of Standards &amp; Technology (NIST)  |\ ||&lt;  |
<BR>
Center for Theoretical and Computational Materials Science  | \||_&gt; |
<BR>
<P><P><P><PRE>
-- 
To unsubscribe: send e-mail to <A HREF="mailto:axp-list-request@redhat.com?subject=Re:%20Help!%20%20Can't%20recover!">axp-list-request@redhat.com</A> with
'unsubscribe' as the subject.  Do not send it to <A HREF="mailto:axp-list@redhat.com?subject=Re:%20Help!%20%20Can't%20recover!">axp-list@redhat.com</A>
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0935.html">Maurice Hilarius: "Re: What system id this"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0933.html">Martin Ostermann: "Re: Alpha Netscape"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0929.html">feedback@omnicall.net: "Re: Alpha Netscape"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0938.html">Michal Jaegermann: "Re: Help!  Can't recover!"</A>
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Sun Jan 24 1999 - 14:47:51 PST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
