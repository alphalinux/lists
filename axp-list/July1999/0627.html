<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: dump and restore in RH 6.0</TITLE>
<META NAME="Author" CONTENT="Jim Simmons (s4i-redhat-alpha@sws6.ctd.ornl.gov)">
<META NAME="Subject" CONTENT="Re: dump and restore in RH 6.0">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: dump and restore in RH 6.0</H1>
<HR>
<P>
<!-- received="Fri Jul 30 14:24:41 1999" -->
<!-- isoreceived="19990730212441" -->
<!-- sent="Fri, 30 Jul 1999 09:55:02 -0400" -->
<!-- isosent="19990730135502" -->
<!-- name="Jim Simmons" -->
<!-- email="s4i-redhat-alpha@sws6.ctd.ornl.gov" -->
<!-- subject="Re: dump and restore in RH 6.0" -->
<!-- id="19990730095502.B3031@sws6.ctd.ornl.gov" -->
<!-- inreplyto="199907262229.SAA12000@forum.swarthmore.edu" -->
<STRONG>Subject: </STRONG>Re: dump and restore in RH 6.0<BR>
<STRONG>From: </STRONG>Jim Simmons (<EM>s4i-redhat-alpha@sws6.ctd.ornl.gov</EM>)<BR>
<STRONG>Date: </STRONG>Fri Jul 30 1999 - 06:55:02 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#627">[ date ]</A>
<A HREF="index.html#627">[ thread ]</A>
<A HREF="subject.html#627">[ subject ]</A>
<A HREF="author.html#627">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0628.html">Michael Sloan: "MILO/Install Problem With XL-233"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0626.html">izaak bozof: "Re: Bootable CD"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0539.html">Alex Vorobiev: "Re: dump and restore in RH 6.0"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0539.html">Jim Simmons: "Re: dump and restore in RH 6.0"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
I haven't had time to look into it, but I suspect the problem may be related
<BR>
to the definition of time_t changing.  I seem to remember seeing things that 
<BR>
indicated problems with this for other things.  Basically, programs are
<BR>
assuming the wrong size for time_t.  time_t is defined to be an unsigned
<BR>
long, which on the alpha is 8 bytes.  I'd bet dump/restore are assuming
<BR>
something is actually an int (4 bytes) when they shouldn't.            
<BR>
<P>Jim
<BR>
<P>On Mon, Jul 26, 1999 at 06:29:01PM -0400, Alex Vorobiev wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt;  well, i tried using an older version of dump, to no avail.  dump-0.3-17
</EM><BR>
<EM>&gt;  rpm does not install, apparently 'cause of the c lib incompatability
</EM><BR>
<EM>&gt;  (a guess).
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  so, i tried recompiling dump-0.3 from scratch.  i also thought that
</EM><BR>
<EM>&gt;  e2fsprogs-devel is at fault, since dump/restore need to compile against
</EM><BR>
<EM>&gt;  it.  so, also rebuilt the older e2fsporgs-devel and here is what i got:
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  dump version		e2fsprogs version	can read own dumps
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  0.3-17 			1.12-2			no
</EM><BR>
<EM>&gt;  0.3-17			1.14-4			no
</EM><BR>
<EM>&gt;  0.4b4-7			1.12-2			no
</EM><BR>
<EM>&gt;  0.4b4-7			1.14-4			no
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  i am at a loss as to what could be the problem...
</EM><BR>
<EM>&gt;  the relevant RedHat bugs have been assigned in May, and haven't been
</EM><BR>
<EM>&gt;  updated since then.  i am guessing they are considered low priority.
</EM><BR>
<EM>&gt;  in the meantime, dump or restore or both (most likely) are broken on
</EM><BR>
<EM>&gt;  alpha.
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  anyone has any ideas?
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  
</EM><BR>
<EM>&gt;  &gt; same here.  i can dump successfully, but my alpha (alphaserver 1000,
</EM><BR>
<EM>&gt;  &gt; mikasa redhat 6.0) cannot read it's own tapes - &quot;Tape is not a dump
</EM><BR>
<EM>&gt;  &gt; tape&quot;.  It also fails to read i386/RH6.0 dump tapes with the same
</EM><BR>
<EM>&gt;  error
</EM><BR>
<EM>&gt;  &gt; message.
</EM><BR>
<EM>&gt;  &gt;
</EM><BR>
<EM>&gt;  &gt; my i686(PII)RH6.0 restore cannot read tapes made on the alpha
</EM><BR>
<EM>&gt;  described
</EM><BR>
<EM>&gt;  &gt; above, again with the same error message.
</EM><BR>
<EM>&gt;  &gt;
</EM><BR>
<EM>&gt;  &gt; looks like there is a problem with dump-0.4.x rpm on both alpha and
</EM><BR>
<EM>&gt;  &gt; sparc.  there are two opened bugs on redhat bugzilla:
</EM><BR>
<EM>&gt;  &gt;
</EM><BR>
<EM>&gt;  &gt; 2989  &quot;dump 0f - / | restore rf -&quot; fails
</EM><BR>
<EM>&gt;  &gt; 3190  RH6.0 fails to restore dumps made with RH5.2's dump
</EM><BR>
<EM>&gt;  &gt;
</EM><BR>
<EM>&gt;  &gt; that are being worked on, from what i can tell.  also, from one of the
</EM><BR>
<EM>&gt;  &gt; above bugs it follows that you can downgrade to dump-0.3.x, and that
</EM><BR>
<EM>&gt;  &gt; should work
</EM><BR>
<EM>&gt;  &gt;
</EM><BR>
<EM>&gt;  &gt; In article &lt;7mkv6b$c62$1@netnews.upenn.edu&gt;,
</EM><BR>
<EM>&gt;  &gt;   sluskyb@force.stwing.upenn.edu (Ben Slusky) wrote:
</EM><BR>
<EM>&gt;  &gt; &gt; Am I the only one having problems with dump and restore? Whenever
</EM><BR>
<EM>&gt;  &gt; &gt; I try to restore from a dump (even when the dump was to a file on
</EM><BR>
<EM>&gt;  &gt; disk)
</EM><BR>
<EM>&gt;  &gt; &gt; restore tells me 'Tape is not a dump tape'.
</EM><BR>
<EM>&gt;  &gt; &gt;
</EM><BR>
<EM>&gt;  &gt; &gt; I tried doing dumps to files on my Alpha and a friend's Pentium
</EM><BR>
<EM>&gt;  &gt; &gt; (both RH 6.0). Neither could restore the other's dumps, however, the
</EM><BR>
<EM>&gt;  &gt; &gt; Pentium could restore its own dumps. So I'm inclined to think that
</EM><BR>
<EM>&gt;  &gt; &gt; there's something seriously wrong with both /sbin/dump and
</EM><BR>
<EM>&gt;  &gt; /sbin/restore
</EM><BR>
<EM>&gt;  &gt; &gt; on my Alpha.
</EM><BR>
<EM>&gt;  &gt; &gt;
</EM><BR>
<EM>&gt;  &gt; &gt; Is it just my Alpha, or everybody's Alpha?
</EM><BR>
<EM>&gt;  &gt; &gt;
</EM><BR>
<EM>&gt;  &gt; &gt; BTW, 2.2.4-ac1
</EM><BR>
<EM>&gt;  &gt; &gt;
</EM><BR>
<EM>&gt;  &gt; &gt; TIA,
</EM><BR>
<EM>&gt;  &gt; &gt; -
</EM><BR>
<EM>&gt;  &gt; &gt; -Ben
</EM><BR>
<EM>&gt;  &gt; &gt;
</EM><BR>
<EM>&gt;  &gt; &gt; --
</EM><BR>
<EM>&gt;  &gt; &gt; Ben Slusky			| There's no such thing as a
</EM><BR>
<EM>&gt;  &gt; &gt; sluskyb@stwing.upenn.edu	| stupid question, only stupid
</EM><BR>
<EM>&gt;  &gt; &gt; &quot;will program for food&quot;		| people.
</EM><BR>
<EM>&gt;  &gt; &gt; PGP keyID E2C2D949		|	www.userfriendly.org
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; -- 
</EM><BR>
<EM>&gt; To unsubscribe: send e-mail to axp-list-request@redhat.com with
</EM><BR>
<EM>&gt; 'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0628.html">Michael Sloan: "MILO/Install Problem With XL-233"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0626.html">izaak bozof: "Re: Bootable CD"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0539.html">Alex Vorobiev: "Re: dump and restore in RH 6.0"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0539.html">Jim Simmons: "Re: dump and restore in RH 6.0"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sun Aug 01 1999 - 06:12:37 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
