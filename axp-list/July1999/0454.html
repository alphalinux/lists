<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: [linux-fbdev] Re: bug in fbmem.c,</TITLE>
<META NAME="Author" CONTENT="Jes Sorensen (Jes.Sorensen@cern.ch)">
<META NAME="Subject" CONTENT="Re: [linux-fbdev] Re: bug in fbmem.c,">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: [linux-fbdev] Re: bug in fbmem.c,</H1>
<HR>
<P>
<!-- received="Fri Jul 23 12:46:37 1999" -->
<!-- isoreceived="19990723194637" -->
<!-- sent="08 Jul 1999 19:46:34 +0200" -->
<!-- isosent="19990708174634" -->
<!-- name="Jes Sorensen" -->
<!-- email="Jes.Sorensen@cern.ch" -->
<!-- subject="Re: [linux-fbdev] Re: bug in fbmem.c," -->
<!-- id="933513153.0000@hypermail.dummy" -->
<!-- inreplyto="Tue, 22 Jun 1999 08:16:16 -0400&quot;" -->
<STRONG>Subject: </STRONG>Re: [linux-fbdev] Re: bug in fbmem.c,<BR>
<STRONG>From: </STRONG>Jes Sorensen (<EM>Jes.Sorensen@cern.ch</EM>)<BR>
<STRONG>Date: </STRONG>Thu Jul 08 1999 - 10:46:34 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#454">[ date ]</A>
<A HREF="index.html#454">[ thread ]</A>
<A HREF="subject.html#454">[ subject ]</A>
<A HREF="author.html#454">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0455.html">Jemiolo, John: "RE: Linux Install on AlphaServer 4X00 5/400 21164 400MHz"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0453.html">Igor Schein: "RedHat installation"</A>
<!-- nextthread="start" -->
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0136.html">Jes Sorensen: "Re: [linux-fbdev] Re: bug in fbmem.c,"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
<EM>&gt;&gt;&gt;&gt;&gt; &quot;Jeff&quot; == Jeff Garzik &lt;jgarzik@pobox.com&gt; writes:
</EM><BR>
<P><EM>Jeff&gt; Vignaud Jean-Baptiste wrote:
</EM><BR>
<EM>&gt;&gt; I'v traced a little bug in the fbmem code. i don't know if it's the
</EM><BR>
<EM>&gt;&gt; right way to correct it, but on my SX164 alpha this seems to work.
</EM><BR>
<P><EM>Jeff&gt; Good catch!  I guess I shouldn't only use the sight of a penguin
</EM><BR>
<EM>Jeff&gt; and running XF86_FBDev as tests.  ;-)
</EM><BR>
<P><EM>Jeff&gt; You cannot eliminate the copy_to_user() and copy_from_user()
</EM><BR>
<EM>Jeff&gt; calls.  I don't recall what type of addresses copy_xxx_user()
</EM><BR>
<EM>Jeff&gt; wants, but I suspect you either need a copy buffer
</EM><BR>
<P><EM>Jeff&gt; 	memcpy_fromio (bufruf, base_addr+p, copy_size); if
</EM><BR>
<EM>Jeff&gt; (copy_to_user(buf, bufruf, copy_size)) ...
</EM><BR>
<P><EM>Jeff&gt; or maybe you can get away with some variant of
</EM><BR>
<P><EM>Jeff&gt; 	if (copy_to_user(buf, __phys_to_virt (base_addr+p), copy_size)
</EM><BR>
<EM>Jeff&gt; ...
</EM><BR>
<P>You generally cannot apply phys_to_virt to frame buffer memory
<BR>
addresses, you are not guaranteed a 1-&gt;1 mapping of it.
<BR>
<P>Jes
<BR>
<P>-
<BR>
To unsubscribe from this list: send the line &quot;unsubscribe linux-kernel&quot; in
<BR>
the body of a message to majordomo@vger.rutgers.edu
<BR>
Please read the FAQ at <A HREF="http://www.tux.org/lkml/">http://www.tux.org/lkml/</A>
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0455.html">Jemiolo, John: "RE: Linux Install on AlphaServer 4X00 5/400 21164 400MHz"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0453.html">Igor Schein: "RedHat installation"</A>
<!-- nextthread="start" -->
<LI><STRONG>Maybe reply:</STRONG> <A HREF="0136.html">Jes Sorensen: "Re: [linux-fbdev] Re: bug in fbmem.c,"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sun Aug 01 1999 - 06:12:36 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
