<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>axp-list: Re: Joking PCI bridges: still another one.</TITLE>
<META NAME="Author" CONTENT="Paul Jakma (paul@clubi.ie)">
<META NAME="Subject" CONTENT="Re: Joking PCI bridges: still another one.">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Joking PCI bridges: still another one.</H1>
<HR>
<P>
<!-- received="Sat Jul 24 21:03:05 1999" -->
<!-- isoreceived="19990725040305" -->
<!-- sent="Sat, 24 Jul 1999 22:01:24 +0100 (IST)" -->
<!-- isosent="19990724210124" -->
<!-- name="Paul Jakma" -->
<!-- email="paul@clubi.ie" -->
<!-- subject="Re: Joking PCI bridges: still another one." -->
<!-- id="Pine.LNX.4.10.9907242147040.14960-100000@hibernia.spin.ie" -->
<!-- inreplyto="Pine.LNX.3.95.990724205312.2293A-100000@localhost" -->
<STRONG>Subject: </STRONG>Re: Joking PCI bridges: still another one.<BR>
<STRONG>From: </STRONG>Paul Jakma (<EM>paul@clubi.ie</EM>)<BR>
<STRONG>Date: </STRONG>Sat Jul 24 1999 - 14:01:24 PDT
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#504">[ date ]</A>
<A HREF="index.html#504">[ thread ]</A>
<A HREF="subject.html#504">[ subject ]</A>
<A HREF="author.html#504">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0505.html">amal@summnet.com: "AutoResponder"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0503.html">amal@summnet.com: "AutoResponder"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Sat, 24 Jul 1999, Gerard Roudier wrote:
<BR>
&nbsp;&nbsp;On Sat, 24 Jul 1999, Paul Jakma wrote:
<BR>
&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;The latest -ac patches incorporates a wrong change in the alpha specific
<BR>
&nbsp;&nbsp;code that breaks the ncr53c8xx driver and most of the sym53c8xx driver
<BR>
&nbsp;&nbsp;versions for ALPHA. This change may be reverted and, anyway, a fix will be
<BR>
&nbsp;&nbsp;supplied in further diffs (not by me). 
<BR>
&nbsp;&nbsp;
<BR>
So it's a known problem? (phew... relief!) this has been bugging me
<BR>
for weeks, and noone could tell me exactly why -ac wouldn't boot. At
<BR>
last someone knows why! :)
<BR>
<P>You can't supply a diff, but would you know where in the Alpha
<BR>
specific code the change is? So that i can try to revert back to the
<BR>
2.2.10 behaviour.
<BR>
<P>(I need 2.2.11pre cause I've been having terrible problem's with
<BR>
module loading oopsing, and 2.2.11pre2 apparently has all the fixes 
<BR>
- but so far i can't get it to recognise the sym53c875!).
<BR>
<P>&nbsp;&nbsp;The offending change had the effect to prevent PCI transactions targetted 
<BR>
&nbsp;&nbsp;from a PCI device to the PCI bus address space to work as expected.
<BR>
&nbsp;&nbsp;The drivers affected are, for example, those that let the PCI
<BR>
&nbsp;&nbsp;device self-master itself from the PCI BUS.
<BR>
&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;Latest sym53c8xx driver version didn't use anymore PCI self-mastering, but
<BR>
&nbsp;&nbsp;the ncr53c8xx driver cannot work without this feature since the support of
<BR>
&nbsp;&nbsp;old NCR chips precludes use of LOAD/STORE instructions that hadn't yet
<BR>
&nbsp;&nbsp;been invented for this chip family at the time of earliest NCR53C8XX
<BR>
&nbsp;&nbsp;chips. 
<BR>
<P>so if i grab the latest sym53c8xx from your site it should work on
<BR>
Alpha and 2.2.?-ac?/2.2.11pre2/2.3? Excellent!
<BR>
&nbsp;&nbsp;
<BR>
<EM>  &gt; The other compiled in drives seem to detect their controllers fine,
</EM><BR>
<EM>  &gt; eg IDE.
</EM><BR>
&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;The linux ncr53c8xx driver and other drivers that deal with this chip
<BR>
&nbsp;&nbsp;family are perhaps the only drivers that are affected (ALPHA only). 
<BR>
&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;And by the way, the sym53c8xx driver (recent versions) is probably the 
<BR>
&nbsp;&nbsp;only driver for SYM53C8XX chips that does not require PCI self-mastering.
<BR>
&nbsp;&nbsp;
<BR>
Ok. Thanks very much Gerard for the info! I'll try your latest
<BR>
SYM53C8XX.
<BR>
<P>I'm also cc'ing this onto the Redhat Alpha list, as it might be
<BR>
useful info for other alpha users. Also, do any of the Linux-Alpha
<BR>
coders have a fix for the PCI Self-Mastering breakage that Gerard
<BR>
reffered to?
<BR>
<P>regards,
<BR>
<PRE>
-- 
Paul Jakma
paul@clubi.ie	<A HREF="http://hibernia.clubi.ie">http://hibernia.clubi.ie</A>
PGP5 key: <A HREF="http://www.clubi.ie/jakma/publickey.txt">http://www.clubi.ie/jakma/publickey.txt</A>
-------------------------------------------
Fortune:
Immigration is the sincerest form of flattery.
		-- Jack Paar
<P>-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0505.html">amal@summnet.com: "AutoResponder"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0503.html">amal@summnet.com: "AutoResponder"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.www.fts.frontec.se/~dast/hypermail/">hypermail 2a22</A> 
: <EM>Sun Aug 01 1999 - 06:12:37 PDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
