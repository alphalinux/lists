<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Re: No floppy controller found?</H1> 
	
<!-- received="Wed Oct 18 02:54:35 2000" -->
<!-- isoreceived="20001018095435" -->
<!-- sent="Tue, 17 Oct 2000 07:58:16 -0400 (EDT)" -->
<!-- isosent="20001017115816" -->
<!-- name="Rich Payne" -->
<!-- email="rdp@talisman.alphalinux.org" -->
<!-- subject="Re: No floppy controller found?" -->
<!-- id="Pine.LNX.4.21.0010170757280.30192-100000@talisman.mv.com" -->
<!-- inreplyto="39EBCFD5.B1324649@boeing.com" -->
<STRONG>Subject: </STRONG>Re: No floppy controller found?<BR>
<STRONG>From: </STRONG>Rich Payne (<EM>rdp@talisman.alphalinux.org</EM>)<BR>
<STRONG>Date: </STRONG>Tue Oct 17 04:58:16 2000
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#171">[ date ]</A>
<A HREF="index.shtml#171">[ thread ]</A>
<A HREF="subject.shtml#171">[ subject ]</A>
<A HREF="author.shtml#171">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0172.shtml">Kiszka, Anthony: "RE: Raptor Reflex 433"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0170.shtml">Christian Iseli: "Re: hda: lost interrupt"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0166.shtml">Paul Allen: "No floppy controller found?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0166.shtml">Rich Payne: "Re: No floppy controller found?"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
This is somewhat of a known issue on Tsunami based machines. Here's the
<BR>
patch that fixes it (I think):
<BR>
<P>--- ../sw/linux/v2.2/linux/arch/alpha/kernel/smc37c669.c	Tue Apr 20
<BR>
19:19:50 1999
<BR>
+++ arch/alpha/kernel/smc37c669.c	Mon Dec 20 15:30:12 1999
<BR>
@@ -2587,6 +2587,9 @@
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FDC_DRQ
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMC37c669_enable_device( FLOPPY_0 );
<BR>
+
<BR>
+/* Unstable floppy problem */
<BR>
+	outb(0xc, 0x3f2);
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMC37c669_disable_device( IDE_0 );
<BR>
<P>--rdp
<BR>
<P>On Mon, 16 Oct 2000, Paul Allen wrote:
<BR>
<P><EM>&gt; My group recently liberated a handful of orphan Symbolics-branded
</EM><BR>
<EM>&gt; EV6/500 XP1000 machines.  We've pressed them into service as
</EM><BR>
<EM>&gt; desktops running RedHat 6.2, but have noticed that the floppy devices
</EM><BR>
<EM>&gt; appear not to be working.  The kernel says things like this during
</EM><BR>
<EM>&gt; boot:
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Oct 16 15:09:11 bluesky kernel: Floppy drive(s): fd0 is 2.88M
</EM><BR>
<EM>&gt; Oct 16 15:09:11 bluesky kernel: floppy0: no floppy controllers found
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; If you try to touch /dev/fd0, you get a &quot;no such device&quot; error.  I
</EM><BR>
<EM>&gt; understand the 2.88M claim is an artifact.  From perusing the floppy
</EM><BR>
<EM>&gt; driver sources, I infer that the &quot;no floppy controllers&quot; message
</EM><BR>
<EM>&gt; means none of the probes aimed at identifying the type of controller
</EM><BR>
<EM>&gt; worked.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Can anybody point me in a direction that might lead to working
</EM><BR>
<EM>&gt; floppy drives?  Are these machines really that exotic?  Maybe they'd
</EM><BR>
<EM>&gt; be more valuable as trade-in on a really big Beowulf?  :-)
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Thanks!
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Paul Allen
</EM><BR>
<EM>&gt; 
</EM><BR>
<P><PRE>
-- 
Rich Payne
rpayne@alphalinux.org			www.alphalinux.org
<P><P><P>_______________________________________________
Axp-list mailing list
Axp-list@redhat.com
https://listman.redhat.com/mailman/listinfo/axp-list
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0172.shtml">Kiszka, Anthony: "RE: Raptor Reflex 433"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0170.shtml">Christian Iseli: "Re: hda: lost interrupt"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0166.shtml">Paul Allen: "No floppy controller found?"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0166.shtml">Rich Payne: "Re: No floppy controller found?"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Thu Nov  2 08:06:27 2000 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
