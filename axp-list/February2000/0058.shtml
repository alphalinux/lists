<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Axp-List Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Axp-List Archive<BR> Mysterious exec bug [Re: axp patch for 2.3.41]</H1> 
	
<!-- received="Fri Feb 04 14:53:53 2000" -->
<!-- isoreceived="20000204225353" -->
<!-- sent="Fri, 4 Feb 2000 11:14:22 +0300" -->
<!-- isosent="20000204081422" -->
<!-- name="Ivan Kokshaysky" -->
<!-- email="ink@jurassic.park.msu.ru" -->
<!-- subject="Mysterious exec bug [Re: axp patch for 2.3.41]" -->
<!-- id="20000204111422.A1286@jurassic.park.msu.ru" -->
<!-- inreplyto="20000202001708.A393@Marvin.DL8BCU.ampr.org" -->
<STRONG>Subject: </STRONG>Mysterious exec bug [Re: axp patch for 2.3.41]<BR>
<STRONG>From: </STRONG>Ivan Kokshaysky (<EM>ink@jurassic.park.msu.ru</EM>)<BR>
<STRONG>Date: </STRONG>Fri Feb  4 00:14:22 2000
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#58">[ date ]</A>
<A HREF="index.shtml#58">[ thread ]</A>
<A HREF="subject.shtml#58">[ subject ]</A>
<A HREF="author.shtml#58">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0059.shtml">Kevin Wood: "AXP KICKSTART Succeeded"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0057.shtml">Michal Jaegermann: "Emacs from RH 6.1 throwing unaligned access - solved"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0020.shtml">Thorsten Kranzkowski: "Re: axp patch for 2.3.41"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0012.shtml">Richard Henderson: "Re: axp patch for 2.3.41"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0020.shtml">Ivan Kokshaysky: "Mysterious exec bug [Re: axp patch for 2.3.41]"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
On Wed, Feb 02, 2000 at 12:17:08AM +0000, Thorsten Kranzkowski wrote:
<BR>
<EM>&gt; &gt; &gt; DU-netscape (stuck right after exec, with 100% cpu-time).
</EM><BR>
<EM>&gt; &gt; 
</EM><BR>
<EM>&gt; &gt; Can you strace it?
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; of course :-) :
</EM><BR>
<EM>&gt; 
</EM><BR>
<P>[ lots of info deleted ]
<BR>
<P>I've found that any ecoff executable with .text address =
<BR>
(any_address | 0x200000000) behaves exactly like Thorsten described
<BR>
(100% system time, not even jumping into the executable).
<BR>
But it's killable.
<BR>
Situation is much worse with elf binaries whose start address has
<BR>
this evil bit set, they cause hard lockup.
<BR>
The bug appeared somewhere between 2.3.23 and 2.3.30.
<BR>
<P>[ink@jurassic tst]$ cat a.c
<BR>
int __start()
<BR>
{
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;
<BR>
}
<BR>
[ink@jurassic tst]$ gcc -c -o a.o a.c
<BR>
[ink@jurassic tst]$ ld -oformat ecoff-littlealpha -o a a.o -Ttext 0x124000001c0
<BR>
[ink@jurassic tst]$ ./a
<BR>
Segmentation fault (core dumped)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^ thats ok, return address is bogus
<BR>
[ink@jurassic tst]$ ld -oformat ecoff-littlealpha -o a a.o -Ttext 0x126000001c0
<BR>
[ink@jurassic tst]$ ./a
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^ stuck here...
<BR>
^C
<BR>
[ink@jurassic tst]$
<BR>
<P>Any ideas?
<BR>
<P>Ivan.
<BR>
<P><PRE>
-- 
To unsubscribe: send e-mail to axp-list-request@redhat.com with
'unsubscribe' as the subject.  Do not send it to axp-list@redhat.com
</PRE>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0059.shtml">Kevin Wood: "AXP KICKSTART Succeeded"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0057.shtml">Michal Jaegermann: "Emacs from RH 6.1 throwing unaligned access - solved"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0020.shtml">Thorsten Kranzkowski: "Re: axp patch for 2.3.41"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0012.shtml">Richard Henderson: "Re: axp patch for 2.3.41"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0020.shtml">Ivan Kokshaysky: "Mysterious exec bug [Re: axp patch for 2.3.41]"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Wed Mar  1 06:26:22 2000 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
