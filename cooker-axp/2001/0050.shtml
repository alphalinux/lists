<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"> 
     <HTML> 
     <HEAD> 
     <TITLE>Mandrake Cooker AXP Archive</TITLE> 
     <LINK REV="made" HREF="mailto:mailto-address"> 
     <HEAD> 
     <BODY BGCOLOR="#DC9D33" TEXT="#000000" LINK="#DD0000" ALINK="#CC0000" VLINK="#CC0000">
		<CENTER>  <!--#exec cgi="/cgi-bin/banmat1.cgi"--></CENTER>

     <H1 ALIGN=CENTER>Mandrake Cooker AXP Archive<BR> Re: [CHRPM] kernel-2.4.13-1mdk</H1> 
	
<!-- received="Tue Oct 30 23:24:38 2001" -->
<!-- isoreceived="20011031072438" -->
<!-- sent="Mon, 29 Oct 2001 23:04:05 +0800" -->
<!-- isosent="20011029150405" -->
<!-- name="Stefan van der Eijk" -->
<!-- email="stefan@eijk.nu" -->
<!-- subject="Re: [CHRPM] kernel-2.4.13-1mdk" -->
<!-- id="3BDD6FE5.6060205@eijk.nu" -->
<!-- inreplyto="20011028144853.B00845F313@kenobi.mandrakesoft.com" -->
<STRONG>Subject: </STRONG>Re: [CHRPM] kernel-2.4.13-1mdk<BR>
<STRONG>From: </STRONG>Stefan van der Eijk (<EM>stefan@eijk.nu</EM>)<BR>
<STRONG>Date: </STRONG>Mon Oct 29 07:04:05 2001
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.shtml#50">[ date ]</A>
<A HREF="index.shtml#50">[ thread ]</A>
<A HREF="subject.shtml#50">[ subject ]</A>
<A HREF="author.shtml#50">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0051.shtml">Mandrake Team: "Mandrake Linux Community Newsletter - Issue #17"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0049.shtml">Geoffrey Lee: "Re: building Qt on alpha"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Hi Juan,
<BR>
<P>I'm trying to get the kernel to compile on the alpha (yet again).
<BR>
<P>Until now I've encountered the following:
<BR>
<P>2.4.13-1mdk stops compiling:
<BR>
<P><A HREF="http://cm61-10-20-87.hkcable.com.hk/build/cooker/i586/problem/ksetiwatch-2.2.2-4mdk.src.rpm.txt">http://cm61-10-20-87.hkcable.com.hk/build/cooker/i586/problem/ksetiwatch-2.2.2-4mdk.src.rpm.txt</A>
<BR>
<P>/usr/bin/gcc -D__KERNEL__ -I/users/cooker/RPM/BUILD/linux/include  -Wall -Wstrict-prototypes -Wno-trigraphs -O2 -fno-strict-aliasing -fno-common -fomit-frame-pointer -pipe -mno-fp-regs -ffixed-8 -mcpu=ev5 -Wa,-mev6    -c -o ide-disk.o ide-disk.c
<BR>
ide-disk.c: In function `init_idedisk_capacity':
<BR>
ide-disk.c:972: warning: unused variable `set_max_ext'
<BR>
ide-disk.c: At top level:
<BR>
ide-disk.c:833: warning: `idedisk_read_native_max_address_ext' defined but not used
<BR>
ide-disk.c:899: warning: `idedisk_set_max_address_ext' defined but not used
<BR>
/usr/bin/gcc -D__KERNEL__ -I/users/cooker/RPM/BUILD/linux/include  -Wall -Wstrict-prototypes -Wno-trigraphs -O2 -fno-strict-aliasing -fno-common -fomit-frame-pointer -pipe -mno-fp-regs -ffixed-8 -mcpu=ev5 -Wa,-mev6    -c -o ide-cd.o ide-cd.c
<BR>
rm -f idedriver.o
<BR>
ld  -r -o idedriver.o ide-mod.o ide-probe-mod.o ide-disk.o ide-cd.o ide-service.o
<BR>
ld: cannot open ide-service.o: No such file or directory
<BR>
make[3]: *** [idedriver.o] Error 1
<BR>
make[3]: Leaving directory `/users/cooker/RPM/BUILD/linux/drivers/ide'
<BR>
make[2]: *** [first_rule] Error 2
<BR>
make[2]: Leaving directory `/users/cooker/RPM/BUILD/linux/drivers/ide'
<BR>
make[1]: *** [_subdir_ide] Error 2
<BR>
make[1]: Leaving directory `/users/cooker/RPM/BUILD/linux/drivers'
<BR>
make: *** [_dir_drivers] Error 2
<BR>
error: Bad exit status from /users/cooker/tmp/rpm-tmp.12544 (%build)
<BR>
<P>I've fixed this by modifying the alpha .config files:
<BR>
<P># CONFIG_BLK_DEV_SERVICE is not set
<BR>
<P>Now I'm bumping into this:
<BR>
<P>/usr/bin/gcc -D__KERNEL__ -I/users/stefan/RPM/BUILD/linux/include  -Wall -Wstrict-prototypes -Wno-trigraphs -O2 -fno-strict-aliasing -fno-common -fomit-frame-pointer -pipe -mno-fp-regs -ffixed-8 -mcpu=ev5 -Wa,-mev6    -c -o time.o time.c
<BR>
time.c: In function `validate_cc_value':
<BR>
time.c:213: parse error before `return'
<BR>
make[1]: *** [time.o] Error 1
<BR>
make[1]: Leaving directory `/users/stefan/RPM/BUILD/linux/arch/alpha/kernel'
<BR>
make: *** [_dir_arch/alpha/kernel] Error 2
<BR>
error: Bad exit status from /users/stefan/tmp/rpm-tmp.22295 (%build)
<BR>
<P>It's caused by the 2.4.13-ac2 patch. There seems to be an alpha build fix in -ac3. I'll w8 until that one is in the mdk kernel.
<BR>
<P>Stefan
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0051.shtml">Mandrake Team: "Mandrake Linux Community Newsletter - Issue #17"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0049.shtml">Geoffrey Lee: "Re: building Qt on alpha"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR> 
     <P> 
     <SMALL> 
     <EM> 
     This archive was generated by  <A HREF="http://www.landfield.com/hypermail">hypermail version 2a22 </A> on Sat Dec  8 16:00:06 2001 PST <BR>
	Send any problems or questions about this archive to <A HREF="mailto:webmaster@alphalinux.org">webmaster@alphalinux.org</A>. 
     </EM> 
     </SMALL> 
     </BODY> 
     </HTML> 
